(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))A(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&A(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function A(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w3={exports:{}},Rh={},C3={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),l9=Symbol.for("react.portal"),a9=Symbol.for("react.fragment"),u9=Symbol.for("react.strict_mode"),c9=Symbol.for("react.profiler"),f9=Symbol.for("react.provider"),d9=Symbol.for("react.context"),h9=Symbol.for("react.forward_ref"),p9=Symbol.for("react.suspense"),g9=Symbol.for("react.memo"),m9=Symbol.for("react.lazy"),Jv=Symbol.iterator;function B9(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var v3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S3=Object.assign,F3={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=F3,this.updater=n||v3}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E3(){}E3.prototype=Wl.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=F3,this.updater=n||v3}var my=gy.prototype=new E3;my.constructor=gy;S3(my,Wl.prototype);my.isPureReactComponent=!0;var Yv=Array.isArray,Q3=Object.prototype.hasOwnProperty,By={current:null},U3={key:!0,ref:!0,__self:!0,__source:!0};function x3(t,e,n){var A,r={},i=null,s=null;if(e!=null)for(A in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Q3.call(e,A)&&!U3.hasOwnProperty(A)&&(r[A]=e[A]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(A in o=t.defaultProps,o)r[A]===void 0&&(r[A]=o[A]);return{$$typeof:ic,type:t,key:i,ref:s,props:r,_owner:By.current}}function y9(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function w9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $v=/\/+/g;function D0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w9(""+t.key):e.toString(36)}function hd(t,e,n,A,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ic:case l9:s=!0}}if(s)return s=t,r=r(s),t=A===""?"."+D0(s,0):A,Yv(r)?(n="",t!=null&&(n=t.replace($v,"$&/")+"/"),hd(r,e,n,"",function(c){return c})):r!=null&&(yy(r)&&(r=y9(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace($v,"$&/")+"/")+t)),e.push(r)),1;if(s=0,A=A===""?".":A+":",Yv(t))for(var o=0;o<t.length;o++){i=t[o];var l=A+D0(i,o);s+=hd(i,e,n,l,r)}else if(l=B9(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=A+D0(i,o++),s+=hd(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function hf(t,e,n){if(t==null)return t;var A=[],r=0;return hd(t,A,"","",function(i){return e.call(n,i,r++)}),A}function C9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},pd={transition:null},v9={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:pd,ReactCurrentOwner:By};function k3(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:hf,forEach:function(t,e,n){hf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hf(t,function(){e++}),e},toArray:function(t){return hf(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Wl;_e.Fragment=a9;_e.Profiler=c9;_e.PureComponent=gy;_e.StrictMode=u9;_e.Suspense=p9;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v9;_e.act=k3;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var A=S3({},t.props),r=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=By.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Q3.call(e,l)&&!U3.hasOwnProperty(l)&&(A[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)A.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];A.children=o}return{$$typeof:ic,type:t.type,key:r,ref:i,props:A,_owner:s}};_e.createContext=function(t){return t={$$typeof:d9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f9,_context:t},t.Consumer=t};_e.createElement=x3;_e.createFactory=function(t){var e=x3.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:h9,render:t}};_e.isValidElement=yy;_e.lazy=function(t){return{$$typeof:m9,_payload:{_status:-1,_result:t},_init:C9}};_e.memo=function(t,e){return{$$typeof:g9,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=pd.transition;pd.transition={};try{t()}finally{pd.transition=e}};_e.unstable_act=k3;_e.useCallback=function(t,e){return Tn.current.useCallback(t,e)};_e.useContext=function(t){return Tn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Tn.current.useEffect(t,e)};_e.useId=function(){return Tn.current.useId()};_e.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Tn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};_e.useRef=function(t){return Tn.current.useRef(t)};_e.useState=function(t){return Tn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Tn.current.useTransition()};_e.version="18.3.1";C3.exports=_e;var ae=C3.exports;const Ke=rc(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9=ae,F9=Symbol.for("react.element"),E9=Symbol.for("react.fragment"),Q9=Object.prototype.hasOwnProperty,U9=S9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x9={key:!0,ref:!0,__self:!0,__source:!0};function _3(t,e,n){var A,r={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(A in e)Q9.call(e,A)&&!x9.hasOwnProperty(A)&&(r[A]=e[A]);if(t&&t.defaultProps)for(A in e=t.defaultProps,e)r[A]===void 0&&(r[A]=e[A]);return{$$typeof:F9,type:t,key:i,ref:s,props:r,_owner:U9.current}}Rh.Fragment=E9;Rh.jsx=_3;Rh.jsxs=_3;w3.exports=Rh;var Be=w3.exports,I3={exports:{}},rA={},T3={exports:{}},M3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,q){var j=K.length;K.push(q);e:for(;0<j;){var de=j-1>>>1,$=K[de];if(0<r($,q))K[de]=q,K[j]=$,j=de;else break e}}function n(K){return K.length===0?null:K[0]}function A(K){if(K.length===0)return null;var q=K[0],j=K.pop();if(j!==q){K[0]=j;e:for(var de=0,$=K.length,ue=$>>>1;de<ue;){var ge=2*(de+1)-1,Re=K[ge],be=ge+1,b=K[be];if(0>r(Re,j))be<$&&0>r(b,Re)?(K[de]=b,K[be]=j,de=be):(K[de]=Re,K[ge]=j,de=ge);else if(be<$&&0>r(b,j))K[de]=b,K[be]=j,de=be;else break e}}return q}function r(K,q){var j=K.sortIndex-q.sortIndex;return j!==0?j:K.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,d=null,p=3,g=!1,m=!1,w=!1,F=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var q=n(c);q!==null;){if(q.callback===null)A(c);else if(q.startTime<=K)A(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function Q(K){if(w=!1,C(K),!m)if(n(l)!==null)m=!0,re(U);else{var q=n(c);q!==null&&ce(Q,q.startTime-K)}}function U(K,q){m=!1,w&&(w=!1,v(k),k=-1),g=!0;var j=p;try{for(C(q),d=n(l);d!==null&&(!(d.expirationTime>q)||K&&!H());){var de=d.callback;if(typeof de=="function"){d.callback=null,p=d.priorityLevel;var $=de(d.expirationTime<=q);q=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&A(l),C(q)}else A(l);d=n(l)}if(d!==null)var ue=!0;else{var ge=n(c);ge!==null&&ce(Q,ge.startTime-q),ue=!1}return ue}finally{d=null,p=j,g=!1}}var x=!1,M=null,k=-1,T=5,I=-1;function H(){return!(t.unstable_now()-I<T)}function P(){if(M!==null){var K=t.unstable_now();I=K;var q=!0;try{q=M(!0,K)}finally{q?V():(x=!1,M=null)}}else x=!1}var V;if(typeof E=="function")V=function(){E(P)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=P,V=function(){J.postMessage(null)}}else V=function(){F(P,0)};function re(K){M=K,x||(x=!0,V())}function ce(K,q){k=F(function(){K(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,re(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var j=p;p=q;try{return K()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var j=p;p=K;try{return q()}finally{p=j}},t.unstable_scheduleCallback=function(K,q,j){var de=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?de+j:de):j=de,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,K={id:f++,callback:q,priorityLevel:K,startTime:j,expirationTime:$,sortIndex:-1},j>de?(K.sortIndex=j,e(c,K),n(l)===null&&K===n(c)&&(w?(v(k),k=-1):w=!0,ce(Q,j-de))):(K.sortIndex=$,e(l,K),m||g||(m=!0,re(U))),K},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(K){var q=p;return function(){var j=p;p=q;try{return K.apply(this,arguments)}finally{p=j}}}})(M3);T3.exports=M3;var ru=T3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9=ae,tA=ru;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H3=new Set,Fu={};function ho(t,e){xl(t,e),xl(t+"Capture",e)}function xl(t,e){for(Fu[t]=e,t=0;t<e.length;t++)H3.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=Object.prototype.hasOwnProperty,_9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qv={},Zv={};function I9(t){return h1.call(Zv,t)?!0:h1.call(qv,t)?!1:_9.test(t)?Zv[t]=!0:(qv[t]=!0,!1)}function T9(t,e,n,A){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return A?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M9(t,e,n,A){if(e===null||typeof e>"u"||T9(t,e,n,A))return!0;if(A)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,A,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=A,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var wy=/[\-:]([a-z])/g;function Cy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wy,Cy);ln[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wy,Cy);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wy,Cy);ln[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vy(t,e,n,A){var r=ln.hasOwnProperty(e)?ln[e]:null;(r!==null?r.type!==0:A||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M9(e,n,r,A)&&(n=null),A||r===null?I9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,A=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,A?t.setAttributeNS(A,e,n):t.setAttribute(e,n))))}var ti=k9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pf=Symbol.for("react.element"),nl=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),b3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),m1=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),D3=Symbol.for("react.offscreen"),e2=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=e2&&t[e2]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,N0;function Ka(t){if(N0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N0=e&&e[1]||""}return`
`+N0+t}var L0=!1;function R0(t,e){if(!t||L0)return"";L0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var A=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){A=c}t.call(e.prototype)}else{try{throw Error()}catch(c){A=c}t()}}catch(c){if(c&&A&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=A.stack.split(`
`),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||r[s]!==i[o]){var l=`
`+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{L0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ka(t):""}function H9(t){switch(t.tag){case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return t=R0(t.type,!1),t;case 11:return t=R0(t.type.render,!1),t;case 1:return t=R0(t.type,!0),t;default:return""}}function B1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Al:return"Fragment";case nl:return"Portal";case p1:return"Profiler";case Sy:return"StrictMode";case g1:return"Suspense";case m1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O3:return(t.displayName||"Context")+".Consumer";case b3:return(t._context.displayName||"Context")+".Provider";case Fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ey:return e=t.displayName||null,e!==null?e:B1(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return B1(t(e))}catch{}}return null}function b9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B1(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O9(t){var e=N3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),A=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){A=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return A},setValue:function(s){A=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gf(t){t._valueTracker||(t._valueTracker=O9(t))}function L3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),A="";return t&&(A=N3(t)?t.checked?"true":"false":t.value),t=A,t!==n?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function y1(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t2(t,e){var n=e.defaultValue==null?"":e.defaultValue,A=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:A,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R3(t,e){e=e.checked,e!=null&&vy(t,"checked",e,!1)}function w1(t,e){R3(t,e);var n=ts(e.value),A=e.type;if(n!=null)A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(A==="submit"||A==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C1(t,e.type,n):e.hasOwnProperty("defaultValue")&&C1(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var A=e.type;if(!(A!=="submit"&&A!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function C1(t,e,n){(e!=="number"||Od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ga=Array.isArray;function ml(t,e,n,A){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&A&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,A&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function v1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ga(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function P3(t,e){var n=ts(e.value),A=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),A!=null&&(t.defaultValue=""+A)}function r2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mf,G3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,A,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,A,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mf=mf||document.createElement("div"),mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D9=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){D9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function V3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function z3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var A=n.indexOf("--")===0,r=V3(n,e[n],A);n==="float"&&(n="cssFloat"),A?t.setProperty(n,r):t[n]=r}}var N9=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F1(t,e){if(e){if(N9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function E1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q1=null;function Qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var U1=null,Bl=null,yl=null;function i2(t){if(t=lc(t)){if(typeof U1!="function")throw Error(W(280));var e=t.stateNode;e&&(e=zh(e),U1(t.stateNode,t.type,e))}}function W3(t){Bl?yl?yl.push(t):yl=[t]:Bl=t}function j3(){if(Bl){var t=Bl,e=yl;if(yl=Bl=null,i2(t),e)for(t=0;t<e.length;t++)i2(e[t])}}function X3(t,e){return t(e)}function J3(){}var P0=!1;function Y3(t,e,n){if(P0)return t(e,n);P0=!0;try{return X3(t,e,n)}finally{P0=!1,(Bl!==null||yl!==null)&&(J3(),j3())}}function Qu(t,e){var n=t.stateNode;if(n===null)return null;var A=zh(n);if(A===null)return null;n=A[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(t=t.type,A=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!A;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var x1=!1;if(Jr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){x1=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{x1=!1}function L9(t,e,n,A,r,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var su=!1,Dd=null,Nd=!1,k1=null,R9={onError:function(t){su=!0,Dd=t}};function P9(t,e,n,A,r,i,s,o,l){su=!1,Dd=null,L9.apply(R9,arguments)}function K9(t,e,n,A,r,i,s,o,l){if(P9.apply(this,arguments),su){if(su){var c=Dd;su=!1,Dd=null}else throw Error(W(198));Nd||(Nd=!0,k1=c)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s2(t){if(po(t)!==t)throw Error(W(188))}function G9(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,A=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(A=r.return,A!==null){n=A;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return s2(r),t;if(i===A)return s2(r),e;i=i.sibling}throw Error(W(188))}if(n.return!==A.return)n=r,A=i;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,A=i;break}if(o===A){s=!0,A=r,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,A=r;break}if(o===A){s=!0,A=i,n=r;break}o=o.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==A)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function q3(t){return t=G9(t),t!==null?Z3(t):null}function Z3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z3(t);if(e!==null)return e;t=t.sibling}return null}var eE=tA.unstable_scheduleCallback,o2=tA.unstable_cancelCallback,V9=tA.unstable_shouldYield,z9=tA.unstable_requestPaint,Ft=tA.unstable_now,W9=tA.unstable_getCurrentPriorityLevel,Uy=tA.unstable_ImmediatePriority,tE=tA.unstable_UserBlockingPriority,Ld=tA.unstable_NormalPriority,j9=tA.unstable_LowPriority,nE=tA.unstable_IdlePriority,Ph=null,pr=null;function X9(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Ph,t,void 0,(t.current.flags&128)===128)}catch{}}var zA=Math.clz32?Math.clz32:$9,J9=Math.log,Y9=Math.LN2;function $9(t){return t>>>=0,t===0?32:31-(J9(t)/Y9|0)|0}var Bf=64,yf=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var A=0,r=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~r;o!==0?A=Va(o):(i&=s,i!==0&&(A=Va(i)))}else s=n&~r,s!==0?A=Va(s):i!==0&&(A=Va(i));if(A===0)return 0;if(e!==0&&e!==A&&!(e&r)&&(r=A&-A,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(A&4&&(A|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=A;0<e;)n=31-zA(e),r=1<<n,A|=t[n],e&=~r;return A}function q9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z9(t,e){for(var n=t.suspendedLanes,A=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-zA(i),o=1<<s,l=r[s];l===-1?(!(o&n)||o&A)&&(r[s]=q9(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function _1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AE(){var t=Bf;return Bf<<=1,!(Bf&4194240)&&(Bf=64),t}function K0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zA(e),t[e]=n}function ek(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var A=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-zA(n),i=1<<r;e[r]=0,A[r]=-1,t[r]=-1,n&=~i}}function xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var A=31-zA(n),r=1<<A;r&e|t[A]&e&&(t[A]|=e),n&=~r}}var Ve=0;function rE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iE,ky,sE,oE,lE,I1=!1,wf=[],Ri=null,Pi=null,Ki=null,Uu=new Map,xu=new Map,ki=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l2(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function Ua(t,e,n,A,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:A,nativeEvent:i,targetContainers:[r]},e!==null&&(e=lc(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=A,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function nk(t,e,n,A,r){switch(e){case"focusin":return Ri=Ua(Ri,t,e,n,A,r),!0;case"dragenter":return Pi=Ua(Pi,t,e,n,A,r),!0;case"mouseover":return Ki=Ua(Ki,t,e,n,A,r),!0;case"pointerover":var i=r.pointerId;return Uu.set(i,Ua(Uu.get(i)||null,t,e,n,A,r)),!0;case"gotpointercapture":return i=r.pointerId,xu.set(i,Ua(xu.get(i)||null,t,e,n,A,r)),!0}return!1}function aE(t){var e=Ps(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=$3(n),e!==null){t.blockedOn=e,lE(t.priority,function(){sE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var A=new n.constructor(n.type,n);Q1=A,n.target.dispatchEvent(A),Q1=null}else return e=lc(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function a2(t,e,n){gd(t)&&n.delete(e)}function Ak(){I1=!1,Ri!==null&&gd(Ri)&&(Ri=null),Pi!==null&&gd(Pi)&&(Pi=null),Ki!==null&&gd(Ki)&&(Ki=null),Uu.forEach(a2),xu.forEach(a2)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,I1||(I1=!0,tA.unstable_scheduleCallback(tA.unstable_NormalPriority,Ak)))}function ku(t){function e(r){return xa(r,t)}if(0<wf.length){xa(wf[0],t);for(var n=1;n<wf.length;n++){var A=wf[n];A.blockedOn===t&&(A.blockedOn=null)}}for(Ri!==null&&xa(Ri,t),Pi!==null&&xa(Pi,t),Ki!==null&&xa(Ki,t),Uu.forEach(e),xu.forEach(e),n=0;n<ki.length;n++)A=ki[n],A.blockedOn===t&&(A.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)aE(n),n.blockedOn===null&&ki.shift()}var wl=ti.ReactCurrentBatchConfig,Pd=!0;function rk(t,e,n,A){var r=Ve,i=wl.transition;wl.transition=null;try{Ve=1,_y(t,e,n,A)}finally{Ve=r,wl.transition=i}}function ik(t,e,n,A){var r=Ve,i=wl.transition;wl.transition=null;try{Ve=4,_y(t,e,n,A)}finally{Ve=r,wl.transition=i}}function _y(t,e,n,A){if(Pd){var r=T1(t,e,n,A);if(r===null)q0(t,e,A,Kd,n),l2(t,A);else if(nk(r,t,e,n,A))A.stopPropagation();else if(l2(t,A),e&4&&-1<tk.indexOf(t)){for(;r!==null;){var i=lc(r);if(i!==null&&iE(i),i=T1(t,e,n,A),i===null&&q0(t,e,A,Kd,n),i===r)break;r=i}r!==null&&A.stopPropagation()}else q0(t,e,A,null,n)}}var Kd=null;function T1(t,e,n,A){if(Kd=null,t=Qy(A),t=Ps(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kd=t,null}function uE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W9()){case Uy:return 1;case tE:return 4;case Ld:case j9:return 16;case nE:return 536870912;default:return 16}default:return 16}}var Ti=null,Iy=null,md=null;function cE(){if(md)return md;var t,e=Iy,n=e.length,A,r="value"in Ti?Ti.value:Ti.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(A=1;A<=s&&e[n-A]===r[i-A];A++);return md=r.slice(t,1<A?1-A:void 0)}function Bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cf(){return!0}function u2(){return!1}function iA(t){function e(n,A,r,i,s){this._reactName=n,this._targetInst=r,this.type=A,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cf:u2,this.isPropagationStopped=u2,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=iA(jl),oc=pt({},jl,{view:0,detail:0}),sk=iA(oc),G0,V0,ka,Kh=pt({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(G0=t.screenX-ka.screenX,V0=t.screenY-ka.screenY):V0=G0=0,ka=t),G0)},movementY:function(t){return"movementY"in t?t.movementY:V0}}),c2=iA(Kh),ok=pt({},Kh,{dataTransfer:0}),lk=iA(ok),ak=pt({},oc,{relatedTarget:0}),z0=iA(ak),uk=pt({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),ck=iA(uk),fk=pt({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dk=iA(fk),hk=pt({},jl,{data:0}),f2=iA(hk),pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mk[t])?!!e[t]:!1}function My(){return Bk}var yk=pt({},oc,{key:function(t){if(t.key){var e=pk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(t){return t.type==="keypress"?Bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wk=iA(yk),Ck=pt({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=iA(Ck),vk=pt({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),Sk=iA(vk),Fk=pt({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ek=iA(Fk),Qk=pt({},Kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=iA(Qk),xk=[9,13,27,32],Hy=Jr&&"CompositionEvent"in window,ou=null;Jr&&"documentMode"in document&&(ou=document.documentMode);var kk=Jr&&"TextEvent"in window&&!ou,fE=Jr&&(!Hy||ou&&8<ou&&11>=ou),h2=String.fromCharCode(32),p2=!1;function dE(t,e){switch(t){case"keyup":return xk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function _k(t,e){switch(t){case"compositionend":return hE(e);case"keypress":return e.which!==32?null:(p2=!0,h2);case"textInput":return t=e.data,t===h2&&p2?null:t;default:return null}}function Ik(t,e){if(rl)return t==="compositionend"||!Hy&&dE(t,e)?(t=cE(),md=Iy=Ti=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fE&&e.locale!=="ko"?null:e.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tk[t.type]:e==="textarea"}function pE(t,e,n,A){W3(A),e=Gd(e,"onChange"),0<e.length&&(n=new Ty("onChange","change",null,n,A),t.push({event:n,listeners:e}))}var lu=null,_u=null;function Mk(t){QE(t,0)}function Gh(t){var e=ol(t);if(L3(e))return t}function Hk(t,e){if(t==="change")return e}var gE=!1;if(Jr){var W0;if(Jr){var j0="oninput"in document;if(!j0){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),j0=typeof m2.oninput=="function"}W0=j0}else W0=!1;gE=W0&&(!document.documentMode||9<document.documentMode)}function B2(){lu&&(lu.detachEvent("onpropertychange",mE),_u=lu=null)}function mE(t){if(t.propertyName==="value"&&Gh(_u)){var e=[];pE(e,_u,t,Qy(t)),Y3(Mk,e)}}function bk(t,e,n){t==="focusin"?(B2(),lu=e,_u=n,lu.attachEvent("onpropertychange",mE)):t==="focusout"&&B2()}function Ok(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(_u)}function Dk(t,e){if(t==="click")return Gh(e)}function Nk(t,e){if(t==="input"||t==="change")return Gh(e)}function Lk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XA=typeof Object.is=="function"?Object.is:Lk;function Iu(t,e){if(XA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),A=Object.keys(e);if(n.length!==A.length)return!1;for(A=0;A<n.length;A++){var r=n[A];if(!h1.call(e,r)||!XA(t[r],e[r]))return!1}return!0}function y2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w2(t,e){var n=y2(t);t=0;for(var A;n;){if(n.nodeType===3){if(A=t+n.textContent.length,t<=e&&A>=e)return{node:n,offset:e-t};t=A}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y2(n)}}function BE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yE(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Od(t.document)}return e}function by(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Rk(t){var e=yE(),n=t.focusedElem,A=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BE(n.ownerDocument.documentElement,n)){if(A!==null&&by(n)){if(e=A.start,t=A.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(A.start,r);A=A.end===void 0?i:Math.min(A.end,r),!t.extend&&i>A&&(r=A,A=i,i=r),r=w2(n,i);var s=w2(n,A);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>A?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pk=Jr&&"documentMode"in document&&11>=document.documentMode,il=null,M1=null,au=null,H1=!1;function C2(t,e,n){var A=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;H1||il==null||il!==Od(A)||(A=il,"selectionStart"in A&&by(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),au&&Iu(au,A)||(au=A,A=Gd(M1,"onSelect"),0<A.length&&(e=new Ty("onSelect","select",null,e,n),t.push({event:e,listeners:A}),e.target=il)))}function vf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:vf("Animation","AnimationEnd"),animationiteration:vf("Animation","AnimationIteration"),animationstart:vf("Animation","AnimationStart"),transitionend:vf("Transition","TransitionEnd")},X0={},wE={};Jr&&(wE=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Vh(t){if(X0[t])return X0[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wE)return X0[t]=e[n];return t}var CE=Vh("animationend"),vE=Vh("animationiteration"),SE=Vh("animationstart"),FE=Vh("transitionend"),EE=new Map,v2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){EE.set(t,e),ho(e,[t])}for(var J0=0;J0<v2.length;J0++){var Y0=v2[J0],Kk=Y0.toLowerCase(),Gk=Y0[0].toUpperCase()+Y0.slice(1);ls(Kk,"on"+Gk)}ls(CE,"onAnimationEnd");ls(vE,"onAnimationIteration");ls(SE,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(FE,"onTransitionEnd");xl("onMouseEnter",["mouseout","mouseover"]);xl("onMouseLeave",["mouseout","mouseover"]);xl("onPointerEnter",["pointerout","pointerover"]);xl("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function S2(t,e,n){var A=t.type||"unknown-event";t.currentTarget=n,K9(A,e,void 0,t),t.currentTarget=null}function QE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var A=t[n],r=A.event;A=A.listeners;e:{var i=void 0;if(e)for(var s=A.length-1;0<=s;s--){var o=A[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;S2(r,o,c),i=l}else for(s=0;s<A.length;s++){if(o=A[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;S2(r,o,c),i=l}}}if(Nd)throw t=k1,Nd=!1,k1=null,t}function rt(t,e){var n=e[L1];n===void 0&&(n=e[L1]=new Set);var A=t+"__bubble";n.has(A)||(UE(e,t,2,!1),n.add(A))}function $0(t,e,n){var A=0;e&&(A|=4),UE(n,t,A,e)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[Sf]){t[Sf]=!0,H3.forEach(function(n){n!=="selectionchange"&&(Vk.has(n)||$0(n,!1,t),$0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sf]||(e[Sf]=!0,$0("selectionchange",!1,e))}}function UE(t,e,n,A){switch(uE(e)){case 1:var r=rk;break;case 4:r=ik;break;default:r=_y}n=r.bind(null,e,n,t),r=void 0,!x1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),A?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function q0(t,e,n,A,r){var i=A;if(!(e&1)&&!(e&2)&&A!==null)e:for(;;){if(A===null)return;var s=A.tag;if(s===3||s===4){var o=A.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=A.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Ps(o),s===null)return;if(l=s.tag,l===5||l===6){A=i=s;continue e}o=o.parentNode}}A=A.return}Y3(function(){var c=i,f=Qy(n),d=[];e:{var p=EE.get(t);if(p!==void 0){var g=Ty,m=t;switch(t){case"keypress":if(Bd(n)===0)break e;case"keydown":case"keyup":g=wk;break;case"focusin":m="focus",g=z0;break;case"focusout":m="blur",g=z0;break;case"beforeblur":case"afterblur":g=z0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=c2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sk;break;case CE:case vE:case SE:g=ck;break;case FE:g=Ek;break;case"scroll":g=sk;break;case"wheel":g=Uk;break;case"copy":case"cut":case"paste":g=dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=d2}var w=(e&4)!==0,F=!w&&t==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,C;E!==null;){C=E;var Q=C.stateNode;if(C.tag===5&&Q!==null&&(C=Q,v!==null&&(Q=Qu(E,v),Q!=null&&w.push(Mu(E,Q,C)))),F)break;E=E.return}0<w.length&&(p=new g(p,m,null,n,f),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Q1&&(m=n.relatedTarget||n.fromElement)&&(Ps(m)||m[Yr]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=c,m=m?Ps(m):null,m!==null&&(F=po(m),m!==F||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(w=c2,Q="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=d2,Q="onPointerLeave",v="onPointerEnter",E="pointer"),F=g==null?p:ol(g),C=m==null?p:ol(m),p=new w(Q,E+"leave",g,n,f),p.target=F,p.relatedTarget=C,Q=null,Ps(f)===c&&(w=new w(v,E+"enter",m,n,f),w.target=C,w.relatedTarget=F,Q=w),F=Q,g&&m)t:{for(w=g,v=m,E=0,C=w;C;C=Ro(C))E++;for(C=0,Q=v;Q;Q=Ro(Q))C++;for(;0<E-C;)w=Ro(w),E--;for(;0<C-E;)v=Ro(v),C--;for(;E--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ro(w),v=Ro(v)}w=null}else w=null;g!==null&&F2(d,p,g,w,!1),m!==null&&F!==null&&F2(d,F,m,w,!0)}}e:{if(p=c?ol(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var U=Hk;else if(g2(p))if(gE)U=Nk;else{U=Ok;var x=bk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=Dk);if(U&&(U=U(t,c))){pE(d,U,n,f);break e}x&&x(t,p,c),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&C1(p,"number",p.value)}switch(x=c?ol(c):window,t){case"focusin":(g2(x)||x.contentEditable==="true")&&(il=x,M1=c,au=null);break;case"focusout":au=M1=il=null;break;case"mousedown":H1=!0;break;case"contextmenu":case"mouseup":case"dragend":H1=!1,C2(d,n,f);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":C2(d,n,f)}var M;if(Hy)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rl?dE(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(fE&&n.locale!=="ko"&&(rl||k!=="onCompositionStart"?k==="onCompositionEnd"&&rl&&(M=cE()):(Ti=f,Iy="value"in Ti?Ti.value:Ti.textContent,rl=!0)),x=Gd(c,k),0<x.length&&(k=new f2(k,t,null,n,f),d.push({event:k,listeners:x}),M?k.data=M:(M=hE(n),M!==null&&(k.data=M)))),(M=kk?_k(t,n):Ik(t,n))&&(c=Gd(c,"onBeforeInput"),0<c.length&&(f=new f2("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=M))}QE(d,e)})}function Mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gd(t,e){for(var n=e+"Capture",A=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Qu(t,n),i!=null&&A.unshift(Mu(t,i,r)),i=Qu(t,e),i!=null&&A.push(Mu(t,i,r))),t=t.return}return A}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F2(t,e,n,A,r){for(var i=e._reactName,s=[];n!==null&&n!==A;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===A)break;o.tag===5&&c!==null&&(o=c,r?(l=Qu(n,i),l!=null&&s.unshift(Mu(n,l,o))):r||(l=Qu(n,i),l!=null&&s.push(Mu(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var zk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function E2(t){return(typeof t=="string"?t:""+t).replace(zk,`
`).replace(Wk,"")}function Ff(t,e,n){if(e=E2(e),E2(t)!==e&&n)throw Error(W(425))}function Vd(){}var b1=null,O1=null;function D1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N1=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,Q2=typeof Promise=="function"?Promise:void 0,Xk=typeof queueMicrotask=="function"?queueMicrotask:typeof Q2<"u"?function(t){return Q2.resolve(null).then(t).catch(Jk)}:N1;function Jk(t){setTimeout(function(){throw t})}function Z0(t,e){var n=e,A=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(A===0){t.removeChild(r),ku(e);return}A--}else n!=="$"&&n!=="$?"&&n!=="$!"||A++;n=r}while(n);ku(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),fr="__reactFiber$"+Xl,Hu="__reactProps$"+Xl,Yr="__reactContainer$"+Xl,L1="__reactEvents$"+Xl,Yk="__reactListeners$"+Xl,$k="__reactHandles$"+Xl;function Ps(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U2(t);t!==null;){if(n=t[fr])return n;t=U2(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[fr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function zh(t){return t[Hu]||null}var R1=[],ll=-1;function as(t){return{current:t}}function it(t){0>ll||(t.current=R1[ll],R1[ll]=null,ll--)}function et(t,e){ll++,R1[ll]=t.current,t.current=e}var ns={},vn=as(ns),Gn=as(!1),Ao=ns;function kl(t,e){var n=t.type.contextTypes;if(!n)return ns;var A=t.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===e)return A.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return A&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Vn(t){return t=t.childContextTypes,t!=null}function zd(){it(Gn),it(vn)}function x2(t,e,n){if(vn.current!==ns)throw Error(W(168));et(vn,e),et(Gn,n)}function xE(t,e,n){var A=t.stateNode;if(e=e.childContextTypes,typeof A.getChildContext!="function")return n;A=A.getChildContext();for(var r in A)if(!(r in e))throw Error(W(108,b9(t)||"Unknown",r));return pt({},n,A)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Ao=vn.current,et(vn,t),et(Gn,Gn.current),!0}function k2(t,e,n){var A=t.stateNode;if(!A)throw Error(W(169));n?(t=xE(t,e,Ao),A.__reactInternalMemoizedMergedChildContext=t,it(Gn),it(vn),et(vn,t)):it(Gn),et(Gn,n)}var Lr=null,Wh=!1,em=!1;function kE(t){Lr===null?Lr=[t]:Lr.push(t)}function qk(t){Wh=!0,kE(t)}function us(){if(!em&&Lr!==null){em=!0;var t=0,e=Ve;try{var n=Lr;for(Ve=1;t<n.length;t++){var A=n[t];do A=A(!0);while(A!==null)}Lr=null,Wh=!1}catch(r){throw Lr!==null&&(Lr=Lr.slice(t+1)),eE(Uy,us),r}finally{Ve=e,em=!1}}return null}var al=[],ul=0,jd=null,Xd=0,mA=[],BA=0,ro=null,Rr=1,Pr="";function Hs(t,e){al[ul++]=Xd,al[ul++]=jd,jd=t,Xd=e}function _E(t,e,n){mA[BA++]=Rr,mA[BA++]=Pr,mA[BA++]=ro,ro=t;var A=Rr;t=Pr;var r=32-zA(A)-1;A&=~(1<<r),n+=1;var i=32-zA(e)+r;if(30<i){var s=r-r%5;i=(A&(1<<s)-1).toString(32),A>>=s,r-=s,Rr=1<<32-zA(e)+r|n<<r|A,Pr=i+t}else Rr=1<<i|n<<r|A,Pr=t}function Oy(t){t.return!==null&&(Hs(t,1),_E(t,1,0))}function Dy(t){for(;t===jd;)jd=al[--ul],al[ul]=null,Xd=al[--ul],al[ul]=null;for(;t===ro;)ro=mA[--BA],mA[BA]=null,Pr=mA[--BA],mA[BA]=null,Rr=mA[--BA],mA[BA]=null}var eA=null,Zn=null,at=!1,KA=null;function IE(t,e){var n=CA(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,eA=t,Zn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,eA=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:Rr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=CA(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,eA=t,Zn=null,!0):!1;default:return!1}}function P1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K1(t){if(at){var e=Zn;if(e){var n=e;if(!_2(t,e)){if(P1(t))throw Error(W(418));e=Gi(n.nextSibling);var A=eA;e&&_2(t,e)?IE(A,n):(t.flags=t.flags&-4097|2,at=!1,eA=t)}}else{if(P1(t))throw Error(W(418));t.flags=t.flags&-4097|2,at=!1,eA=t}}}function I2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;eA=t}function Ef(t){if(t!==eA)return!1;if(!at)return I2(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D1(t.type,t.memoizedProps)),e&&(e=Zn)){if(P1(t))throw TE(),Error(W(418));for(;e;)IE(t,e),e=Gi(e.nextSibling)}if(I2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=eA?Gi(t.stateNode.nextSibling):null;return!0}function TE(){for(var t=Zn;t;)t=Gi(t.nextSibling)}function _l(){Zn=eA=null,at=!1}function Ny(t){KA===null?KA=[t]:KA.push(t)}var Zk=ti.ReactCurrentBatchConfig;function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var A=n.stateNode}if(!A)throw Error(W(147,t));var r=A,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Qf(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T2(t){var e=t._init;return e(t._payload)}function ME(t){function e(v,E){if(t){var C=v.deletions;C===null?(v.deletions=[E],v.flags|=16):C.push(E)}}function n(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function A(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function r(v,E){return v=ji(v,E),v.index=0,v.sibling=null,v}function i(v,E,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<E?(v.flags|=2,E):C):(v.flags|=2,E)):(v.flags|=1048576,E)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,E,C,Q){return E===null||E.tag!==6?(E=om(C,v.mode,Q),E.return=v,E):(E=r(E,C),E.return=v,E)}function l(v,E,C,Q){var U=C.type;return U===Al?f(v,E,C.props.children,Q,C.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fi&&T2(U)===E.type)?(Q=r(E,C.props),Q.ref=_a(v,E,C),Q.return=v,Q):(Q=Ed(C.type,C.key,C.props,null,v.mode,Q),Q.ref=_a(v,E,C),Q.return=v,Q)}function c(v,E,C,Q){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=lm(C,v.mode,Q),E.return=v,E):(E=r(E,C.children||[]),E.return=v,E)}function f(v,E,C,Q,U){return E===null||E.tag!==7?(E=Js(C,v.mode,Q,U),E.return=v,E):(E=r(E,C),E.return=v,E)}function d(v,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=om(""+E,v.mode,C),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pf:return C=Ed(E.type,E.key,E.props,null,v.mode,C),C.ref=_a(v,null,E),C.return=v,C;case nl:return E=lm(E,v.mode,C),E.return=v,E;case Fi:var Q=E._init;return d(v,Q(E._payload),C)}if(Ga(E)||Ea(E))return E=Js(E,v.mode,C,null),E.return=v,E;Qf(v,E)}return null}function p(v,E,C,Q){var U=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return U!==null?null:o(v,E,""+C,Q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pf:return C.key===U?l(v,E,C,Q):null;case nl:return C.key===U?c(v,E,C,Q):null;case Fi:return U=C._init,p(v,E,U(C._payload),Q)}if(Ga(C)||Ea(C))return U!==null?null:f(v,E,C,Q,null);Qf(v,C)}return null}function g(v,E,C,Q,U){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return v=v.get(C)||null,o(E,v,""+Q,U);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case pf:return v=v.get(Q.key===null?C:Q.key)||null,l(E,v,Q,U);case nl:return v=v.get(Q.key===null?C:Q.key)||null,c(E,v,Q,U);case Fi:var x=Q._init;return g(v,E,C,x(Q._payload),U)}if(Ga(Q)||Ea(Q))return v=v.get(C)||null,f(E,v,Q,U,null);Qf(E,Q)}return null}function m(v,E,C,Q){for(var U=null,x=null,M=E,k=E=0,T=null;M!==null&&k<C.length;k++){M.index>k?(T=M,M=null):T=M.sibling;var I=p(v,M,C[k],Q);if(I===null){M===null&&(M=T);break}t&&M&&I.alternate===null&&e(v,M),E=i(I,E,k),x===null?U=I:x.sibling=I,x=I,M=T}if(k===C.length)return n(v,M),at&&Hs(v,k),U;if(M===null){for(;k<C.length;k++)M=d(v,C[k],Q),M!==null&&(E=i(M,E,k),x===null?U=M:x.sibling=M,x=M);return at&&Hs(v,k),U}for(M=A(v,M);k<C.length;k++)T=g(M,v,k,C[k],Q),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?k:T.key),E=i(T,E,k),x===null?U=T:x.sibling=T,x=T);return t&&M.forEach(function(H){return e(v,H)}),at&&Hs(v,k),U}function w(v,E,C,Q){var U=Ea(C);if(typeof U!="function")throw Error(W(150));if(C=U.call(C),C==null)throw Error(W(151));for(var x=U=null,M=E,k=E=0,T=null,I=C.next();M!==null&&!I.done;k++,I=C.next()){M.index>k?(T=M,M=null):T=M.sibling;var H=p(v,M,I.value,Q);if(H===null){M===null&&(M=T);break}t&&M&&H.alternate===null&&e(v,M),E=i(H,E,k),x===null?U=H:x.sibling=H,x=H,M=T}if(I.done)return n(v,M),at&&Hs(v,k),U;if(M===null){for(;!I.done;k++,I=C.next())I=d(v,I.value,Q),I!==null&&(E=i(I,E,k),x===null?U=I:x.sibling=I,x=I);return at&&Hs(v,k),U}for(M=A(v,M);!I.done;k++,I=C.next())I=g(M,v,k,I.value,Q),I!==null&&(t&&I.alternate!==null&&M.delete(I.key===null?k:I.key),E=i(I,E,k),x===null?U=I:x.sibling=I,x=I);return t&&M.forEach(function(P){return e(v,P)}),at&&Hs(v,k),U}function F(v,E,C,Q){if(typeof C=="object"&&C!==null&&C.type===Al&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case pf:e:{for(var U=C.key,x=E;x!==null;){if(x.key===U){if(U=C.type,U===Al){if(x.tag===7){n(v,x.sibling),E=r(x,C.props.children),E.return=v,v=E;break e}}else if(x.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fi&&T2(U)===x.type){n(v,x.sibling),E=r(x,C.props),E.ref=_a(v,x,C),E.return=v,v=E;break e}n(v,x);break}else e(v,x);x=x.sibling}C.type===Al?(E=Js(C.props.children,v.mode,Q,C.key),E.return=v,v=E):(Q=Ed(C.type,C.key,C.props,null,v.mode,Q),Q.ref=_a(v,E,C),Q.return=v,v=Q)}return s(v);case nl:e:{for(x=C.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(v,E.sibling),E=r(E,C.children||[]),E.return=v,v=E;break e}else{n(v,E);break}else e(v,E);E=E.sibling}E=lm(C,v.mode,Q),E.return=v,v=E}return s(v);case Fi:return x=C._init,F(v,E,x(C._payload),Q)}if(Ga(C))return m(v,E,C,Q);if(Ea(C))return w(v,E,C,Q);Qf(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(v,E.sibling),E=r(E,C),E.return=v,v=E):(n(v,E),E=om(C,v.mode,Q),E.return=v,v=E),s(v)):n(v,E)}return F}var Il=ME(!0),HE=ME(!1),Jd=as(null),Yd=null,cl=null,Ly=null;function Ry(){Ly=cl=Yd=null}function Py(t){var e=Jd.current;it(Jd),t._currentValue=e}function G1(t,e,n){for(;t!==null;){var A=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,A!==null&&(A.childLanes|=e)):A!==null&&(A.childLanes&e)!==e&&(A.childLanes|=e),t===n)break;t=t.return}}function Cl(t,e){Yd=t,Ly=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function xA(t){var e=t._currentValue;if(Ly!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(Yd===null)throw Error(W(308));cl=t,Yd.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var Ks=null;function Ky(t){Ks===null?Ks=[t]:Ks.push(t)}function bE(t,e,n,A){var r=e.interleaved;return r===null?(n.next=n,Ky(e)):(n.next=r.next,r.next=n),e.interleaved=n,$r(t,A)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ei=!1;function Gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var A=t.updateQueue;if(A===null)return null;if(A=A.shared,He&2){var r=A.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),A.pending=e,$r(t,n)}return r=A.interleaved,r===null?(e.next=e,Ky(A)):(e.next=r.next,r.next=e),A.interleaved=e,$r(t,n)}function yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var A=e.lanes;A&=t.pendingLanes,n|=A,e.lanes=n,xy(t,n)}}function M2(t,e){var n=t.updateQueue,A=t.alternate;if(A!==null&&(A=A.updateQueue,n===A)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:A.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:A.shared,effects:A.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $d(t,e,n,A){var r=t.updateQueue;Ei=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=r.baseState;s=0,f=c=l=null,o=i;do{var p=o.lane,g=o.eventTime;if((A&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,w=o;switch(p=e,g=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(g,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,p=typeof m=="function"?m.call(g,d,p):m,p==null)break e;d=pt({},d,p);break e;case 2:Ei=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,l=d):f=f.next=g,s|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);so|=s,t.lanes=s,t.memoizedState=d}}function H2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var A=t[e],r=A.callback;if(r!==null){if(A.callback=null,A=n,typeof r!="function")throw Error(W(191,r));r.call(A)}}}var ac={},gr=as(ac),bu=as(ac),Ou=as(ac);function Gs(t){if(t===ac)throw Error(W(174));return t}function Vy(t,e){switch(et(Ou,e),et(bu,t),et(gr,ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S1(e,t)}it(gr),et(gr,e)}function Tl(){it(gr),it(bu),it(Ou)}function DE(t){Gs(Ou.current);var e=Gs(gr.current),n=S1(e,t.type);e!==n&&(et(bu,t),et(gr,n))}function zy(t){bu.current===t&&(it(gr),it(bu))}var dt=as(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tm=[];function Wy(){for(var t=0;t<tm.length;t++)tm[t]._workInProgressVersionPrimary=null;tm.length=0}var wd=ti.ReactCurrentDispatcher,nm=ti.ReactCurrentBatchConfig,io=0,ht=null,Mt=null,zt=null,Zd=!1,uu=!1,Du=0,e_=0;function pn(){throw Error(W(321))}function jy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!XA(t[n],e[n]))return!1;return!0}function Xy(t,e,n,A,r,i){if(io=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wd.current=t===null||t.memoizedState===null?r_:i_,t=n(A,r),uu){i=0;do{if(uu=!1,Du=0,25<=i)throw Error(W(301));i+=1,zt=Mt=null,e.updateQueue=null,wd.current=s_,t=n(A,r)}while(uu)}if(wd.current=eh,e=Mt!==null&&Mt.next!==null,io=0,zt=Mt=ht=null,Zd=!1,e)throw Error(W(300));return t}function Jy(){var t=Du!==0;return Du=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ht.memoizedState=zt=t:zt=zt.next=t,zt}function kA(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=zt===null?ht.memoizedState:zt.next;if(e!==null)zt=e,Mt=t;else{if(t===null)throw Error(W(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?ht.memoizedState=zt=t:zt=zt.next=t}return zt}function Nu(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=kA(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var A=Mt,r=A.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}A.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,A=A.baseState;var o=s=null,l=null,c=i;do{var f=c.lane;if((io&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),A=c.hasEagerState?c.eagerState:t(A,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=A):l=l.next=d,ht.lanes|=f,so|=f}c=c.next}while(c!==null&&c!==i);l===null?s=A:l.next=o,XA(A,e.memoizedState)||(Kn=!0),e.memoizedState=A,e.baseState=s,e.baseQueue=l,n.lastRenderedState=A}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ht.lanes|=i,so|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rm(t){var e=kA(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var A=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);XA(i,e.memoizedState)||(Kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,A]}function NE(){}function LE(t,e){var n=ht,A=kA(),r=e(),i=!XA(A.memoizedState,r);if(i&&(A.memoizedState=r,Kn=!0),A=A.queue,Yy(KE.bind(null,n,A,t),[t]),A.getSnapshot!==e||i||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Lu(9,PE.bind(null,n,A,r,e),void 0,null),jt===null)throw Error(W(349));io&30||RE(n,e,r)}return r}function RE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PE(t,e,n,A){e.value=n,e.getSnapshot=A,GE(e)&&VE(t)}function KE(t,e,n){return n(function(){GE(e)&&VE(t)})}function GE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!XA(t,n)}catch{return!0}}function VE(t){var e=$r(t,1);e!==null&&WA(e,t,1,-1)}function b2(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=A_.bind(null,ht,t),[e.memoizedState,t]}function Lu(t,e,n,A){return t={tag:t,create:e,destroy:n,deps:A,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(A=n.next,n.next=t,t.next=A,e.lastEffect=t)),t}function zE(){return kA().memoizedState}function Cd(t,e,n,A){var r=ur();ht.flags|=t,r.memoizedState=Lu(1|e,n,void 0,A===void 0?null:A)}function jh(t,e,n,A){var r=kA();A=A===void 0?null:A;var i=void 0;if(Mt!==null){var s=Mt.memoizedState;if(i=s.destroy,A!==null&&jy(A,s.deps)){r.memoizedState=Lu(e,n,i,A);return}}ht.flags|=t,r.memoizedState=Lu(1|e,n,i,A)}function O2(t,e){return Cd(8390656,8,t,e)}function Yy(t,e){return jh(2048,8,t,e)}function WE(t,e){return jh(4,2,t,e)}function jE(t,e){return jh(4,4,t,e)}function XE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JE(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,XE.bind(null,e,t),n)}function $y(){}function YE(t,e){var n=kA();e=e===void 0?null:e;var A=n.memoizedState;return A!==null&&e!==null&&jy(e,A[1])?A[0]:(n.memoizedState=[t,e],t)}function $E(t,e){var n=kA();e=e===void 0?null:e;var A=n.memoizedState;return A!==null&&e!==null&&jy(e,A[1])?A[0]:(t=t(),n.memoizedState=[t,e],t)}function qE(t,e,n){return io&21?(XA(n,e)||(n=AE(),ht.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function t_(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var A=nm.transition;nm.transition={};try{t(!1),e()}finally{Ve=n,nm.transition=A}}function ZE(){return kA().memoizedState}function n_(t,e,n){var A=Wi(t);if(n={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null},eQ(t))tQ(e,n);else if(n=bE(t,e,n,A),n!==null){var r=xn();WA(n,t,A,r),nQ(n,e,A)}}function A_(t,e,n){var A=Wi(t),r={lane:A,action:n,hasEagerState:!1,eagerState:null,next:null};if(eQ(t))tQ(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,XA(o,s)){var l=e.interleaved;l===null?(r.next=r,Ky(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=bE(t,e,r,A),n!==null&&(r=xn(),WA(n,t,A,r),nQ(n,e,A))}}function eQ(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function tQ(t,e){uu=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nQ(t,e,n){if(n&4194240){var A=e.lanes;A&=t.pendingLanes,n|=A,e.lanes=n,xy(t,n)}}var eh={readContext:xA,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},r_={readContext:xA,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:xA,useEffect:O2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4194308,4,XE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cd(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var A=ur();return e=n!==void 0?n(e):e,A.memoizedState=A.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},A.queue=t,t=t.dispatch=n_.bind(null,ht,t),[A.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:b2,useDebugValue:$y,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=b2(!1),e=t[0];return t=t_.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var A=ht,r=ur();if(at){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),jt===null)throw Error(W(349));io&30||RE(A,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,O2(KE.bind(null,A,i,t),[t]),A.flags|=2048,Lu(9,PE.bind(null,A,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=jt.identifierPrefix;if(at){var n=Pr,A=Rr;n=(A&~(1<<32-zA(A)-1)).toString(32)+n,e=":"+e+"R"+n,n=Du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i_={readContext:xA,useCallback:YE,useContext:xA,useEffect:Yy,useImperativeHandle:JE,useInsertionEffect:WE,useLayoutEffect:jE,useMemo:$E,useReducer:Am,useRef:zE,useState:function(){return Am(Nu)},useDebugValue:$y,useDeferredValue:function(t){var e=kA();return qE(e,Mt.memoizedState,t)},useTransition:function(){var t=Am(Nu)[0],e=kA().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:LE,useId:ZE,unstable_isNewReconciler:!1},s_={readContext:xA,useCallback:YE,useContext:xA,useEffect:Yy,useImperativeHandle:JE,useInsertionEffect:WE,useLayoutEffect:jE,useMemo:$E,useReducer:rm,useRef:zE,useState:function(){return rm(Nu)},useDebugValue:$y,useDeferredValue:function(t){var e=kA();return Mt===null?e.memoizedState=t:qE(e,Mt.memoizedState,t)},useTransition:function(){var t=rm(Nu)[0],e=kA().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:LE,useId:ZE,unstable_isNewReconciler:!1};function RA(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function V1(t,e,n,A){e=t.memoizedState,n=n(A,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var A=xn(),r=Wi(t),i=Gr(A,r);i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,r),e!==null&&(WA(e,t,r,A),yd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var A=xn(),r=Wi(t),i=Gr(A,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,r),e!==null&&(WA(e,t,r,A),yd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),A=Wi(t),r=Gr(n,A);r.tag=2,e!=null&&(r.callback=e),e=Vi(t,r,A),e!==null&&(WA(e,t,A,n),yd(e,t,A))}};function D2(t,e,n,A,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(A,i,s):e.prototype&&e.prototype.isPureReactComponent?!Iu(n,A)||!Iu(r,i):!0}function AQ(t,e,n){var A=!1,r=ns,i=e.contextType;return typeof i=="object"&&i!==null?i=xA(i):(r=Vn(e)?Ao:vn.current,A=e.contextTypes,i=(A=A!=null)?kl(t,r):ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,A&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function N2(t,e,n,A){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,A),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,A),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function z1(t,e,n,A){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Gy(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=xA(i):(i=Vn(e)?Ao:vn.current,r.context=kl(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(V1(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Xh.enqueueReplaceState(r,r.state,null),$d(t,n,r,A),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",A=e;do n+=H9(A),A=A.return;while(A);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function im(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function W1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function rQ(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var A=e.value;return n.callback=function(){nh||(nh=!0,nB=A),W1(t,e)},n}function iQ(t,e,n){n=Gr(-1,n),n.tag=3;var A=t.type.getDerivedStateFromError;if(typeof A=="function"){var r=e.value;n.payload=function(){return A(r)},n.callback=function(){W1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){W1(t,e),typeof A!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function L2(t,e,n){var A=t.pingCache;if(A===null){A=t.pingCache=new o_;var r=new Set;A.set(e,r)}else r=A.get(e),r===void 0&&(r=new Set,A.set(e,r));r.has(n)||(r.add(n),t=C_.bind(null,t,e,n),e.then(t,t))}function R2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P2(t,e,n,A,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var l_=ti.ReactCurrentOwner,Kn=!1;function Un(t,e,n,A){e.child=t===null?HE(e,null,n,A):Il(e,t.child,n,A)}function K2(t,e,n,A,r){n=n.render;var i=e.ref;return Cl(e,r),A=Xy(t,e,n,A,i,r),n=Jy(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qr(t,e,r)):(at&&n&&Oy(e),e.flags|=1,Un(t,e,A,r),e.child)}function G2(t,e,n,A,r){if(t===null){var i=n.type;return typeof i=="function"&&!iw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sQ(t,e,i,A,r)):(t=Ed(n.type,null,A,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Iu,n(s,A)&&t.ref===e.ref)return qr(t,e,r)}return e.flags|=1,t=ji(i,A),t.ref=e.ref,t.return=e,e.child=t}function sQ(t,e,n,A,r){if(t!==null){var i=t.memoizedProps;if(Iu(i,A)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=A=i,(t.lanes&r)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,qr(t,e,r)}return j1(t,e,n,A,r)}function oQ(t,e,n){var A=e.pendingProps,r=A.children,i=t!==null?t.memoizedState:null;if(A.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(dl,$n),$n|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(dl,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=i!==null?i.baseLanes:n,et(dl,$n),$n|=A}else i!==null?(A=i.baseLanes|n,e.memoizedState=null):A=n,et(dl,$n),$n|=A;return Un(t,e,r,n),e.child}function lQ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j1(t,e,n,A,r){var i=Vn(n)?Ao:vn.current;return i=kl(e,i),Cl(e,r),n=Xy(t,e,n,A,i,r),A=Jy(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qr(t,e,r)):(at&&A&&Oy(e),e.flags|=1,Un(t,e,n,r),e.child)}function V2(t,e,n,A,r){if(Vn(n)){var i=!0;Wd(e)}else i=!1;if(Cl(e,r),e.stateNode===null)vd(t,e),AQ(e,n,A),z1(e,n,A,r),A=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=xA(c):(c=Vn(n)?Ao:vn.current,c=kl(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==A||l!==c)&&N2(e,s,A,c),Ei=!1;var p=e.memoizedState;s.state=p,$d(e,A,s,r),l=e.memoizedState,o!==A||p!==l||Gn.current||Ei?(typeof f=="function"&&(V1(e,n,f,A),l=e.memoizedState),(o=Ei||D2(e,n,o,A,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=A,e.memoizedState=l),s.props=A,s.state=l,s.context=c,A=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),A=!1)}else{s=e.stateNode,OE(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:RA(e.type,o),s.props=c,d=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=xA(l):(l=Vn(n)?Ao:vn.current,l=kl(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&N2(e,s,A,l),Ei=!1,p=e.memoizedState,s.state=p,$d(e,A,s,r);var m=e.memoizedState;o!==d||p!==m||Gn.current||Ei?(typeof g=="function"&&(V1(e,n,g,A),m=e.memoizedState),(c=Ei||D2(e,n,c,A,p,m,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(A,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(A,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=A,e.memoizedState=m),s.props=A,s.state=m,s.context=l,A=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),A=!1)}return X1(t,e,n,A,i,r)}function X1(t,e,n,A,r,i){lQ(t,e);var s=(e.flags&128)!==0;if(!A&&!s)return r&&k2(e,n,!1),qr(t,e,i);A=e.stateNode,l_.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:A.render();return e.flags|=1,t!==null&&s?(e.child=Il(e,t.child,null,i),e.child=Il(e,null,o,i)):Un(t,e,o,i),e.memoizedState=A.state,r&&k2(e,n,!0),e.child}function aQ(t){var e=t.stateNode;e.pendingContext?x2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x2(t,e.context,!1),Vy(t,e.containerInfo)}function z2(t,e,n,A,r){return _l(),Ny(r),e.flags|=256,Un(t,e,n,A),e.child}var J1={dehydrated:null,treeContext:null,retryLane:0};function Y1(t){return{baseLanes:t,cachePool:null,transitions:null}}function uQ(t,e,n){var A=e.pendingProps,r=dt.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),et(dt,r&1),t===null)return K1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=A.children,t=A.fallback,i?(A=e.mode,i=e.child,s={mode:"hidden",children:s},!(A&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=$h(s,A,0,null),t=Js(t,A,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Y1(n),e.memoizedState=J1,t):qy(e,s));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return a_(t,e,s,A,o,r,n);if(i){i=A.fallback,s=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:A.children};return!(s&1)&&e.child!==r?(A=e.child,A.childLanes=0,A.pendingProps=l,e.deletions=null):(A=ji(r,l),A.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=ji(o,i):(i=Js(i,s,n,null),i.flags|=2),i.return=e,A.return=e,A.sibling=i,e.child=A,A=i,i=e.child,s=t.child.memoizedState,s=s===null?Y1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=J1,A}return i=t.child,t=i.sibling,A=ji(i,{mode:"visible",children:A.children}),!(e.mode&1)&&(A.lanes=n),A.return=e,A.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=A,e.memoizedState=null,A}function qy(t,e){return e=$h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uf(t,e,n,A){return A!==null&&Ny(A),Il(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a_(t,e,n,A,r,i,s){if(n)return e.flags&256?(e.flags&=-257,A=im(Error(W(422))),Uf(t,e,s,A)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=A.fallback,r=e.mode,A=$h({mode:"visible",children:A.children},r,0,null),i=Js(i,r,s,null),i.flags|=2,A.return=e,i.return=e,A.sibling=i,e.child=A,e.mode&1&&Il(e,t.child,null,s),e.child.memoizedState=Y1(s),e.memoizedState=J1,i);if(!(e.mode&1))return Uf(t,e,s,null);if(r.data==="$!"){if(A=r.nextSibling&&r.nextSibling.dataset,A)var o=A.dgst;return A=o,i=Error(W(419)),A=im(i,A,void 0),Uf(t,e,s,A)}if(o=(s&t.childLanes)!==0,Kn||o){if(A=jt,A!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(A.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,$r(t,r),WA(A,t,r,-1))}return rw(),A=im(Error(W(421))),Uf(t,e,s,A)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=v_.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Zn=Gi(r.nextSibling),eA=e,at=!0,KA=null,t!==null&&(mA[BA++]=Rr,mA[BA++]=Pr,mA[BA++]=ro,Rr=t.id,Pr=t.overflow,ro=e),e=qy(e,A.children),e.flags|=4096,e)}function W2(t,e,n){t.lanes|=e;var A=t.alternate;A!==null&&(A.lanes|=e),G1(t.return,e,n)}function sm(t,e,n,A,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:A,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=A,i.tail=n,i.tailMode=r)}function cQ(t,e,n){var A=e.pendingProps,r=A.revealOrder,i=A.tail;if(Un(t,e,A.children,n),A=dt.current,A&2)A=A&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W2(t,n,e);else if(t.tag===19)W2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}A&=1}if(et(dt,A),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),sm(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}sm(e,!0,n,null,i);break;case"together":sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u_(t,e,n){switch(e.tag){case 3:aQ(e),_l();break;case 5:DE(e);break;case 1:Vn(e.type)&&Wd(e);break;case 4:Vy(e,e.stateNode.containerInfo);break;case 10:var A=e.type._context,r=e.memoizedProps.value;et(Jd,A._currentValue),A._currentValue=r;break;case 13:if(A=e.memoizedState,A!==null)return A.dehydrated!==null?(et(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?uQ(t,e,n):(et(dt,dt.current&1),t=qr(t,e,n),t!==null?t.sibling:null);et(dt,dt.current&1);break;case 19:if(A=(n&e.childLanes)!==0,t.flags&128){if(A)return cQ(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),et(dt,dt.current),A)break;return null;case 22:case 23:return e.lanes=0,oQ(t,e,n)}return qr(t,e,n)}var fQ,$1,dQ,hQ;fQ=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$1=function(){};dQ=function(t,e,n,A){var r=t.memoizedProps;if(r!==A){t=e.stateNode,Gs(gr.current);var i=null;switch(n){case"input":r=y1(t,r),A=y1(t,A),i=[];break;case"select":r=pt({},r,{value:void 0}),A=pt({},A,{value:void 0}),i=[];break;case"textarea":r=v1(t,r),A=v1(t,A),i=[];break;default:typeof r.onClick!="function"&&typeof A.onClick=="function"&&(t.onclick=Vd)}F1(n,A);var s;n=null;for(c in r)if(!A.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in A){var l=A[c];if(o=r!=null?r[c]:void 0,A.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hQ=function(t,e,n,A){n!==A&&(e.flags|=4)};function Ia(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var A=null;n!==null;)n.alternate!==null&&(A=n),n=n.sibling;A===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:A.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,A=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,A|=r.subtreeFlags&14680064,A|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,A|=r.subtreeFlags,A|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=A,t.childLanes=n,e}function c_(t,e,n){var A=e.pendingProps;switch(Dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Vn(e.type)&&zd(),gn(e),null;case 3:return A=e.stateNode,Tl(),it(Gn),it(vn),Wy(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(t===null||t.child===null)&&(Ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,KA!==null&&(iB(KA),KA=null))),$1(t,e),gn(e),null;case 5:zy(e);var r=Gs(Ou.current);if(n=e.type,t!==null&&e.stateNode!=null)dQ(t,e,n,A,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!A){if(e.stateNode===null)throw Error(W(166));return gn(e),null}if(t=Gs(gr.current),Ef(e)){A=e.stateNode,n=e.type;var i=e.memoizedProps;switch(A[fr]=e,A[Hu]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",A),rt("close",A);break;case"iframe":case"object":case"embed":rt("load",A);break;case"video":case"audio":for(r=0;r<za.length;r++)rt(za[r],A);break;case"source":rt("error",A);break;case"img":case"image":case"link":rt("error",A),rt("load",A);break;case"details":rt("toggle",A);break;case"input":t2(A,i),rt("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!i.multiple},rt("invalid",A);break;case"textarea":A2(A,i),rt("invalid",A)}F1(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?A.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ff(A.textContent,o,t),r=["children",o]):typeof o=="number"&&A.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ff(A.textContent,o,t),r=["children",""+o]):Fu.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&rt("scroll",A)}switch(n){case"input":gf(A),n2(A,i,!0);break;case"textarea":gf(A),r2(A);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(A.onclick=Vd)}A=r,e.updateQueue=A,A!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof A.is=="string"?t=s.createElement(n,{is:A.is}):(t=s.createElement(n),n==="select"&&(s=t,A.multiple?s.multiple=!0:A.size&&(s.size=A.size))):t=s.createElementNS(t,n),t[fr]=e,t[Hu]=A,fQ(t,e,!1,!1),e.stateNode=t;e:{switch(s=E1(n,A),n){case"dialog":rt("cancel",t),rt("close",t),r=A;break;case"iframe":case"object":case"embed":rt("load",t),r=A;break;case"video":case"audio":for(r=0;r<za.length;r++)rt(za[r],t);r=A;break;case"source":rt("error",t),r=A;break;case"img":case"image":case"link":rt("error",t),rt("load",t),r=A;break;case"details":rt("toggle",t),r=A;break;case"input":t2(t,A),r=y1(t,A),rt("invalid",t);break;case"option":r=A;break;case"select":t._wrapperState={wasMultiple:!!A.multiple},r=pt({},A,{value:void 0}),rt("invalid",t);break;case"textarea":A2(t,A),r=v1(t,A),rt("invalid",t);break;default:r=A}F1(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?z3(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G3(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&rt("scroll",t):l!=null&&vy(t,i,l,s))}switch(n){case"input":gf(t),n2(t,A,!1);break;case"textarea":gf(t),r2(t);break;case"option":A.value!=null&&t.setAttribute("value",""+ts(A.value));break;case"select":t.multiple=!!A.multiple,i=A.value,i!=null?ml(t,!!A.multiple,i,!1):A.defaultValue!=null&&ml(t,!!A.multiple,A.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)hQ(t,e,t.memoizedProps,A);else{if(typeof A!="string"&&e.stateNode===null)throw Error(W(166));if(n=Gs(Ou.current),Gs(gr.current),Ef(e)){if(A=e.stateNode,n=e.memoizedProps,A[fr]=e,(i=A.nodeValue!==n)&&(t=eA,t!==null))switch(t.tag){case 3:Ff(A.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ff(A.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else A=(n.nodeType===9?n:n.ownerDocument).createTextNode(A),A[fr]=e,e.stateNode=A}return gn(e),null;case 13:if(it(dt),A=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Zn!==null&&e.mode&1&&!(e.flags&128))TE(),_l(),e.flags|=98560,i=!1;else if(i=Ef(e),A!==null&&A.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[fr]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),i=!1}else KA!==null&&(iB(KA),KA=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(A=A!==null,A!==(t!==null&&t.memoizedState!==null)&&A&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Ot===0&&(Ot=3):rw())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return Tl(),$1(t,e),t===null&&Tu(e.stateNode.containerInfo),gn(e),null;case 10:return Py(e.type._context),gn(e),null;case 17:return Vn(e.type)&&zd(),gn(e),null;case 19:if(it(dt),i=e.memoizedState,i===null)return gn(e),null;if(A=(e.flags&128)!==0,s=i.rendering,s===null)if(A)Ia(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qd(t),s!==null){for(e.flags|=128,Ia(i,!1),A=s.updateQueue,A!==null&&(e.updateQueue=A,e.flags|=4),e.subtreeFlags=0,A=n,n=e.child;n!==null;)i=n,t=A,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(dt,dt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ft()>Hl&&(e.flags|=128,A=!0,Ia(i,!1),e.lanes=4194304)}else{if(!A)if(t=qd(s),t!==null){if(e.flags|=128,A=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!at)return gn(e),null}else 2*Ft()-i.renderingStartTime>Hl&&n!==1073741824&&(e.flags|=128,A=!0,Ia(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ft(),e.sibling=null,n=dt.current,et(dt,A?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return Aw(),A=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==A&&(e.flags|=8192),A&&e.mode&1?$n&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function f_(t,e){switch(Dy(e),e.tag){case 1:return Vn(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),it(Gn),it(vn),Wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zy(e),null;case 13:if(it(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(dt),null;case 4:return Tl(),null;case 10:return Py(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var xf=!1,wn=!1,d_=typeof WeakSet=="function"?WeakSet:Set,se=null;function fl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(A){mt(t,e,A)}else n.current=null}function q1(t,e,n){try{n()}catch(A){mt(t,e,A)}}var j2=!1;function h_(t,e){if(b1=Pd,t=yE(),by(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var A=n.getSelection&&n.getSelection();if(A&&A.rangeCount!==0){n=A.anchorNode;var r=A.anchorOffset,i=A.focusNode;A=A.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,f=0,d=t,p=null;t:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(o=s+r),d!==i||A!==0&&d.nodeType!==3||(l=s+A),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===r&&(o=s),p===i&&++f===A&&(l=s),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(O1={focusedElem:t,selectionRange:n},Pd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,F=m.memoizedState,v=e.stateNode,E=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:RA(e.type,w),F);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(Q){mt(e,e.return,Q)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return m=j2,j2=!1,m}function cu(t,e,n){var A=e.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var r=A=A.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&q1(e,n,i)}r=r.next}while(r!==A)}}function Jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var A=n.create;n.destroy=A()}n=n.next}while(n!==e)}}function Z1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pQ(t){var e=t.alternate;e!==null&&(t.alternate=null,pQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Hu],delete e[L1],delete e[Yk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gQ(t){return t.tag===5||t.tag===3||t.tag===4}function X2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eB(t,e,n){var A=t.tag;if(A===5||A===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(A!==4&&(t=t.child,t!==null))for(eB(t,e,n),t=t.sibling;t!==null;)eB(t,e,n),t=t.sibling}function tB(t,e,n){var A=t.tag;if(A===5||A===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(A!==4&&(t=t.child,t!==null))for(tB(t,e,n),t=t.sibling;t!==null;)tB(t,e,n),t=t.sibling}var en=null,PA=!1;function Bi(t,e,n){for(n=n.child;n!==null;)mQ(t,e,n),n=n.sibling}function mQ(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Ph,n)}catch{}switch(n.tag){case 5:wn||fl(n,e);case 6:var A=en,r=PA;en=null,Bi(t,e,n),en=A,PA=r,en!==null&&(PA?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(PA?(t=en,n=n.stateNode,t.nodeType===8?Z0(t.parentNode,n):t.nodeType===1&&Z0(t,n),ku(t)):Z0(en,n.stateNode));break;case 4:A=en,r=PA,en=n.stateNode.containerInfo,PA=!0,Bi(t,e,n),en=A,PA=r;break;case 0:case 11:case 14:case 15:if(!wn&&(A=n.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){r=A=A.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&q1(n,e,s),r=r.next}while(r!==A)}Bi(t,e,n);break;case 1:if(!wn&&(fl(n,e),A=n.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=n.memoizedProps,A.state=n.memoizedState,A.componentWillUnmount()}catch(o){mt(n,e,o)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(wn=(A=wn)||n.memoizedState!==null,Bi(t,e,n),wn=A):Bi(t,e,n);break;default:Bi(t,e,n)}}function J2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d_),e.forEach(function(A){var r=S_.bind(null,t,A);n.has(A)||(n.add(A),A.then(r,r))})}}function DA(t,e){var n=e.deletions;if(n!==null)for(var A=0;A<n.length;A++){var r=n[A];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:en=o.stateNode,PA=!1;break e;case 3:en=o.stateNode.containerInfo,PA=!0;break e;case 4:en=o.stateNode.containerInfo,PA=!0;break e}o=o.return}if(en===null)throw Error(W(160));mQ(i,s,r),en=null,PA=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){mt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BQ(e,t),e=e.sibling}function BQ(t,e){var n=t.alternate,A=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(DA(e,t),lr(t),A&4){try{cu(3,t,t.return),Jh(3,t)}catch(w){mt(t,t.return,w)}try{cu(5,t,t.return)}catch(w){mt(t,t.return,w)}}break;case 1:DA(e,t),lr(t),A&512&&n!==null&&fl(n,n.return);break;case 5:if(DA(e,t),lr(t),A&512&&n!==null&&fl(n,n.return),t.flags&32){var r=t.stateNode;try{Eu(r,"")}catch(w){mt(t,t.return,w)}}if(A&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&R3(r,i),E1(o,s);var c=E1(o,i);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?z3(r,d):f==="dangerouslySetInnerHTML"?G3(r,d):f==="children"?Eu(r,d):vy(r,f,d,c)}switch(o){case"input":w1(r,i);break;case"textarea":P3(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ml(r,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?ml(r,!!i.multiple,i.defaultValue,!0):ml(r,!!i.multiple,i.multiple?[]:"",!1))}r[Hu]=i}catch(w){mt(t,t.return,w)}}break;case 6:if(DA(e,t),lr(t),A&4){if(t.stateNode===null)throw Error(W(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(w){mt(t,t.return,w)}}break;case 3:if(DA(e,t),lr(t),A&4&&n!==null&&n.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(w){mt(t,t.return,w)}break;case 4:DA(e,t),lr(t);break;case 13:DA(e,t),lr(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(tw=Ft())),A&4&&J2(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(c=wn)||f,DA(e,t),wn=c):DA(e,t),lr(t),A&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(se=t,f=t.child;f!==null;){for(d=se=f;se!==null;){switch(p=se,g=p.child,p.tag){case 0:case 11:case 14:case 15:cu(4,p,p.return);break;case 1:fl(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){A=p,n=p.return;try{e=A,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){mt(A,n,w)}}break;case 5:fl(p,p.return);break;case 22:if(p.memoizedState!==null){$2(d);continue}}g!==null?(g.return=p,se=g):$2(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{r=d.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=V3("display",s))}catch(w){mt(t,t.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){mt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:DA(e,t),lr(t),A&4&&J2(t);break;case 21:break;default:DA(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gQ(n)){var A=n;break e}n=n.return}throw Error(W(160))}switch(A.tag){case 5:var r=A.stateNode;A.flags&32&&(Eu(r,""),A.flags&=-33);var i=X2(t);tB(t,i,r);break;case 3:case 4:var s=A.stateNode.containerInfo,o=X2(t);eB(t,o,s);break;default:throw Error(W(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p_(t,e,n){se=t,yQ(t)}function yQ(t,e,n){for(var A=(t.mode&1)!==0;se!==null;){var r=se,i=r.child;if(r.tag===22&&A){var s=r.memoizedState!==null||xf;if(!s){var o=r.alternate,l=o!==null&&o.memoizedState!==null||wn;o=xf;var c=wn;if(xf=s,(wn=l)&&!c)for(se=r;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?q2(r):l!==null?(l.return=s,se=l):q2(r);for(;i!==null;)se=i,yQ(i),i=i.sibling;se=r,xf=o,wn=c}Y2(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,se=i):Y2(t)}}function Y2(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||Jh(5,e);break;case 1:var A=e.stateNode;if(e.flags&4&&!wn)if(n===null)A.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:RA(e.type,n.memoizedProps);A.componentDidUpdate(r,n.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&H2(e,i,A);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H2(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ku(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}wn||e.flags&512&&Z1(e)}catch(p){mt(e,e.return,p)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function $2(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function q2(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jh(4,e)}catch(l){mt(e,n,l)}break;case 1:var A=e.stateNode;if(typeof A.componentDidMount=="function"){var r=e.return;try{A.componentDidMount()}catch(l){mt(e,r,l)}}var i=e.return;try{Z1(e)}catch(l){mt(e,i,l)}break;case 5:var s=e.return;try{Z1(e)}catch(l){mt(e,s,l)}}}catch(l){mt(e,e.return,l)}if(e===t){se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,se=o;break}se=e.return}}var g_=Math.ceil,th=ti.ReactCurrentDispatcher,Zy=ti.ReactCurrentOwner,EA=ti.ReactCurrentBatchConfig,He=0,jt=null,xt=null,on=0,$n=0,dl=as(0),Ot=0,Ru=null,so=0,Yh=0,ew=0,fu=null,Pn=null,tw=0,Hl=1/0,Dr=null,nh=!1,nB=null,zi=null,kf=!1,Mi=null,Ah=0,du=0,AB=null,Sd=-1,Fd=0;function xn(){return He&6?Ft():Sd!==-1?Sd:Sd=Ft()}function Wi(t){return t.mode&1?He&2&&on!==0?on&-on:Zk.transition!==null?(Fd===0&&(Fd=AE()),Fd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:uE(t.type)),t):1}function WA(t,e,n,A){if(50<du)throw du=0,AB=null,Error(W(185));sc(t,n,A),(!(He&2)||t!==jt)&&(t===jt&&(!(He&2)&&(Yh|=n),Ot===4&&_i(t,on)),zn(t,A),n===1&&He===0&&!(e.mode&1)&&(Hl=Ft()+500,Wh&&us()))}function zn(t,e){var n=t.callbackNode;Z9(t,e);var A=Rd(t,t===jt?on:0);if(A===0)n!==null&&o2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=A&-A,t.callbackPriority!==e){if(n!=null&&o2(n),e===1)t.tag===0?qk(Z2.bind(null,t)):kE(Z2.bind(null,t)),Xk(function(){!(He&6)&&us()}),n=null;else{switch(rE(A)){case 1:n=Uy;break;case 4:n=tE;break;case 16:n=Ld;break;case 536870912:n=nE;break;default:n=Ld}n=UQ(n,wQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wQ(t,e){if(Sd=-1,Fd=0,He&6)throw Error(W(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var A=Rd(t,t===jt?on:0);if(A===0)return null;if(A&30||A&t.expiredLanes||e)e=rh(t,A);else{e=A;var r=He;He|=2;var i=vQ();(jt!==t||on!==e)&&(Dr=null,Hl=Ft()+500,Xs(t,e));do try{y_();break}catch(o){CQ(t,o)}while(1);Ry(),th.current=i,He=r,xt!==null?e=0:(jt=null,on=0,e=Ot)}if(e!==0){if(e===2&&(r=_1(t),r!==0&&(A=r,e=rB(t,r))),e===1)throw n=Ru,Xs(t,0),_i(t,A),zn(t,Ft()),n;if(e===6)_i(t,A);else{if(r=t.current.alternate,!(A&30)&&!m_(r)&&(e=rh(t,A),e===2&&(i=_1(t),i!==0&&(A=i,e=rB(t,i))),e===1))throw n=Ru,Xs(t,0),_i(t,A),zn(t,Ft()),n;switch(t.finishedWork=r,t.finishedLanes=A,e){case 0:case 1:throw Error(W(345));case 2:bs(t,Pn,Dr);break;case 3:if(_i(t,A),(A&130023424)===A&&(e=tw+500-Ft(),10<e)){if(Rd(t,0)!==0)break;if(r=t.suspendedLanes,(r&A)!==A){xn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=N1(bs.bind(null,t,Pn,Dr),e);break}bs(t,Pn,Dr);break;case 4:if(_i(t,A),(A&4194240)===A)break;for(e=t.eventTimes,r=-1;0<A;){var s=31-zA(A);i=1<<s,s=e[s],s>r&&(r=s),A&=~i}if(A=r,A=Ft()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*g_(A/1960))-A,10<A){t.timeoutHandle=N1(bs.bind(null,t,Pn,Dr),A);break}bs(t,Pn,Dr);break;case 5:bs(t,Pn,Dr);break;default:throw Error(W(329))}}}return zn(t,Ft()),t.callbackNode===n?wQ.bind(null,t):null}function rB(t,e){var n=fu;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&iB(e)),t}function iB(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function m_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var A=0;A<n.length;A++){var r=n[A],i=r.getSnapshot;r=r.value;try{if(!XA(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~ew,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zA(e),A=1<<n;t[n]=-1,e&=~A}}function Z2(t){if(He&6)throw Error(W(327));vl();var e=Rd(t,0);if(!(e&1))return zn(t,Ft()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var A=_1(t);A!==0&&(e=A,n=rB(t,A))}if(n===1)throw n=Ru,Xs(t,0),_i(t,e),zn(t,Ft()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,Pn,Dr),zn(t,Ft()),null}function nw(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Hl=Ft()+500,Wh&&us())}}function oo(t){Mi!==null&&Mi.tag===0&&!(He&6)&&vl();var e=He;He|=1;var n=EA.transition,A=Ve;try{if(EA.transition=null,Ve=1,t)return t()}finally{Ve=A,EA.transition=n,He=e,!(He&6)&&us()}}function Aw(){$n=dl.current,it(dl)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jk(n)),xt!==null)for(n=xt.return;n!==null;){var A=n;switch(Dy(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&zd();break;case 3:Tl(),it(Gn),it(vn),Wy();break;case 5:zy(A);break;case 4:Tl();break;case 13:it(dt);break;case 19:it(dt);break;case 10:Py(A.type._context);break;case 22:case 23:Aw()}n=n.return}if(jt=t,xt=t=ji(t.current,null),on=$n=e,Ot=0,Ru=null,ew=Yh=so=0,Pn=fu=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],A=n.interleaved,A!==null){n.interleaved=null;var r=A.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,A.next=s}n.pending=A}Ks=null}return t}function CQ(t,e){do{var n=xt;try{if(Ry(),wd.current=eh,Zd){for(var A=ht.memoizedState;A!==null;){var r=A.queue;r!==null&&(r.pending=null),A=A.next}Zd=!1}if(io=0,zt=Mt=ht=null,uu=!1,Du=0,Zy.current=null,n===null||n.return===null){Ot=1,Ru=e,xt=null;break}e:{var i=t,s=n.return,o=n,l=e;if(e=on,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=R2(s);if(g!==null){g.flags&=-257,P2(g,s,o,i,e),g.mode&1&&L2(i,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){L2(i,c,e),rw();break e}l=Error(W(426))}}else if(at&&o.mode&1){var F=R2(s);if(F!==null){!(F.flags&65536)&&(F.flags|=256),P2(F,s,o,i,e),Ny(Ml(l,o));break e}}i=l=Ml(l,o),Ot!==4&&(Ot=2),fu===null?fu=[i]:fu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=rQ(i,l,e);M2(i,v);break e;case 1:o=l;var E=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(zi===null||!zi.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var Q=iQ(i,o,e);M2(i,Q);break e}}i=i.return}while(i!==null)}FQ(n)}catch(U){e=U,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(1)}function vQ(){var t=th.current;return th.current=eh,t===null?eh:t}function rw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),jt===null||!(so&268435455)&&!(Yh&268435455)||_i(jt,on)}function rh(t,e){var n=He;He|=2;var A=vQ();(jt!==t||on!==e)&&(Dr=null,Xs(t,e));do try{B_();break}catch(r){CQ(t,r)}while(1);if(Ry(),He=n,th.current=A,xt!==null)throw Error(W(261));return jt=null,on=0,Ot}function B_(){for(;xt!==null;)SQ(xt)}function y_(){for(;xt!==null&&!V9();)SQ(xt)}function SQ(t){var e=QQ(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?FQ(t):xt=e,Zy.current=null}function FQ(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f_(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,xt=null;return}}else if(n=c_(n,e,$n),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Ot===0&&(Ot=5)}function bs(t,e,n){var A=Ve,r=EA.transition;try{EA.transition=null,Ve=1,w_(t,e,n,A)}finally{EA.transition=r,Ve=A}return null}function w_(t,e,n,A){do vl();while(Mi!==null);if(He&6)throw Error(W(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ek(t,i),t===jt&&(xt=jt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kf||(kf=!0,UQ(Ld,function(){return vl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=EA.transition,EA.transition=null;var s=Ve;Ve=1;var o=He;He|=4,Zy.current=null,h_(t,n),BQ(n,t),Rk(O1),Pd=!!b1,O1=b1=null,t.current=n,p_(n),z9(),He=o,Ve=s,EA.transition=i}else t.current=n;if(kf&&(kf=!1,Mi=t,Ah=r),i=t.pendingLanes,i===0&&(zi=null),X9(n.stateNode),zn(t,Ft()),e!==null)for(A=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],A(r.value,{componentStack:r.stack,digest:r.digest});if(nh)throw nh=!1,t=nB,nB=null,t;return Ah&1&&t.tag!==0&&vl(),i=t.pendingLanes,i&1?t===AB?du++:(du=0,AB=t):du=0,us(),null}function vl(){if(Mi!==null){var t=rE(Ah),e=EA.transition,n=Ve;try{if(EA.transition=null,Ve=16>t?16:t,Mi===null)var A=!1;else{if(t=Mi,Mi=null,Ah=0,He&6)throw Error(W(331));var r=He;for(He|=4,se=t.current;se!==null;){var i=se,s=i.child;if(se.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(se=c;se!==null;){var f=se;switch(f.tag){case 0:case 11:case 15:cu(8,f,i)}var d=f.child;if(d!==null)d.return=f,se=d;else for(;se!==null;){f=se;var p=f.sibling,g=f.return;if(pQ(f),f===c){se=null;break}if(p!==null){p.return=g,se=p;break}se=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var F=w.sibling;w.sibling=null,w=F}while(w!==null)}}se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,se=s;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,se=v;break e}se=i.return}}var E=t.current;for(se=E;se!==null;){s=se;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,se=C;else e:for(s=E;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jh(9,o)}}catch(U){mt(o,o.return,U)}if(o===s){se=null;break e}var Q=o.sibling;if(Q!==null){Q.return=o.return,se=Q;break e}se=o.return}}if(He=r,us(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Ph,t)}catch{}A=!0}return A}finally{Ve=n,EA.transition=e}}return!1}function e4(t,e,n){e=Ml(n,e),e=rQ(t,e,1),t=Vi(t,e,1),e=xn(),t!==null&&(sc(t,1,e),zn(t,e))}function mt(t,e,n){if(t.tag===3)e4(t,t,n);else for(;e!==null;){if(e.tag===3){e4(e,t,n);break}else if(e.tag===1){var A=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(zi===null||!zi.has(A))){t=Ml(n,t),t=iQ(e,t,1),e=Vi(e,t,1),t=xn(),e!==null&&(sc(e,1,t),zn(e,t));break}}e=e.return}}function C_(t,e,n){var A=t.pingCache;A!==null&&A.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(on&n)===n&&(Ot===4||Ot===3&&(on&130023424)===on&&500>Ft()-tw?Xs(t,0):ew|=n),zn(t,e)}function EQ(t,e){e===0&&(t.mode&1?(e=yf,yf<<=1,!(yf&130023424)&&(yf=4194304)):e=1);var n=xn();t=$r(t,e),t!==null&&(sc(t,e,n),zn(t,n))}function v_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EQ(t,n)}function S_(t,e){var n=0;switch(t.tag){case 13:var A=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:A=t.stateNode;break;default:throw Error(W(314))}A!==null&&A.delete(e),EQ(t,n)}var QQ;QQ=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,u_(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,at&&e.flags&1048576&&_E(e,Xd,e.index);switch(e.lanes=0,e.tag){case 2:var A=e.type;vd(t,e),t=e.pendingProps;var r=kl(e,vn.current);Cl(e,n),r=Xy(null,e,A,t,r,n);var i=Jy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(A)?(i=!0,Wd(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Gy(e),r.updater=Xh,e.stateNode=r,r._reactInternals=e,z1(e,A,t,n),e=X1(null,e,A,!0,i,n)):(e.tag=0,at&&i&&Oy(e),Un(null,e,r,n),e=e.child),e;case 16:A=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,r=A._init,A=r(A._payload),e.type=A,r=e.tag=E_(A),t=RA(A,t),r){case 0:e=j1(null,e,A,t,n);break e;case 1:e=V2(null,e,A,t,n);break e;case 11:e=K2(null,e,A,t,n);break e;case 14:e=G2(null,e,A,RA(A.type,t),n);break e}throw Error(W(306,A,""))}return e;case 0:return A=e.type,r=e.pendingProps,r=e.elementType===A?r:RA(A,r),j1(t,e,A,r,n);case 1:return A=e.type,r=e.pendingProps,r=e.elementType===A?r:RA(A,r),V2(t,e,A,r,n);case 3:e:{if(aQ(e),t===null)throw Error(W(387));A=e.pendingProps,i=e.memoizedState,r=i.element,OE(t,e),$d(e,A,null,n);var s=e.memoizedState;if(A=s.element,i.isDehydrated)if(i={element:A,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ml(Error(W(423)),e),e=z2(t,e,A,n,r);break e}else if(A!==r){r=Ml(Error(W(424)),e),e=z2(t,e,A,n,r);break e}else for(Zn=Gi(e.stateNode.containerInfo.firstChild),eA=e,at=!0,KA=null,n=HE(e,null,A,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),A===r){e=qr(t,e,n);break e}Un(t,e,A,n)}e=e.child}return e;case 5:return DE(e),t===null&&K1(e),A=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,s=r.children,D1(A,r)?s=null:i!==null&&D1(A,i)&&(e.flags|=32),lQ(t,e),Un(t,e,s,n),e.child;case 6:return t===null&&K1(e),null;case 13:return uQ(t,e,n);case 4:return Vy(e,e.stateNode.containerInfo),A=e.pendingProps,t===null?e.child=Il(e,null,A,n):Un(t,e,A,n),e.child;case 11:return A=e.type,r=e.pendingProps,r=e.elementType===A?r:RA(A,r),K2(t,e,A,r,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(A=e.type._context,r=e.pendingProps,i=e.memoizedProps,s=r.value,et(Jd,A._currentValue),A._currentValue=s,i!==null)if(XA(i.value,s)){if(i.children===r.children&&!Gn.current){e=qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===A){if(i.tag===1){l=Gr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),G1(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(W(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),G1(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Un(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,A=e.pendingProps.children,Cl(e,n),r=xA(r),A=A(r),e.flags|=1,Un(t,e,A,n),e.child;case 14:return A=e.type,r=RA(A,e.pendingProps),r=RA(A.type,r),G2(t,e,A,r,n);case 15:return sQ(t,e,e.type,e.pendingProps,n);case 17:return A=e.type,r=e.pendingProps,r=e.elementType===A?r:RA(A,r),vd(t,e),e.tag=1,Vn(A)?(t=!0,Wd(e)):t=!1,Cl(e,n),AQ(e,A,r),z1(e,A,r,n),X1(null,e,A,!0,t,n);case 19:return cQ(t,e,n);case 22:return oQ(t,e,n)}throw Error(W(156,e.tag))};function UQ(t,e){return eE(t,e)}function F_(t,e,n,A){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function CA(t,e,n,A){return new F_(t,e,n,A)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E_(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fy)return 11;if(t===Ey)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=CA(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ed(t,e,n,A,r,i){var s=2;if(A=t,typeof t=="function")iw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Al:return Js(n.children,r,i,e);case Sy:s=8,r|=8;break;case p1:return t=CA(12,n,e,r|2),t.elementType=p1,t.lanes=i,t;case g1:return t=CA(13,n,e,r),t.elementType=g1,t.lanes=i,t;case m1:return t=CA(19,n,e,r),t.elementType=m1,t.lanes=i,t;case D3:return $h(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b3:s=10;break e;case O3:s=9;break e;case Fy:s=11;break e;case Ey:s=14;break e;case Fi:s=16,A=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=CA(s,n,e,r),e.elementType=t,e.type=A,e.lanes=i,e}function Js(t,e,n,A){return t=CA(7,t,A,e),t.lanes=n,t}function $h(t,e,n,A){return t=CA(22,t,A,e),t.elementType=D3,t.lanes=n,t.stateNode={isHidden:!1},t}function om(t,e,n){return t=CA(6,t,null,e),t.lanes=n,t}function lm(t,e,n){return e=CA(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q_(t,e,n,A,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K0(0),this.expirationTimes=K0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K0(0),this.identifierPrefix=A,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sw(t,e,n,A,r,i,s,o,l){return t=new Q_(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=CA(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:A,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(i),t}function U_(t,e,n){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nl,key:A==null?null:""+A,children:t,containerInfo:e,implementation:n}}function xQ(t){if(!t)return ns;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Vn(n))return xE(t,n,e)}return e}function kQ(t,e,n,A,r,i,s,o,l){return t=sw(n,A,!0,t,r,i,s,o,l),t.context=xQ(null),n=t.current,A=xn(),r=Wi(n),i=Gr(A,r),i.callback=e??null,Vi(n,i,r),t.current.lanes=r,sc(t,r,A),zn(t,A),t}function qh(t,e,n,A){var r=e.current,i=xn(),s=Wi(r);return n=xQ(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,s),e.payload={element:t},A=A===void 0?null:A,A!==null&&(e.callback=A),t=Vi(r,e,s),t!==null&&(WA(t,r,s,i),yd(t,r,s)),s}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){t4(t,e),(t=t.alternate)&&t4(t,e)}function x_(){return null}var _Q=typeof reportError=="function"?reportError:function(t){console.error(t)};function lw(t){this._internalRoot=t}Zh.prototype.render=lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));qh(t,e,null,null)};Zh.prototype.unmount=lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){qh(null,t,null,null)}),e[Yr]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=oE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&aE(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n4(){}function k_(t,e,n,A,r){if(r){if(typeof A=="function"){var i=A;A=function(){var c=ih(s);i.call(c)}}var s=kQ(e,A,t,0,null,!1,!1,"",n4);return t._reactRootContainer=s,t[Yr]=s.current,Tu(t.nodeType===8?t.parentNode:t),oo(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof A=="function"){var o=A;A=function(){var c=ih(l);o.call(c)}}var l=sw(t,0,!1,null,null,!1,!1,"",n4);return t._reactRootContainer=l,t[Yr]=l.current,Tu(t.nodeType===8?t.parentNode:t),oo(function(){qh(e,l,n,A)}),l}function tp(t,e,n,A,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var o=r;r=function(){var l=ih(s);o.call(l)}}qh(e,s,t,r)}else s=k_(n,e,t,r,A);return ih(s)}iE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(xy(e,n|1),zn(e,Ft()),!(He&6)&&(Hl=Ft()+500,us()))}break;case 13:oo(function(){var A=$r(t,1);if(A!==null){var r=xn();WA(A,t,1,r)}}),ow(t,1)}};ky=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=xn();WA(e,t,134217728,n)}ow(t,134217728)}};sE=function(t){if(t.tag===13){var e=Wi(t),n=$r(t,e);if(n!==null){var A=xn();WA(n,t,e,A)}ow(t,e)}};oE=function(){return Ve};lE=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};U1=function(t,e,n){switch(e){case"input":if(w1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var A=n[e];if(A!==t&&A.form===t.form){var r=zh(A);if(!r)throw Error(W(90));L3(A),w1(A,r)}}}break;case"textarea":P3(t,n);break;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}};X3=nw;J3=oo;var __={usingClientEntryPoint:!1,Events:[lc,ol,zh,W3,j3,nw]},Ta={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I_={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q3(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||x_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Ph=_f.inject(I_),pr=_f}catch{}}rA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;rA.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(W(200));return U_(t,e,null,n)};rA.createRoot=function(t,e){if(!aw(t))throw Error(W(299));var n=!1,A="",r=_Q;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(A=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=sw(t,1,!1,null,null,n,!1,A,r),t[Yr]=e.current,Tu(t.nodeType===8?t.parentNode:t),new lw(e)};rA.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=q3(e),t=t===null?null:t.stateNode,t};rA.flushSync=function(t){return oo(t)};rA.hydrate=function(t,e,n){if(!ep(e))throw Error(W(200));return tp(null,t,e,!0,n)};rA.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(W(405));var A=n!=null&&n.hydratedSources||null,r=!1,i="",s=_Q;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=kQ(e,null,t,1,n??null,r,!1,i,s),t[Yr]=e.current,Tu(t),A)for(t=0;t<A.length;t++)n=A[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Zh(e)};rA.render=function(t,e,n){if(!ep(e))throw Error(W(200));return tp(null,t,e,!1,n)};rA.unmountComponentAtNode=function(t){if(!ep(t))throw Error(W(40));return t._reactRootContainer?(oo(function(){tp(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};rA.unstable_batchedUpdates=nw;rA.unstable_renderSubtreeIntoContainer=function(t,e,n,A){if(!ep(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return tp(t,e,n,!1,A)};rA.version="18.3.1-next-f1338f8080-20240426";function IQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IQ)}catch(t){console.error(t)}}IQ(),I3.exports=rA;var TQ=I3.exports;const T_=rc(TQ);var MQ,A4=TQ;MQ=A4.createRoot,A4.hydrateRoot;var HQ={exports:{}},bQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=ae;function M_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var H_=typeof Object.is=="function"?Object.is:M_,b_=uc.useSyncExternalStore,O_=uc.useRef,D_=uc.useEffect,N_=uc.useMemo,L_=uc.useDebugValue;bQ.useSyncExternalStoreWithSelector=function(t,e,n,A,r){var i=O_(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=N_(function(){function l(g){if(!c){if(c=!0,f=g,g=A(g),r!==void 0&&s.hasValue){var m=s.value;if(r(m,g))return d=m}return d=g}if(m=d,H_(f,g))return m;var w=A(g);return r!==void 0&&r(m,w)?(f=g,m):(f=g,d=w)}var c=!1,f,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,A,r]);var o=b_(t,i[0],i[1]);return D_(function(){s.hasValue=!0,s.value=o},[o]),L_(o),o};HQ.exports=bQ;var R_=HQ.exports;function P_(t){t()}function K_(){let t=null,e=null;return{clear(){t=null,e=null},notify(){P_(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let A=t;for(;A;)n.push(A),A=A.next;return n},subscribe(n){let A=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!A||t===null||(A=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var r4={notify(){},get:()=>[]};function G_(t,e){let n,A=r4,r=0,i=!1;function s(w){f();const F=A.subscribe(w);let v=!1;return()=>{v||(v=!0,F(),d())}}function o(){A.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return i}function f(){r++,n||(n=e?e.addNestedSub(l):t.subscribe(l),A=K_())}function d(){r--,n&&r===0&&(n(),n=void 0,A.clear(),A=r4)}function p(){i||(i=!0,f())}function g(){i&&(i=!1,d())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>A};return m}var V_=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=V_(),W_=()=>typeof navigator<"u"&&navigator.product==="ReactNative",j_=W_(),X_=()=>z_||j_?ae.useLayoutEffect:ae.useEffect,J_=X_(),am=Symbol.for("react-redux-context"),um=typeof globalThis<"u"?globalThis:{};function Y_(){if(!ae.createContext)return{};const t=um[am]??(um[am]=new Map);let e=t.get(ae.createContext);return e||(e=ae.createContext(null),t.set(ae.createContext,e)),e}var As=Y_();function $_(t){const{children:e,context:n,serverState:A,store:r}=t,i=ae.useMemo(()=>{const l=G_(r);return{store:r,subscription:l,getServerState:A?()=>A:void 0}},[r,A]),s=ae.useMemo(()=>r.getState(),[r]);J_(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=n||As;return ae.createElement(o.Provider,{value:i},e)}var q_=$_;function uw(t=As){return function(){return ae.useContext(t)}}var OQ=uw();function DQ(t=As){const e=t===As?OQ:uw(t),n=()=>{const{store:A}=e();return A};return Object.assign(n,{withTypes:()=>n}),n}var Z_=DQ();function eI(t=As){const e=t===As?Z_:DQ(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var tI=eI(),nI=(t,e)=>t===e;function AI(t=As){const e=t===As?OQ:uw(t),n=(A,r={})=>{const{equalityFn:i=nI}=typeof r=="function"?{equalityFn:r}:r,s=e(),{store:o,subscription:l,getServerState:c}=s;ae.useRef(!0);const f=ae.useCallback({[A.name](p){return A(p)}}[A.name],[A]),d=R_.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,f,i);return ae.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var rI=AI();function Zt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iI=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),i4=iI,cm=()=>Math.random().toString(36).substring(7).split("").join("."),sI={INIT:`@@redux/INIT${cm()}`,REPLACE:`@@redux/REPLACE${cm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cm()}`},sh=sI;function cw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function NQ(t,e,n){if(typeof t!="function")throw new Error(Zt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(NQ)(t,e)}let A=t,r=e,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((F,v)=>{s.set(v,F)}))}function f(){if(l)throw new Error(Zt(3));return r}function d(F){if(typeof F!="function")throw new Error(Zt(4));if(l)throw new Error(Zt(5));let v=!0;c();const E=o++;return s.set(E,F),function(){if(v){if(l)throw new Error(Zt(6));v=!1,c(),s.delete(E),i=null}}}function p(F){if(!cw(F))throw new Error(Zt(7));if(typeof F.type>"u")throw new Error(Zt(8));if(typeof F.type!="string")throw new Error(Zt(17));if(l)throw new Error(Zt(9));try{l=!0,r=A(r,F)}finally{l=!1}return(i=s).forEach(E=>{E()}),F}function g(F){if(typeof F!="function")throw new Error(Zt(10));A=F,p({type:sh.REPLACE})}function m(){const F=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Zt(11));function E(){const Q=v;Q.next&&Q.next(f())}return E(),{unsubscribe:F(E)}},[i4](){return this}}}return p({type:sh.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:g,[i4]:m}}function oI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:sh.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:sh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function lI(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const s=e[i];typeof t[s]=="function"&&(n[s]=t[s])}const A=Object.keys(n);let r;try{oI(n)}catch(i){r=i}return function(s={},o){if(r)throw r;let l=!1;const c={};for(let f=0;f<A.length;f++){const d=A[f],p=n[d],g=s[d],m=p(g,o);if(typeof m>"u")throw o&&o.type,new Error(Zt(14));c[d]=m,l=l||m!==g}return l=l||A.length!==Object.keys(s).length,l?c:s}}function oh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...A)=>e(n(...A)))}function aI(...t){return e=>(n,A)=>{const r=e(n,A);let i=()=>{throw new Error(Zt(15))};const s={getState:r.getState,dispatch:(l,...c)=>i(l,...c)},o=t.map(l=>l(s));return i=oh(...o)(r.dispatch),{...r,dispatch:i}}}function uI(t){return cw(t)&&"type"in t&&typeof t.type=="string"}var LQ=Symbol.for("immer-nothing"),s4=Symbol.for("immer-draftable"),nA=Symbol.for("immer-state");function GA(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bl=Object.getPrototypeOf;function lo(t){return!!t&&!!t[nA]}function Zr(t){var e;return t?RQ(t)||Array.isArray(t)||!!t[s4]||!!((e=t.constructor)!=null&&e[s4])||Ap(t)||rp(t):!1}var cI=Object.prototype.constructor.toString();function RQ(t){if(!t||typeof t!="object")return!1;const e=bl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===cI}function lh(t,e){np(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,A)=>e(A,n,t))}function np(t){const e=t[nA];return e?e.type_:Array.isArray(t)?1:Ap(t)?2:rp(t)?3:0}function sB(t,e){return np(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PQ(t,e,n){const A=np(t);A===2?t.set(e,n):A===3?t.add(n):t[e]=n}function fI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ap(t){return t instanceof Map}function rp(t){return t instanceof Set}function Os(t){return t.copy_||t.base_}function oB(t,e){if(Ap(t))return new Map(t);if(rp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RQ(t);if(e===!0||e==="class_only"&&!n){const A=Object.getOwnPropertyDescriptors(t);delete A[nA];let r=Reflect.ownKeys(A);for(let i=0;i<r.length;i++){const s=r[i],o=A[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(A[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(bl(t),A)}else{const A=bl(t);if(A!==null&&n)return{...t};const r=Object.create(A);return Object.assign(r,t)}}function fw(t,e=!1){return ip(t)||lo(t)||!Zr(t)||(np(t)>1&&(t.set=t.add=t.clear=t.delete=dI),Object.freeze(t),e&&Object.entries(t).forEach(([n,A])=>fw(A,!0))),t}function dI(){GA(2)}function ip(t){return Object.isFrozen(t)}var hI={};function ao(t){const e=hI[t];return e||GA(0,t),e}var Pu;function KQ(){return Pu}function pI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o4(t,e){e&&(ao("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lB(t){aB(t),t.drafts_.forEach(gI),t.drafts_=null}function aB(t){t===Pu&&(Pu=t.parent_)}function l4(t){return Pu=pI(Pu,t)}function gI(t){const e=t[nA];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function a4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[nA].modified_&&(lB(e),GA(4)),Zr(t)&&(t=ah(e,t),e.parent_||uh(e,t)),e.patches_&&ao("Patches").generateReplacementPatches_(n[nA].base_,t,e.patches_,e.inversePatches_)):t=ah(e,n,[]),lB(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LQ?t:void 0}function ah(t,e,n){if(ip(e))return e;const A=e[nA];if(!A)return lh(e,(r,i)=>u4(t,A,e,r,i,n)),e;if(A.scope_!==t)return e;if(!A.modified_)return uh(t,A.base_,!0),A.base_;if(!A.finalized_){A.finalized_=!0,A.scope_.unfinalizedDrafts_--;const r=A.copy_;let i=r,s=!1;A.type_===3&&(i=new Set(r),r.clear(),s=!0),lh(i,(o,l)=>u4(t,A,r,o,l,n,s)),uh(t,r,!1),n&&t.patches_&&ao("Patches").generatePatches_(A,n,t.patches_,t.inversePatches_)}return A.copy_}function u4(t,e,n,A,r,i,s){if(lo(r)){const o=i&&e&&e.type_!==3&&!sB(e.assigned_,A)?i.concat(A):void 0,l=ah(t,r,o);if(PQ(n,A,l),lo(l))t.canAutoFreeze_=!1;else return}else s&&n.add(r);if(Zr(r)&&!ip(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ah(t,r),(!e||!e.scope_.parent_)&&typeof A!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,A)&&uh(t,r)}}function uh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&fw(e,n)}function mI(t,e){const n=Array.isArray(t),A={type_:n?1:0,scope_:e?e.scope_:KQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=A,i=dw;n&&(r=[A],i=Ku);const{revoke:s,proxy:o}=Proxy.revocable(r,i);return A.draft_=o,A.revoke_=s,o}var dw={get(t,e){if(e===nA)return t;const n=Os(t);if(!sB(n,e))return BI(t,n,e);const A=n[e];return t.finalized_||!Zr(A)?A:A===fm(t.base_,e)?(dm(t),t.copy_[e]=cB(A,t)):A},has(t,e){return e in Os(t)},ownKeys(t){return Reflect.ownKeys(Os(t))},set(t,e,n){const A=GQ(Os(t),e);if(A!=null&&A.set)return A.set.call(t.draft_,n),!0;if(!t.modified_){const r=fm(Os(t),e),i=r==null?void 0:r[nA];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(fI(n,r)&&(n!==void 0||sB(t.base_,e)))return!0;dm(t),uB(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,dm(t),uB(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Os(t),A=Reflect.getOwnPropertyDescriptor(n,e);return A&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:A.enumerable,value:n[e]}},defineProperty(){GA(11)},getPrototypeOf(t){return bl(t.base_)},setPrototypeOf(){GA(12)}},Ku={};lh(dw,(t,e)=>{Ku[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ku.deleteProperty=function(t,e){return Ku.set.call(this,t,e,void 0)};Ku.set=function(t,e,n){return dw.set.call(this,t[0],e,n,t[0])};function fm(t,e){const n=t[nA];return(n?Os(n):t)[e]}function BI(t,e,n){var r;const A=GQ(e,n);return A?"value"in A?A.value:(r=A.get)==null?void 0:r.call(t.draft_):void 0}function GQ(t,e){if(!(e in t))return;let n=bl(t);for(;n;){const A=Object.getOwnPropertyDescriptor(n,e);if(A)return A;n=bl(n)}}function uB(t){t.modified_||(t.modified_=!0,t.parent_&&uB(t.parent_))}function dm(t){t.copy_||(t.copy_=oB(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,A)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const s=this;return function(l=i,...c){return s.produce(l,f=>n.call(this,f,...c))}}typeof n!="function"&&GA(6),A!==void 0&&typeof A!="function"&&GA(7);let r;if(Zr(e)){const i=l4(this),s=cB(e,void 0);let o=!0;try{r=n(s),o=!1}finally{o?lB(i):aB(i)}return o4(i,A),a4(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===LQ&&(r=void 0),this.autoFreeze_&&fw(r,!0),A){const i=[],s=[];ao("Patches").generateReplacementPatches_(e,r,i,s),A(i,s)}return r}else GA(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let A,r;return[this.produce(e,n,(s,o)=>{A=s,r=o}),A,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Zr(t)||GA(8),lo(t)&&(t=wI(t));const e=l4(this),n=cB(t,void 0);return n[nA].isManual_=!0,aB(e),n}finishDraft(t,e){const n=t&&t[nA];(!n||!n.isManual_)&&GA(9);const{scope_:A}=n;return o4(A,e),a4(void 0,A)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const A=ao("Patches").applyPatches_;return lo(t)?A(t,e):this.produce(t,r=>A(r,e))}};function cB(t,e){const n=Ap(t)?ao("MapSet").proxyMap_(t,e):rp(t)?ao("MapSet").proxySet_(t,e):mI(t,e);return(e?e.scope_:KQ()).drafts_.push(n),n}function wI(t){return lo(t)||GA(10,t),VQ(t)}function VQ(t){if(!Zr(t)||ip(t))return t;const e=t[nA];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=oB(t,e.scope_.immer_.useStrictShallowCopy_)}else n=oB(t,!0);return lh(n,(A,r)=>{PQ(n,A,VQ(r))}),e&&(e.finalized_=!1),n}var AA=new yI,zQ=AA.produce;AA.produceWithPatches.bind(AA);AA.setAutoFreeze.bind(AA);AA.setUseStrictShallowCopy.bind(AA);AA.applyPatches.bind(AA);AA.createDraft.bind(AA);AA.finishDraft.bind(AA);function WQ(t){return({dispatch:n,getState:A})=>r=>i=>typeof i=="function"?i(n,A,t):r(i)}var CI=WQ(),vI=WQ,SI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oh:oh.apply(null,arguments)};function c4(t,e){function n(...A){if(e){let r=e(...A);if(!r)throw new Error(Vr(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:A[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=A=>uI(A)&&A.type===t,n}var jQ=class Wa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wa.prototype)}static get[Symbol.species](){return Wa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wa(...e[0].concat(this)):new Wa(...e.concat(this))}};function f4(t){return Zr(t)?zQ(t,()=>{}):t}function d4(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function FI(t){return typeof t=="boolean"}var EI=()=>function(e){const{thunk:n=!0,immutableCheck:A=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new jQ;return n&&(FI(n)?s.push(CI):s.push(vI(n.extraArgument))),s},QI="RTK_autoBatch",h4=t=>e=>{setTimeout(e,t)},UI=(t={type:"raf"})=>e=>(...n)=>{const A=e(...n);let r=!0,i=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h4(10):t.type==="callback"?t.queueNotification:h4(t.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(f=>f()))};return Object.assign({},A,{subscribe(f){const d=()=>r&&f(),p=A.subscribe(d);return o.add(f),()=>{p(),o.delete(f)}},dispatch(f){var d;try{return r=!((d=f==null?void 0:f.meta)!=null&&d[QI]),i=!r,i&&(s||(s=!0,l(c))),A.dispatch(f)}finally{r=!0}}})},xI=t=>function(n){const{autoBatch:A=!0}=n??{};let r=new jQ(t);return A&&r.push(UI(typeof A=="object"?A:void 0)),r};function kI(t){const e=EI(),{reducer:n=void 0,middleware:A,devTools:r=!0,preloadedState:i=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(cw(n))o=lI(n);else throw new Error(Vr(1));let l;typeof A=="function"?l=A(e):l=e();let c=oh;r&&(c=SI({trace:!1,...typeof r=="object"&&r}));const f=aI(...l),d=xI(f);let p=typeof s=="function"?s(d):d();const g=c(...p);return NQ(o,i,g)}function XQ(t){const e={},n=[];let A;const r={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Vr(28));if(o in e)throw new Error(Vr(29));return e[o]=s,r},addMatcher(i,s){return n.push({matcher:i,reducer:s}),r},addDefaultCase(i){return A=i,r}};return t(r),[e,n,A]}function _I(t){return typeof t=="function"}function II(t,e){let[n,A,r]=XQ(e),i;if(_I(t))i=()=>f4(t());else{const o=f4(t);i=()=>o}function s(o=i(),l){let c=[n[l.type],...A.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[r]),c.reduce((f,d)=>{if(d)if(lo(f)){const g=d(f,l);return g===void 0?f:g}else{if(Zr(f))return zQ(f,p=>d(p,l));{const p=d(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},o)}return s.getInitialState=i,s}var TI=Symbol.for("rtk-slice-createasyncthunk");function MI(t,e){return`${t}/${e}`}function HI({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[TI];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Vr(11));typeof process<"u";const o=(typeof r.reducers=="function"?r.reducers(OI()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,Q){const U=typeof C=="string"?C:C.type;if(!U)throw new Error(Vr(12));if(U in c.sliceCaseReducersByType)throw new Error(Vr(13));return c.sliceCaseReducersByType[U]=Q,f},addMatcher(C,Q){return c.sliceMatchers.push({matcher:C,reducer:Q}),f},exposeAction(C,Q){return c.actionCreators[C]=Q,f},exposeCaseReducer(C,Q){return c.sliceCaseReducersByName[C]=Q,f}};l.forEach(C=>{const Q=o[C],U={reducerName:C,type:MI(i,C),createNotation:typeof r.reducers=="function"};NI(Q)?RI(U,Q,f,e):DI(U,Q,f)});function d(){const[C={},Q=[],U=void 0]=typeof r.extraReducers=="function"?XQ(r.extraReducers):[r.extraReducers],x={...C,...c.sliceCaseReducersByType};return II(r.initialState,M=>{for(let k in x)M.addCase(k,x[k]);for(let k of c.sliceMatchers)M.addMatcher(k.matcher,k.reducer);for(let k of Q)M.addMatcher(k.matcher,k.reducer);U&&M.addDefaultCase(U)})}const p=C=>C,g=new Map;let m;function w(C,Q){return m||(m=d()),m(C,Q)}function F(){return m||(m=d()),m.getInitialState()}function v(C,Q=!1){function U(M){let k=M[C];return typeof k>"u"&&Q&&(k=F()),k}function x(M=p){const k=d4(g,Q,()=>new WeakMap);return d4(k,M,()=>{const T={};for(const[I,H]of Object.entries(r.selectors??{}))T[I]=bI(H,M,F,Q);return T})}return{reducerPath:C,getSelectors:x,get selectors(){return x(U)},selectSlice:U}}const E={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:F,...v(s),injectInto(C,{reducerPath:Q,...U}={}){const x=Q??s;return C.inject({reducerPath:x,reducer:w},U),{...E,...v(x,!0)}}};return E}}function bI(t,e,n,A){function r(i,...s){let o=e(i);return typeof o>"u"&&A&&(o=n()),t(o,...s)}return r.unwrapped=t,r}var JQ=HI();function OI(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function DI({type:t,reducerName:e,createNotation:n},A,r){let i,s;if("reducer"in A){if(n&&!LI(A))throw new Error(Vr(17));i=A.reducer,s=A.prepare}else i=A;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,s?c4(t,s):c4(t))}function NI(t){return t._reducerDefinitionType==="asyncThunk"}function LI(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RI({type:t,reducerName:e},n,A,r){if(!r)throw new Error(Vr(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:f}=n,d=r(t,i,f);A.exposeAction(e,d),s&&A.addCase(d.fulfilled,s),o&&A.addCase(d.pending,o),l&&A.addCase(d.rejected,l),c&&A.addMatcher(d.settled,c),A.exposeCaseReducer(e,{fulfilled:s||If,pending:o||If,rejected:l||If,settled:c||If})}function If(){}function Vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const PI={shapes:[],selectedShapeId:null,stagePosition:{x:0,y:0},scale:1},YQ=JQ({name:"canvas",initialState:PI,reducers:{addShape:(t,e)=>{t.shapes.push(e.payload)},updateShape:(t,e)=>{const n=t.shapes.findIndex(A=>A.id===e.payload.id);n!==-1&&(t.shapes[n]=e.payload)},setSelectedShape:(t,e)=>{t.selectedShapeId=e.payload},updateStagePosition:(t,e)=>{t.stagePosition=e.payload},updateScale:(t,e)=>{t.scale=e.payload}}}),{addShape:KI,updateShape:hu,setSelectedShape:GI,updateStagePosition:VI,updateScale:zI}=YQ.actions,WI=YQ.reducer,jI={currentTool:"cursor",isEditing:!1},$Q=JQ({name:"tool",initialState:jI,reducers:{setTool:(t,e)=>{t.currentTool=e.payload},setEditing:(t,e)=>{t.isEditing=e.payload}}}),{setTool:XI,setEditing:fB}=$Q.actions,JI=$Q.reducer,YI=kI({reducer:{canvas:WI,tool:JI},middleware:t=>t({serializableCheck:{ignoredActions:["canvas/updateShape"]}})});var qQ={exports:{}},sp={},ch={},Qe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Xv<"u"?Xv:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.18",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const A=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=A,t.Konva._injectGlobal(t.Konva)})(Qe);var gt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Qe;class n{constructor(Q=[1,0,0,1,0,0]){this.dirty=!1,this.m=Q&&Q.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(Q){Q.m[0]=this.m[0],Q.m[1]=this.m[1],Q.m[2]=this.m[2],Q.m[3]=this.m[3],Q.m[4]=this.m[4],Q.m[5]=this.m[5]}point(Q){const U=this.m;return{x:U[0]*Q.x+U[2]*Q.y+U[4],y:U[1]*Q.x+U[3]*Q.y+U[5]}}translate(Q,U){return this.m[4]+=this.m[0]*Q+this.m[2]*U,this.m[5]+=this.m[1]*Q+this.m[3]*U,this}scale(Q,U){return this.m[0]*=Q,this.m[1]*=Q,this.m[2]*=U,this.m[3]*=U,this}rotate(Q){const U=Math.cos(Q),x=Math.sin(Q),M=this.m[0]*U+this.m[2]*x,k=this.m[1]*U+this.m[3]*x,T=this.m[0]*-x+this.m[2]*U,I=this.m[1]*-x+this.m[3]*U;return this.m[0]=M,this.m[1]=k,this.m[2]=T,this.m[3]=I,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(Q,U){const x=this.m[0]+this.m[2]*U,M=this.m[1]+this.m[3]*U,k=this.m[2]+this.m[0]*Q,T=this.m[3]+this.m[1]*Q;return this.m[0]=x,this.m[1]=M,this.m[2]=k,this.m[3]=T,this}multiply(Q){const U=this.m[0]*Q.m[0]+this.m[2]*Q.m[1],x=this.m[1]*Q.m[0]+this.m[3]*Q.m[1],M=this.m[0]*Q.m[2]+this.m[2]*Q.m[3],k=this.m[1]*Q.m[2]+this.m[3]*Q.m[3],T=this.m[0]*Q.m[4]+this.m[2]*Q.m[5]+this.m[4],I=this.m[1]*Q.m[4]+this.m[3]*Q.m[5]+this.m[5];return this.m[0]=U,this.m[1]=x,this.m[2]=M,this.m[3]=k,this.m[4]=T,this.m[5]=I,this}invert(){const Q=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),U=this.m[3]*Q,x=-this.m[1]*Q,M=-this.m[2]*Q,k=this.m[0]*Q,T=Q*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),I=Q*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=U,this.m[1]=x,this.m[2]=M,this.m[3]=k,this.m[4]=T,this.m[5]=I,this}getMatrix(){return this.m}decompose(){const Q=this.m[0],U=this.m[1],x=this.m[2],M=this.m[3],k=this.m[4],T=this.m[5],I=Q*M-U*x,H={x:k,y:T,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(Q!=0||U!=0){const P=Math.sqrt(Q*Q+U*U);H.rotation=U>0?Math.acos(Q/P):-Math.acos(Q/P),H.scaleX=P,H.scaleY=I/P,H.skewX=(Q*x+U*M)/I,H.skewY=0}else if(x!=0||M!=0){const P=Math.sqrt(x*x+M*M);H.rotation=Math.PI/2-(M>0?Math.acos(-x/P):-Math.acos(x/P)),H.scaleX=I/P,H.scaleY=P,H.skewX=0,H.skewY=(Q*x+U*M)/I}return H.rotation=t.Util._getRotation(H.rotation),H}}t.Transform=n;const A="[object Array]",r="[object Number]",i="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",f="",d="0",p="Konva warning: ",g="Konva error: ",m="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},F=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let v=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};t.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===A},_isNumber(C){return Object.prototype.toString.call(C)===r&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===i},_isBoolean(C){return Object.prototype.toString.call(C)===s},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;const Q=C[0];return Q==="#"||Q==="."||Q===Q.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){v.push(C),v.length===1&&E(function(){const Q=v;v=[],Q.forEach(function(U){U()})})},createCanvasElement(){const C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,Q){const U=t.Util.createImageElement();U.onload=function(){Q(U)},U.src=C},_rgbToHex(C,Q,U){return((1<<24)+(C<<16)+(Q<<8)+U).toString(16).slice(1)},_hexToRgb(C){C=C.replace(c,f);const Q=parseInt(C,16);return{r:Q>>16&255,g:Q>>8&255,b:Q&255}},getRandomColor(){let C=(Math.random()*16777215<<0).toString(16);for(;C.length<6;)C=d+C;return c+C},getRGB(C){let Q;return C in w?(Q=w[C],{r:Q[0],g:Q[1],b:Q[2]}):C[0]===c?this._hexToRgb(C.substring(1)):C.substr(0,4)===m?(Q=F.exec(C.replace(/ /g,"")),{r:parseInt(Q[1],10),g:parseInt(Q[2],10),b:parseInt(Q[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",t.Util._namedColorToRBA(C)||t.Util._hex3ColorToRGBA(C)||t.Util._hex4ColorToRGBA(C)||t.Util._hex6ColorToRGBA(C)||t.Util._hex8ColorToRGBA(C)||t.Util._rgbColorToRGBA(C)||t.Util._rgbaColorToRGBA(C)||t.Util._hslColorToRGBA(C)},_namedColorToRBA(C){const Q=w[C.toLowerCase()];return Q?{r:Q[0],g:Q[1],b:Q[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];const Q=C.split(/ *, */).map(Number);return{r:Q[0],g:Q[1],b:Q[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];const Q=C.split(/ *, */).map((U,x)=>U.slice(-1)==="%"?x===3?parseInt(U)/100:parseInt(U)/100*255:Number(U));return{r:Q[0],g:Q[1],b:Q[2],a:Q[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[Q,...U]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),x=Number(U[0])/360,M=Number(U[1])/100,k=Number(U[2])/100;let T,I,H;if(M===0)return H=k*255,{r:Math.round(H),g:Math.round(H),b:Math.round(H),a:1};k<.5?T=k*(1+M):T=k+M-k*M;const P=2*k-T,V=[0,0,0];for(let Y=0;Y<3;Y++)I=x+1/3*-(Y-1),I<0&&I++,I>1&&I--,6*I<1?H=P+(T-P)*6*I:2*I<1?H=T:3*I<2?H=P+(T-P)*(2/3-I)*6:H=P,V[Y]=H*255;return{r:Math.round(V[0]),g:Math.round(V[1]),b:Math.round(V[2]),a:1}}},haveIntersection(C,Q){return!(Q.x>C.x+C.width||Q.x+Q.width<C.x||Q.y>C.y+C.height||Q.y+Q.height<C.y)},cloneObject(C){const Q={};for(const U in C)this._isPlainObject(C[U])?Q[U]=this.cloneObject(C[U]):this._isArray(C[U])?Q[U]=this.cloneArray(C[U]):Q[U]=C[U];return Q},cloneArray(C){return C.slice(0)},degToRad(C){return C*o},radToDeg(C){return C*l},_degToRad(C){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(C)},_radToDeg(C){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(C)},_getRotation(C){return e.Konva.angleDeg?t.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(g+C)},error(C){console.error(g+C)},warn(C){e.Konva.showWarnings&&console.warn(p+C)},each(C,Q){for(const U in C)Q(U,C[U])},_inRange(C,Q,U){return Q<=C&&C<U},_getProjectionToSegment(C,Q,U,x,M,k){let T,I,H;const P=(C-U)*(C-U)+(Q-x)*(Q-x);if(P==0)T=C,I=Q,H=(M-U)*(M-U)+(k-x)*(k-x);else{const V=((M-C)*(U-C)+(k-Q)*(x-Q))/P;V<0?(T=C,I=Q,H=(C-M)*(C-M)+(Q-k)*(Q-k)):V>1?(T=U,I=x,H=(U-M)*(U-M)+(x-k)*(x-k)):(T=C+V*(U-C),I=Q+V*(x-Q),H=(T-M)*(T-M)+(I-k)*(I-k))}return[T,I,H]},_getProjectionToLine(C,Q,U){const x=t.Util.cloneObject(C);let M=Number.MAX_VALUE;return Q.forEach(function(k,T){if(!U&&T===Q.length-1)return;const I=Q[(T+1)%Q.length],H=t.Util._getProjectionToSegment(k.x,k.y,I.x,I.y,C.x,C.y),P=H[0],V=H[1],Y=H[2];Y<M&&(x.x=P,x.y=V,M=Y)}),x},_prepareArrayForTween(C,Q,U){const x=[],M=[];if(C.length>Q.length){const T=Q;Q=C,C=T}for(let T=0;T<C.length;T+=2)x.push({x:C[T],y:C[T+1]});for(let T=0;T<Q.length;T+=2)M.push({x:Q[T],y:Q[T+1]});const k=[];return M.forEach(function(T){const I=t.Util._getProjectionToLine(T,x,U);k.push(I.x),k.push(I.y)}),k},_prepareToStringify(C){let Q;C.visitedByCircularReferenceRemoval=!0;for(const U in C)if(C.hasOwnProperty(U)&&C[U]&&typeof C[U]=="object"){if(Q=Object.getOwnPropertyDescriptor(C,U),C[U].visitedByCircularReferenceRemoval||t.Util._isElement(C[U]))if(Q.configurable)delete C[U];else return null;else if(t.Util._prepareToStringify(C[U])===null)if(Q.configurable)delete C[U];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,Q){for(const U in Q)C[U]=Q[U];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){e.Konva.releaseCanvasOnDestroy&&C.forEach(Q=>{Q.width=0,Q.height=0})},drawRoundedRectPath(C,Q,U,x){let M=0,k=0,T=0,I=0;typeof x=="number"?M=k=T=I=Math.min(x,Q/2,U/2):(M=Math.min(x[0]||0,Q/2,U/2),k=Math.min(x[1]||0,Q/2,U/2),I=Math.min(x[2]||0,Q/2,U/2),T=Math.min(x[3]||0,Q/2,U/2)),C.moveTo(M,0),C.lineTo(Q-k,0),C.arc(Q-k,k,k,Math.PI*3/2,0,!1),C.lineTo(Q,U-I),C.arc(Q-I,U-I,I,0,Math.PI/2,!1),C.lineTo(T,U),C.arc(T,U-T,T,Math.PI/2,Math.PI,!1),C.lineTo(0,M),C.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}})(gt);var ut={},xe={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.RGBComponent=$I;me.alphaComponent=qI;me.getNumberValidator=ZI;me.getNumberOrArrayOfNumbersValidator=e7;me.getNumberOrAutoValidator=t7;me.getStringValidator=n7;me.getStringOrGradientValidator=A7;me.getFunctionValidator=r7;me.getNumberArrayValidator=i7;me.getBooleanValidator=s7;me.getComponentValidator=o7;const ni=Qe,yt=gt;function Ai(t){return yt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||yt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function $I(t){return t>255?255:t<0?0:Math.round(t)}function qI(t){return t>1?1:t<1e-4?1e-4:t}function ZI(){if(ni.Konva.isUnminified)return function(t,e){return yt.Util._isNumber(t)||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function e7(t){if(ni.Konva.isUnminified)return function(e,n){let A=yt.Util._isNumber(e),r=yt.Util._isArray(e)&&e.length==t;return!A&&!r&&yt.Util.warn(Ai(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function t7(){if(ni.Konva.isUnminified)return function(t,e){var n=yt.Util._isNumber(t),A=t==="auto";return n||A||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function n7(){if(ni.Konva.isUnminified)return function(t,e){return yt.Util._isString(t)||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function A7(){if(ni.Konva.isUnminified)return function(t,e){const n=yt.Util._isString(t),A=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||A||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function r7(){if(ni.Konva.isUnminified)return function(t,e){return yt.Util._isFunction(t)||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function i7(){if(ni.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(yt.Util._isArray(t)?t.forEach(function(A){yt.Util._isNumber(A)||yt.Util.warn('"'+e+'" attribute has non numeric element '+A+". Make sure that all elements are numbers.")}):yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function s7(){if(ni.Konva.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||yt.Util.warn(Ai(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function o7(t){if(ni.Konva.isUnminified)return function(e,n){return e==null||yt.Util.isObject(e)||yt.Util.warn(Ai(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=gt,n=me,A="get",r="set";t.Factory={addGetterSetter(i,s,o,l,c){t.Factory.addGetter(i,s,o),t.Factory.addSetter(i,s,l,c),t.Factory.addOverloadedGetterSetter(i,s)},addGetter(i,s,o){var l=A+e.Util._capitalize(s);i.prototype[l]=i.prototype[l]||function(){const c=this.attrs[s];return c===void 0?o:c}},addSetter(i,s,o,l){var c=r+e.Util._capitalize(s);i.prototype[c]||t.Factory.overWriteSetter(i,s,o,l)},overWriteSetter(i,s,o,l){var c=r+e.Util._capitalize(s);i.prototype[c]=function(f){return o&&f!==void 0&&f!==null&&(f=o.call(this,f,s)),this._setAttr(s,f),l&&l.call(this),this}},addComponentsGetterSetter(i,s,o,l,c){const f=o.length,d=e.Util._capitalize,p=A+d(s),g=r+d(s);i.prototype[p]=function(){const w={};for(let F=0;F<f;F++){const v=o[F];w[v]=this.getAttr(s+d(v))}return w};const m=(0,n.getComponentValidator)(o);i.prototype[g]=function(w){const F=this.attrs[s];l&&(w=l.call(this,w,s)),m&&m.call(this,w,s);for(const v in w)w.hasOwnProperty(v)&&this._setAttr(s+d(v),w[v]);return w||o.forEach(v=>{this._setAttr(s+d(v),void 0)}),this._fireChangeEvent(s,F,w),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(i,s)},addOverloadedGetterSetter(i,s){var o=e.Util._capitalize(s),l=r+o,c=A+o;i.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(i,s,o,l){e.Util.error("Adding deprecated "+s);const c=A+e.Util._capitalize(s),f=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[c]=function(){e.Util.error(f);const d=this.attrs[s];return d===void 0?o:d},t.Factory.addSetter(i,s,l,function(){e.Util.error(f)}),t.Factory.addOverloadedGetterSetter(i,s)},backCompat(i,s){e.Util.each(s,function(o,l){const c=i.prototype[l],f=A+e.Util._capitalize(o),d=r+e.Util._capitalize(o);function p(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}i.prototype[o]=p,i.prototype[f]=p,i.prototype[d]=p})},afterSetFilter(){this._filterUpToDate=!1}}})(xe);var jA={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.HitContext=zr.SceneContext=zr.Context=void 0;const ZQ=gt,l7=Qe;function a7(t){const e=[],n=t.length,A=ZQ.Util;for(let r=0;r<n;r++){let i=t[r];A._isNumber(i)?i=Math.round(i*1e3)/1e3:A._isString(i)||(i=i+""),e.push(i)}return e}const p4=",",u7="(",c7=")",f7="([",d7="])",h7=";",p7="()",g7="=",g4=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m7=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],B7=100;let op=class{constructor(e){this.canvas=e,l7.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let A=this.traceArr,r=A.length,i="",s,o,l,c;for(s=0;s<r;s++)o=A[s],l=o.method,l?(c=o.args,i+=l,e?i+=p7:ZQ.Util._isArray(c[0])?i+=f7+c.join(p4)+d7:(n&&(c=c.map(f=>typeof f=="number"?Math.floor(f):f)),i+=u7+c.join(p4)+c7)):(i+=o.property,e||(i+=g7+o.val)),i+=h7;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,A;n.push(e),A=n.length,A>=B7&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,A,r,i,s){this._context.arc(e,n,A,r,i,s)}arcTo(e,n,A,r,i){this._context.arcTo(e,n,A,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,A,r,i,s){this._context.bezierCurveTo(e,n,A,r,i,s)}clearRect(e,n,A,r){this._context.clearRect(e,n,A,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const A=arguments;if(A.length===2)return this._context.createImageData(e,n);if(A.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,A,r){return this._context.createLinearGradient(e,n,A,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,A,r,i,s){return this._context.createRadialGradient(e,n,A,r,i,s)}drawImage(e,n,A,r,i,s,o,l,c){const f=arguments,d=this._context;f.length===3?d.drawImage(e,n,A):f.length===5?d.drawImage(e,n,A,r,i):f.length===9&&d.drawImage(e,n,A,r,i,s,o,l,c)}ellipse(e,n,A,r,i,s,o,l){this._context.ellipse(e,n,A,r,i,s,o,l)}isPointInPath(e,n,A,r){return A?this._context.isPointInPath(A,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,A,r){this._context.fillRect(e,n,A,r)}strokeRect(e,n,A,r){this._context.strokeRect(e,n,A,r)}fillText(e,n,A,r){r?this._context.fillText(e,n,A,r):this._context.fillText(e,n,A)}measureText(e){return this._context.measureText(e)}getImageData(e,n,A,r){return this._context.getImageData(e,n,A,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,A,r){this._context.rect(e,n,A,r)}roundRect(e,n,A,r,i){this._context.roundRect(e,n,A,r,i)}putImageData(e,n,A){this._context.putImageData(e,n,A)}quadraticCurveTo(e,n,A,r){this._context.quadraticCurveTo(e,n,A,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,A,r,i,s){this._context.setTransform(e,n,A,r,i,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,A,r){this._context.strokeText(e,n,A,r)}transform(e,n,A,r,i,s){this._context.transform(e,n,A,r,i,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=g4.length,A=this.setAttr,r,i;const s=function(o){let l=e[o],c;e[o]=function(){return i=a7(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:i}),c}};for(r=0;r<n;r++)s(g4[r]);e.setAttr=function(){A.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}};zr.Context=op;m7.forEach(function(t){Object.defineProperty(op.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class y7 extends op{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),A=e.getFillPriority();if(n&&A==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&A==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&A==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&A==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),A=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,A.x,A.y);if(r){for(let s=0;s<r.length;s+=2)i.addColorStop(r[s],r[s+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),A=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!A){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),A||this.restore()}}_applyShadow(e){var n,A,r;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(A=e.getShadowBlur())!==null&&A!==void 0?A:5,o=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),f=l.x*c,d=l.y*c;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(f),Math.abs(d))),this.setAttr("shadowOffsetX",o.x*f),this.setAttr("shadowOffsetY",o.y*d)}}zr.SceneContext=y7;class w7 extends op{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const A=e.hitStrokeWidth(),r=A==="auto"?e.strokeWidth():A;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}zr.HitContext=w7;Object.defineProperty(jA,"__esModule",{value:!0});jA.HitCanvas=jA.SceneCanvas=jA.Canvas=void 0;const fh=gt,e5=zr,t5=Qe,C7=xe,v7=me;let Tf;function S7(){if(Tf)return Tf;const t=fh.Util.createCanvasElement(),e=t.getContext("2d");return Tf=function(){const n=t5.Konva._global.devicePixelRatio||1,A=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/A}(),fh.Util.releaseCanvas(t),Tf}let lp=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const A=(e||{}).pixelRatio||t5.Konva.pixelRatio||S7();this.pixelRatio=A,this._canvas=fh.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return fh.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};jA.Canvas=lp;C7.Factory.addGetterSetter(lp,"pixelRatio",void 0,(0,v7.getNumberValidator)());class F7 extends lp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new e5.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}jA.SceneCanvas=F7;class E7 extends lp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new e5.HitContext(this),this.setSize(e.width,e.height)}}jA.HitCanvas=E7;var ap={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Qe,n=gt;t.DD={get isDragging(){let A=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(A=!0)}),A},justDragged:!1,get node(){let A;return t.DD._dragElements.forEach(r=>{A=r.node}),A},_dragElements:new Map,_drag(A){const r=[];t.DD._dragElements.forEach((i,s)=>{const{node:o}=i,l=o.getStage();l.setPointersPositions(A),i.pointerId===void 0&&(i.pointerId=n.Util._getFirstPointerId(A));const c=l._changedPointerPositions.find(f=>f.id===i.pointerId);if(c){if(i.dragStatus!=="dragging"){const f=o.dragDistance();if(Math.max(Math.abs(c.x-i.startPointerPos.x),Math.abs(c.y-i.startPointerPos.y))<f||(o.startDrag({evt:A}),!o.isDragging()))return}o._setDragPosition(A,i),r.push(o)}}),r.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:A},!0)})},_endDragBefore(A){const r=[];t.DD._dragElements.forEach(i=>{const{node:s}=i,o=s.getStage();if(A&&o.setPointersPositions(A),!o._changedPointerPositions.find(f=>f.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,i.dragStatus="stopped");const c=i.node.getLayer()||i.node instanceof e.Konva.Stage&&i.node;c&&r.indexOf(c)===-1&&r.push(c)}),r.forEach(i=>{i.draw()})},_endDragAfter(A){t.DD._dragElements.forEach((r,i)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:A},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(i)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(ap);Object.defineProperty(ut,"__esModule",{value:!0});ut.Node=void 0;const Ie=gt,cc=xe,Ma=jA,yi=Qe,hA=ap,Et=me,Qd="absoluteOpacity",Mf="allEventListeners",Or="absoluteTransform",m4="absoluteScale",Is="canvas",Q7="Change",U7="children",x7="konva",dB="listening",B4="mouseenter",y4="mouseleave",w4="set",C4="Shape",Ud=" ",v4="stage",wi="transform",k7="Stage",hB="visible",_7=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ud);let I7=1,ve=class pB{constructor(e){this._id=I7++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===wi||e===Or)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let A=this._cache.get(e);return(A===void 0||(e===wi||e===Or)&&A.dirty===!0)&&(A=n.call(this),this._cache.set(e,A)),A}_calculate(e,n,A){if(!this._attachedDepsListeners.get(e)){const r=n.map(i=>i+"Change.konva").join(Ud);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,A)}_getCanvasCache(){return this._cache.get(Is)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Or&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Is)){const{scene:e,filter:n,hit:A}=this._cache.get(Is);Ie.Util.releaseCanvas(e,n,A),this._cache.delete(Is)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let A={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(A=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||A.width),i=Math.ceil(n.height||A.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(A.x):n.x,l=n.y===void 0?Math.floor(A.y):n.y,c=n.offset||0,f=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(!r||!i){Ie.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const p=Math.abs(Math.round(A.x)-o)>.5?1:0,g=Math.abs(Math.round(A.y)-l)>.5?1:0;r+=c*2+p,i+=c*2+g,o-=c,l-=c;const m=new Ma.SceneCanvas({pixelRatio:s,width:r,height:i}),w=new Ma.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),F=new Ma.HitCanvas({pixelRatio:d,width:r,height:i}),v=m.getContext(),E=F.getContext();return F.isCache=!0,m.isCache=!0,this._cache.delete(Is),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(m.getContext()._context.imageSmoothingEnabled=!1,w.getContext()._context.imageSmoothingEnabled=!1),v.save(),E.save(),v.translate(-o,-l),E.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Qd),this._clearSelfAndDescendantCache(m4),this.drawScene(m,this),this.drawHit(F,this),this._isUnderCache=!1,v.restore(),E.restore(),f&&(v.save(),v.beginPath(),v.rect(0,0,r,i),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(Is,{scene:m,filter:w,hit:F,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Is)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const A=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,i=1/0,s=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return A.forEach(function(c){const f=l.point(c);r===void 0&&(r=s=f.x,i=o=f.y),r=Math.min(r,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x),o=Math.max(o,f.y)}),{x:r,y:i,width:s-r,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const A=this._getCachedSceneCanvas(),r=A.pixelRatio;e.drawImage(A._canvas,0,0,A.width/r,A.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),A=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(A._canvas,0,0,A.width/A.pixelRatio,A.height/A.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),A=n.scene,r=n.filter,i=r.getContext(),s,o,l,c;if(e){if(!this._filterUpToDate){const f=A.pixelRatio;r.setSize(A.width/A.pixelRatio,A.height/A.pixelRatio);try{for(s=e.length,i.clear(),i.drawImage(A._canvas,0,0,A.getWidth()/f,A.getHeight()/f),o=i.getImageData(0,0,r.getWidth(),r.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){Ie.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),i.putImageData(o,0,0)}}catch(d){Ie.Util.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return r}return A}on(e,n){if(this._cache&&this._cache.delete(Mf),arguments.length===3)return this._delegate.apply(this,arguments);let A=e.split(Ud),r=A.length,i,s,o,l,c;for(i=0;i<r;i++)s=A[i],o=s.split("."),l=o[0],c=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:n});return this}off(e,n){let A=(e||"").split(Ud),r=A.length,i,s,o,l,c,f;if(this._cache&&this._cache.delete(Mf),!e)for(s in this.eventListeners)this._off(s);for(i=0;i<r;i++)if(o=A[i],l=o.split("."),c=l[0],f=l[1],c)this.eventListeners[c]&&this._off(c,f,n);else for(s in this.eventListeners)this._off(s,f,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(A){n.call(this,A.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,A){const r=this;this.on(e,function(i){const s=i.target.findAncestors(n,!0,r);for(let o=0;o<s.length;o++)i=Ie.Util.cloneObject(i),i.currentTarget=s[o],A.call(s[o],i)})}remove(){return this.isDragging()&&this.stopDrag(),hA.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Or),this._clearSelfAndDescendantCache(Qd),this._clearSelfAndDescendantCache(m4),this._clearSelfAndDescendantCache(v4),this._clearSelfAndDescendantCache(hB),this._clearSelfAndDescendantCache(dB)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Ie.Util._capitalize(e);return Ie.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,A;if(!e)return this;for(n in e)n!==U7&&(A=w4+Ie.Util._capitalize(n),Ie.Util._isFunction(this[A])?this[A](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(dB,this._isListening)}_isListening(e){if(!this.listening())return!1;const A=this.getParent();return A&&A!==e&&this!==e?A._isListening(e):!0}isVisible(){return this._getCache(hB,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const A=this.getParent();return A&&A!==e&&this!==e?A._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const A=this.getLayer();let r=!1;hA.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===A)&&(r=!0)});const i=!n&&!yi.Konva.hitOnDragEnabled&&(r||yi.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,A=0,r,i,s,o;function l(f){for(r=[],i=f.length,s=0;s<i;s++)o=f[s],A++,o.nodeType!==C4&&(r=r.concat(o.getChildren().slice())),o._id===n._id&&(s=i);r.length>0&&r[0].getDepth()<=e&&l(r)}const c=this.getStage();return n.nodeType!==k7&&c&&l(c.getChildren()),A}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(wi),this._clearSelfAndDescendantCache(Or)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const A=this.getAbsoluteTransform().copy();return A.invert(),A.point(n)}getAbsolutePosition(e){let n=!1,A=this.parent;for(;A;){if(A.isCached()){n=!0;break}A=A.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),i=new Ie.Transform,s=this.offset();return i.m=r.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:A,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=A,this._clearCache(wi);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(wi),this._clearSelfAndDescendantCache(Or),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,A=e.y,r=this.x(),i=this.y();return n!==void 0&&(r+=n),A!==void 0&&(i+=A),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,n){let A=[],r=this.getParent(),i,s;if(!(n&&n._id===this._id)){for(A.unshift(this);r&&(!n||r._id!==n._id);)A.unshift(r),r=r.parent;for(i=A.length,s=0;s<i;s++)e(A[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Ie.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Ie.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Ie.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Ie.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Ie.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Ie.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Qd,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,A,r,i,s;const o={attrs:{},className:this.getClassName()};for(n in e)A=e[n],s=Ie.Util.isObject(A)&&!Ie.Util._isPlainObject(A)&&!Ie.Util._isArray(A),!s&&(r=typeof this[n]=="function"&&this[n],delete e[n],i=r?r.call(this):null,e[n]=A,i!==A&&(o.attrs[n]=A));return Ie.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,A){const r=[];n&&this._isMatch(e)&&r.push(this);let i=this.parent;for(;i;){if(i===A)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,A){return this.findAncestors(e,n,A)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),A=n.length,r,i;for(r=0;r<A;r++)if(i=n[r],Ie.Util.isValidSelector(i)||(Ie.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ie.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ie.Util.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(v4,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},A){return n.target=n.target||this,A?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Or,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Ie.Transform,this._eachAncestorReverse(function(A){const r=A.transformsEnabled();r==="all"?n.multiply(A.getTransform()):r==="position"&&n.translate(A.x()-A.offsetX(),A.y()-A.offsetY())},e),n;{n=this._cache.get(Or)||new Ie.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const A=this.transformsEnabled();if(A==="all")n.multiply(this.getTransform());else if(A==="position"){const r=this.attrs.x||0,i=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(r-s,i-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(wi,this._getTransform)}_getTransform(){var e,n;const A=this._cache.get(wi)||new Ie.Transform;A.reset();const r=this.x(),i=this.y(),s=yi.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,f=this.attrs.skewY||0,d=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(r!==0||i!==0)&&A.translate(r,i),s!==0&&A.rotate(s),(c!==0||f!==0)&&A.skew(c,f),(o!==1||l!==1)&&A.scale(o,l),(d!==0||p!==0)&&A.translate(-1*d,-1*p),A.dirty=!1,A}clone(e){let n=Ie.Util.cloneObject(this.attrs),A,r,i,s,o;for(A in e)n[A]=e[A];const l=new this.constructor(n);for(A in this.eventListeners)for(r=this.eventListeners[A],i=r.length,s=0;s<i;s++)o=r[s],o.name.indexOf(x7)<0&&(l.eventListeners[A]||(l.eventListeners[A]=[]),l.eventListeners[A].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),A=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,o=new Ma.SceneCanvas({width:e.width||Math.ceil(n.width)||(A?A.width():0),height:e.height||Math.ceil(n.height)||(A?A.height():0),pixelRatio:s}),l=o.getContext(),c=new Ma.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(r),height:o.height/o.pixelRatio+Math.abs(i),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||i)&&l.translate(-1*r,-1*i),this.drawScene(o,void 0,c),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,A=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,A);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,A)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,Ie.Util._urlToImage(this.toDataURL(e),function(i){n(i),r==null||r(i)})}catch(r){A(r)}})}toBlob(e){return new Promise((n,A)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),r==null||r(i)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(r){A(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():yi.Konva.dragDistance}_off(e,n,A){let r=this.eventListeners[e],i,s,o;for(i=0;i<r.length;i++)if(s=r[i].name,o=r[i].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!A||A===o)){if(r.splice(i,1),r.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,A){this._fire(e+Q7,{oldVal:n,newVal:A})}addName(e){if(!this.hasName(e)){const n=this.name(),A=n?n+" "+e:e;this.name(A)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),A=n.indexOf(e);return A!==-1&&(n.splice(A,1),this.name(n.join(" "))),this}setAttr(e,n){const A=this[w4+Ie.Util._capitalize(e)];return Ie.Util._isFunction(A)?A.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(yi.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const A=this.attrs[e];A===n&&!Ie.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,A,n),this._requestDraw())}_setComponentAttr(e,n,A){let r;A!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=A,this._fireChangeEvent(e,r,A))}_fireAndBubble(e,n,A){if(n&&this.nodeType===C4&&(n.target=this),!((e===B4||e===y4)&&(A&&(this===A||this.isAncestorOf&&this.isAncestorOf(A))||this.nodeType==="Stage"&&!A))){this._fire(e,n);const i=(e===B4||e===y4)&&A&&A.isAncestorOf&&A.isAncestorOf(this)&&!A.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!i&&(A&&A.parent?this._fireAndBubble.call(this.parent,e,n,A):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,A,r;const i=(n=this._cache.get(Mf))!==null&&n!==void 0?n:{};let s=i==null?void 0:i[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(r=(A=o.eventListeners)===null||A===void 0?void 0:A[e])!==null&&r!==void 0?r:[];s.push(...l),o=Object.getPrototypeOf(o)}i[e]=s,this._cache.set(Mf,i)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const A=this._getProtoListeners(e);if(A)for(var r=0;r<A.length;r++)A[r].handler.call(this,n);const i=this.eventListeners[e];if(i)for(var r=0;r<i.length;r++)i[r].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,A=this.getStage(),r=this.getAbsolutePosition();if(!A)return;const i=A._getPointerById(n)||A._changedPointerPositions[0]||r;hA.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){hA.DD._dragElements.has(this._id)||this._createDragElement(e);const A=hA.DD._dragElements.get(this._id);A.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const A=this.getStage()._getPointerById(n.pointerId);if(!A)return;let r={x:A.x-n.offset.x,y:A.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const s=i.call(this,r,e);s?r=s:Ie.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=hA.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),hA.DD._endDragBefore(e),hA.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=hA.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||yi.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;hA.DD._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=hA.DD._dragElements.get(this._id),A=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";A?this.stopDrag():r&&hA.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const A={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Ie.Util.haveIntersection(A,this.getClientRect())}static create(e,n){return Ie.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let A=pB.prototype.getClassName.call(e),r=e.children,i,s,o;n&&(e.attrs.container=n),yi.Konva[A]||(Ie.Util.warn('Can not find a node with class name "'+A+'". Fallback to "Shape".'),A="Shape");const l=yi.Konva[A];if(i=new l(e.attrs),r)for(s=r.length,o=0;o<s;o++)i.add(pB._createNode(r[o]));return i}};ut.Node=ve;ve.prototype.nodeType="Node";ve.prototype._attrsAffectingSize=[];ve.prototype.eventListeners={};ve.prototype.on.call(ve.prototype,_7,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(wi),this._clearSelfAndDescendantCache(Or)});ve.prototype.on.call(ve.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(hB)});ve.prototype.on.call(ve.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(dB)});ve.prototype.on.call(ve.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Qd)});const Ye=cc.Factory.addGetterSetter;Ye(ve,"zIndex");Ye(ve,"absolutePosition");Ye(ve,"position");Ye(ve,"x",0,(0,Et.getNumberValidator)());Ye(ve,"y",0,(0,Et.getNumberValidator)());Ye(ve,"globalCompositeOperation","source-over",(0,Et.getStringValidator)());Ye(ve,"opacity",1,(0,Et.getNumberValidator)());Ye(ve,"name","",(0,Et.getStringValidator)());Ye(ve,"id","",(0,Et.getStringValidator)());Ye(ve,"rotation",0,(0,Et.getNumberValidator)());cc.Factory.addComponentsGetterSetter(ve,"scale",["x","y"]);Ye(ve,"scaleX",1,(0,Et.getNumberValidator)());Ye(ve,"scaleY",1,(0,Et.getNumberValidator)());cc.Factory.addComponentsGetterSetter(ve,"skew",["x","y"]);Ye(ve,"skewX",0,(0,Et.getNumberValidator)());Ye(ve,"skewY",0,(0,Et.getNumberValidator)());cc.Factory.addComponentsGetterSetter(ve,"offset",["x","y"]);Ye(ve,"offsetX",0,(0,Et.getNumberValidator)());Ye(ve,"offsetY",0,(0,Et.getNumberValidator)());Ye(ve,"dragDistance",void 0,(0,Et.getNumberValidator)());Ye(ve,"width",0,(0,Et.getNumberValidator)());Ye(ve,"height",0,(0,Et.getNumberValidator)());Ye(ve,"listening",!0,(0,Et.getBooleanValidator)());Ye(ve,"preventDefault",!0,(0,Et.getBooleanValidator)());Ye(ve,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ye(ve,"visible",!0,(0,Et.getBooleanValidator)());Ye(ve,"transformsEnabled","all",(0,Et.getStringValidator)());Ye(ve,"size");Ye(ve,"dragBoundFunc");Ye(ve,"draggable",!1,(0,Et.getBooleanValidator)());cc.Factory.backCompat(ve,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var go={};Object.defineProperty(go,"__esModule",{value:!0});go.Container=void 0;const Jl=xe,hm=ut,up=me;class mo extends hm.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[],A=[];return n.forEach(function(r){e(r)&&A.push(r)}),A}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let A=0;A<e.length;A++)this.add(e[A]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const A=[];return this._descendants(r=>{const i=r._isMatch(e);return i&&A.push(r),!!(i&&n)}),A}_descendants(e){let n=!1;const A=this.getChildren();for(const r of A){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=hm.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=hm.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(A){n.add(A.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(A=>{A.isVisible()&&A.intersects(e)&&n.push(A)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(A){A._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,A){n.index=A}),this._requestDraw()}drawScene(e,n,A){const r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),l=o&&o.scene,c=i&&i.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();const f=this.getAbsoluteTransform(n).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n,A);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const A=this.getLayer(),r=e||A&&A.hitCanvas,i=r&&r.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const l=this.getAbsoluteTransform(n).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,A,r){var i;const s=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),f=typeof o=="number"&&typeof l=="number"||c,d=A===this;if(f){s.save();const g=this.getAbsoluteTransform(A);let m=g.getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s.beginPath();let w;if(c)w=c.call(this,s,this);else{const F=this.clipX(),v=this.clipY();s.rect(F||0,v||0,o,l)}s.clip.apply(s,w),m=g.copy().invert().getMatrix(),s.transform(m[0],m[1],m[2],m[3],m[4],m[5])}const p=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";p&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(g){g[e](n,A,r)}),p&&s.restore(),f&&s.restore()}getClientRect(e={}){var n;const A=e.skipTransform,r=e.relativeTo;let i,s,o,l,c={x:1/0,y:1/0,width:0,height:0};const f=this;(n=this.children)===null||n===void 0||n.forEach(function(g){if(!g.visible())return;const m=g.getClientRect({relativeTo:f,skipShadow:e.skipShadow,skipStroke:e.skipStroke});m.width===0&&m.height===0||(i===void 0?(i=m.x,s=m.y,o=m.x+m.width,l=m.y+m.height):(i=Math.min(i,m.x),s=Math.min(s,m.y),o=Math.max(o,m.x+m.width),l=Math.max(l,m.y+m.height)))});const d=this.find("Shape");let p=!1;for(let g=0;g<d.length;g++)if(d[g]._isVisible(this)){p=!0;break}return p&&i!==void 0?c={x:i,y:s,width:o-i,height:l-s}:c={x:0,y:0,width:0,height:0},A?c:this._transformedRect(c,r)}}go.Container=mo;Jl.Factory.addComponentsGetterSetter(mo,"clip",["x","y","width","height"]);Jl.Factory.addGetterSetter(mo,"clipX",void 0,(0,up.getNumberValidator)());Jl.Factory.addGetterSetter(mo,"clipY",void 0,(0,up.getNumberValidator)());Jl.Factory.addGetterSetter(mo,"clipWidth",void 0,(0,up.getNumberValidator)());Jl.Factory.addGetterSetter(mo,"clipHeight",void 0,(0,up.getNumberValidator)());Jl.Factory.addGetterSetter(mo,"clipFunc");var n5={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.getCapturedShape=M7;cs.createEvent=hw;cs.hasPointerCapture=H7;cs.setPointerCapture=b7;cs.releaseCapture=r5;const T7=Qe,Gu=new Map,A5=T7.Konva._global.PointerEvent!==void 0;function M7(t){return Gu.get(t)}function hw(t){return{evt:t,pointerId:t.pointerId}}function H7(t,e){return Gu.get(t)===e}function b7(t,e){r5(t),e.getStage()&&(Gu.set(t,e),A5&&e._fire("gotpointercapture",hw(new PointerEvent("gotpointercapture"))))}function r5(t,e){const n=Gu.get(t);if(!n)return;const A=n.getStage();A&&A.content,Gu.delete(t),A5&&n._fire("lostpointercapture",hw(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=gt,n=xe,A=go,r=Qe,i=jA,s=ap,o=Qe,l=cs,c="Stage",f="string",d="px",p="mouseout",g="mouseleave",m="mouseover",w="mouseenter",F="mousemove",v="mousedown",E="mouseup",C="pointermove",Q="pointerdown",U="pointerup",x="pointercancel",M="lostpointercapture",k="pointerout",T="pointerleave",I="pointerover",H="pointerenter",P="contextmenu",V="touchstart",Y="touchend",J="touchmove",re="touchcancel",ce="wheel",K=5,q=[[w,"_pointerenter"],[v,"_pointerdown"],[F,"_pointermove"],[E,"_pointerup"],[g,"_pointerleave"],[V,"_pointerdown"],[J,"_pointermove"],[Y,"_pointerup"],[re,"_pointercancel"],[m,"_pointerover"],[ce,"_wheel"],[P,"_contextmenu"],[Q,"_pointerdown"],[C,"_pointermove"],[U,"_pointerup"],[x,"_pointercancel"],[M,"_lostpointercapture"]],j={mouse:{[k]:p,[T]:g,[I]:m,[H]:w,[C]:F,[Q]:v,[U]:E,[x]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[k]:"touchout",[T]:"touchleave",[I]:"touchover",[H]:"touchenter",[C]:J,[Q]:V,[U]:Y,[x]:re,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[k]:k,[T]:T,[I]:I,[H]:H,[C]:C,[Q]:Q,[U]:U,[x]:x,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},de=be=>be.indexOf("pointer")>=0?"pointer":be.indexOf("touch")>=0?"touch":"mouse",$=be=>{const b=de(be);if(b==="pointer")return r.Konva.pointerEventsEnabled&&j.pointer;if(b==="touch")return j.touch;if(b==="mouse")return j.mouse};function ue(be={}){return(be.clipFunc||be.clipWidth||be.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),be}const ge="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Re extends A.Container{constructor(b){super(ue(b)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ue(this.attrs)}),this._checkVisibility()}_validateAdd(b){const z=b.getType()==="Layer",fe=b.getType()==="FastLayer";z||fe||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const b=this.visible()?"":"none";this.content.style.display=b}setContainer(b){if(typeof b===f){if(b.charAt(0)==="."){const fe=b.slice(1);b=document.getElementsByClassName(fe)[0]}else{var z;b.charAt(0)!=="#"?z=b:z=b.slice(1),b=document.getElementById(z)}if(!b)throw"Can not find container in document with id "+z}return this._setAttr("container",b),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),b.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const b=this.children,z=b.length;for(let fe=0;fe<z;fe++)b[fe].clear();return this}clone(b){return b||(b={}),b.container=typeof document<"u"&&document.createElement("div"),A.Container.prototype.clone.call(this,b)}destroy(){super.destroy();const b=this.content;b&&e.Util._isInDocument(b)&&this.container().removeChild(b);const z=t.stages.indexOf(this);return z>-1&&t.stages.splice(z,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const b=this._pointerPositions[0]||this._changedPointerPositions[0];return b?{x:b.x,y:b.y}:(e.Util.warn(ge),null)}_getPointerById(b){return this._pointerPositions.find(z=>z.id===b)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(b){b=b||{},b.x=b.x||0,b.y=b.y||0,b.width=b.width||this.width(),b.height=b.height||this.height();const z=new i.SceneCanvas({width:b.width,height:b.height,pixelRatio:b.pixelRatio||1}),fe=z.getContext()._context,Ge=this.children;return(b.x||b.y)&&fe.translate(-1*b.x,-1*b.y),Ge.forEach(function(Se){if(!Se.isVisible())return;const $e=Se._toKonvaCanvas(b);fe.drawImage($e._canvas,b.x,b.y,$e.getWidth()/$e.getPixelRatio(),$e.getHeight()/$e.getPixelRatio())}),z}getIntersection(b){if(!b)return null;const z=this.children,fe=z.length,Ge=fe-1;for(let Se=Ge;Se>=0;Se--){const $e=z[Se].getIntersection(b);if($e)return $e}return null}_resizeDOM(){const b=this.width(),z=this.height();this.content&&(this.content.style.width=b+d,this.content.style.height=z+d),this.bufferCanvas.setSize(b,z),this.bufferHitCanvas.setSize(b,z),this.children.forEach(fe=>{fe.setSize({width:b,height:z}),fe.draw()})}add(b,...z){if(arguments.length>1){for(let Ge=0;Ge<arguments.length;Ge++)this.add(arguments[Ge]);return this}super.add(b);const fe=this.children.length;return fe>K&&e.Util.warn("The stage has "+fe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),b.setSize({width:this.width(),height:this.height()}),b.draw(),r.Konva.isBrowser&&this.content.appendChild(b.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(b){return l.hasPointerCapture(b,this)}setPointerCapture(b){l.setPointerCapture(b,this)}releaseCapture(b){l.releaseCapture(b,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&q.forEach(([b,z])=>{this.content.addEventListener(b,fe=>{this[z](fe)},{passive:!1})})}_pointerenter(b){this.setPointersPositions(b);const z=$(b.type);z&&this._fire(z.pointerenter,{evt:b,target:this,currentTarget:this})}_pointerover(b){this.setPointersPositions(b);const z=$(b.type);z&&this._fire(z.pointerover,{evt:b,target:this,currentTarget:this})}_getTargetShape(b){let z=this[b+"targetShape"];return z&&!z.getStage()&&(z=null),z}_pointerleave(b){const z=$(b.type),fe=de(b.type);if(!z)return;this.setPointersPositions(b);const Ge=this._getTargetShape(fe),Se=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;Ge&&Se?(Ge._fireAndBubble(z.pointerout,{evt:b}),Ge._fireAndBubble(z.pointerleave,{evt:b}),this._fire(z.pointerleave,{evt:b,target:this,currentTarget:this}),this[fe+"targetShape"]=null):Se&&(this._fire(z.pointerleave,{evt:b,target:this,currentTarget:this}),this._fire(z.pointerout,{evt:b,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(b){const z=$(b.type),fe=de(b.type);if(!z)return;this.setPointersPositions(b);let Ge=!1;this._changedPointerPositions.forEach(Se=>{const $e=this.getIntersection(Se);if(s.DD.justDragged=!1,r.Konva["_"+fe+"ListenClick"]=!0,!$e||!$e.isListening()){this[fe+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&$e.setPointerCapture(Se.id),this[fe+"ClickStartShape"]=$e,$e._fireAndBubble(z.pointerdown,{evt:b,pointerId:Se.id}),Ge=!0;const tt=b.type.indexOf("touch")>=0;$e.preventDefault()&&b.cancelable&&tt&&b.preventDefault()}),Ge||this._fire(z.pointerdown,{evt:b,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(b){const z=$(b.type),fe=de(b.type);if(!z||(r.Konva.isDragging()&&s.DD.node.preventDefault()&&b.cancelable&&b.preventDefault(),this.setPointersPositions(b),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Se={};let $e=!1;const tt=this._getTargetShape(fe);this._changedPointerPositions.forEach(ZA=>{const je=l.getCapturedShape(ZA.id)||this.getIntersection(ZA),si=ZA.id,_A={evt:b,pointerId:si},oi=tt!==je;if(oi&&tt&&(tt._fireAndBubble(z.pointerout,{..._A},je),tt._fireAndBubble(z.pointerleave,{..._A},je)),je){if(Se[je._id])return;Se[je._id]=!0}je&&je.isListening()?($e=!0,oi&&(je._fireAndBubble(z.pointerover,{..._A},tt),je._fireAndBubble(z.pointerenter,{..._A},tt),this[fe+"targetShape"]=je),je._fireAndBubble(z.pointermove,{..._A})):tt&&(this._fire(z.pointerover,{evt:b,target:this,currentTarget:this,pointerId:si}),this[fe+"targetShape"]=null)}),$e||this._fire(z.pointermove,{evt:b,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(b){const z=$(b.type),fe=de(b.type);if(!z)return;this.setPointersPositions(b);const Ge=this[fe+"ClickStartShape"],Se=this[fe+"ClickEndShape"],$e={};let tt=!1;this._changedPointerPositions.forEach(ZA=>{const je=l.getCapturedShape(ZA.id)||this.getIntersection(ZA);if(je){if(je.releaseCapture(ZA.id),$e[je._id])return;$e[je._id]=!0}const si=ZA.id,_A={evt:b,pointerId:si};let oi=!1;r.Konva["_"+fe+"InDblClickWindow"]?(oi=!0,clearTimeout(this[fe+"DblTimeout"])):s.DD.justDragged||(r.Konva["_"+fe+"InDblClickWindow"]=!0,clearTimeout(this[fe+"DblTimeout"])),this[fe+"DblTimeout"]=setTimeout(function(){r.Konva["_"+fe+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),je&&je.isListening()?(tt=!0,this[fe+"ClickEndShape"]=je,je._fireAndBubble(z.pointerup,{..._A}),r.Konva["_"+fe+"ListenClick"]&&Ge&&Ge===je&&(je._fireAndBubble(z.pointerclick,{..._A}),oi&&Se&&Se===je&&je._fireAndBubble(z.pointerdblclick,{..._A}))):(this[fe+"ClickEndShape"]=null,r.Konva["_"+fe+"ListenClick"]&&this._fire(z.pointerclick,{evt:b,target:this,currentTarget:this,pointerId:si}),oi&&this._fire(z.pointerdblclick,{evt:b,target:this,currentTarget:this,pointerId:si}))}),tt||this._fire(z.pointerup,{evt:b,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+fe+"ListenClick"]=!1,b.cancelable&&fe!=="touch"&&fe!=="pointer"&&b.preventDefault()}_contextmenu(b){this.setPointersPositions(b);const z=this.getIntersection(this.getPointerPosition());z&&z.isListening()?z._fireAndBubble(P,{evt:b}):this._fire(P,{evt:b,target:this,currentTarget:this})}_wheel(b){this.setPointersPositions(b);const z=this.getIntersection(this.getPointerPosition());z&&z.isListening()?z._fireAndBubble(ce,{evt:b}):this._fire(ce,{evt:b,target:this,currentTarget:this})}_pointercancel(b){this.setPointersPositions(b);const z=l.getCapturedShape(b.pointerId)||this.getIntersection(this.getPointerPosition());z&&z._fireAndBubble(U,l.createEvent(b)),l.releaseCapture(b.pointerId)}_lostpointercapture(b){l.releaseCapture(b.pointerId)}setPointersPositions(b){const z=this._getContentPosition();let fe=null,Ge=null;b=b||window.event,b.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(b.touches,Se=>{this._pointerPositions.push({id:Se.identifier,x:(Se.clientX-z.left)/z.scaleX,y:(Se.clientY-z.top)/z.scaleY})}),Array.prototype.forEach.call(b.changedTouches||b.touches,Se=>{this._changedPointerPositions.push({id:Se.identifier,x:(Se.clientX-z.left)/z.scaleX,y:(Se.clientY-z.top)/z.scaleY})})):(fe=(b.clientX-z.left)/z.scaleX,Ge=(b.clientY-z.top)/z.scaleY,this.pointerPos={x:fe,y:Ge},this._pointerPositions=[{x:fe,y:Ge,id:e.Util._getFirstPointerId(b)}],this._changedPointerPositions=[{x:fe,y:Ge,id:e.Util._getFirstPointerId(b)}])}_setPointerPosition(b){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(b)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const b=this.content.getBoundingClientRect();return{top:b.top,left:b.left,scaleX:b.width/this.content.clientWidth||1,scaleY:b.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const b=this.container();if(!b)throw"Stage has no container. A container is required.";b.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),b.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(b){b.batchDraw()}),this}}t.Stage=Re,Re.prototype.nodeType=c,(0,o._registerNode)(Re),n.Factory.addGetterSetter(Re,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(be=>{be.batchDraw()})})})(n5);var fc={},Nt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Qe,n=gt,A=xe,r=ut,i=me,s=Qe,o=cs,l="hasShadow",c="shadowRGBA",f="patternImage",d="linearGradient",p="radialGradient";let g;function m(){return g||(g=n.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};function w(T){const I=this.attrs.fillRule;I?T.fill(I):T.fill()}function F(T){T.stroke()}function v(T){const I=this.attrs.fillRule;I?T.fill(I):T.fill()}function E(T){T.stroke()}function C(){this._clearCache(l)}function Q(){this._clearCache(c)}function U(){this._clearCache(f)}function x(){this._clearCache(d)}function M(){this._clearCache(p)}class k extends r.Node{constructor(I){super(I);let H;for(;H=n.Util.getRandomColor(),!(H&&!(H in t.shapes)););this.colorKey=H,t.shapes[H]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const H=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(H&&H.setTransform){const P=new n.Transform;P.translate(this.fillPatternX(),this.fillPatternY()),P.rotate(e.Konva.getAngle(this.fillPatternRotation())),P.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),P.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const V=P.getMatrix(),Y=typeof DOMMatrix>"u"?{a:V[0],b:V[1],c:V[2],d:V[3],e:V[4],f:V[5]}:new DOMMatrix(V);H.setTransform(Y)}return H}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){const I=this.fillLinearGradientColorStops();if(I){const H=m(),P=this.fillLinearGradientStartPoint(),V=this.fillLinearGradientEndPoint(),Y=H.createLinearGradient(P.x,P.y,V.x,V.y);for(let J=0;J<I.length;J+=2)Y.addColorStop(I[J],I[J+1]);return Y}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const I=this.fillRadialGradientColorStops();if(I){const H=m(),P=this.fillRadialGradientStartPoint(),V=this.fillRadialGradientEndPoint(),Y=H.createRadialGradient(P.x,P.y,this.fillRadialGradientStartRadius(),V.x,V.y,this.fillRadialGradientEndRadius());for(let J=0;J<I.length;J+=2)Y.addColorStop(I[J],I[J+1]);return Y}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const I=n.Util.colorToRGBA(this.shadowColor());if(I)return"rgba("+I.r+","+I.g+","+I.b+","+I.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const I=this.hitStrokeWidth();return I==="auto"?this.hasStroke():this.strokeEnabled()&&!!I}intersects(I){const H=this.getStage();if(!H)return!1;const P=H.bufferHitCanvas;return P.getContext().clear(),this.drawHit(P,void 0,!0),P.context.getImageData(Math.round(I.x),Math.round(I.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(I){var H;if(!((H=this.attrs.perfectDrawEnabled)!==null&&H!==void 0?H:!0))return!1;const V=I||this.hasFill(),Y=this.hasStroke(),J=this.getAbsoluteOpacity()!==1;if(V&&Y&&J)return!0;const re=this.hasShadow(),ce=this.shadowForStrokeEnabled();return!!(V&&Y&&re&&ce)}setStrokeHitEnabled(I){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),I?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const I=this.size();return{x:this._centroid?-I.width/2:0,y:this._centroid?-I.height/2:0,width:I.width,height:I.height}}getClientRect(I={}){let H=!1,P=this.getParent();for(;P;){if(P.isCached()){H=!0;break}P=P.getParent()}const V=I.skipTransform,Y=I.relativeTo||H&&this.getStage()||void 0,J=this.getSelfRect(),ce=!I.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,K=J.width+ce,q=J.height+ce,j=!I.skipShadow&&this.hasShadow(),de=j?this.shadowOffsetX():0,$=j?this.shadowOffsetY():0,ue=K+Math.abs(de),ge=q+Math.abs($),Re=j&&this.shadowBlur()||0,be=ue+Re*2,b=ge+Re*2,z={width:be,height:b,x:-(ce/2+Re)+Math.min(de,0)+J.x,y:-(ce/2+Re)+Math.min($,0)+J.y};return V?z:this._transformedRect(z,Y)}drawScene(I,H,P){const V=this.getLayer();let Y=I||V.getCanvas(),J=Y.getContext(),re=this._getCanvasCache(),ce=this.getSceneFunc(),K=this.hasShadow(),q,j;const de=Y.isCache,$=H===this;if(!this.isVisible()&&!$)return this;if(re){J.save();const ge=this.getAbsoluteTransform(H).getMatrix();return J.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]),this._drawCachedSceneCanvas(J),J.restore(),this}if(!ce)return this;if(J.save(),this._useBufferCanvas()&&!de){q=this.getStage();const ge=P||q.bufferCanvas;j=ge.getContext(),j.clear(),j.save(),j._applyLineJoin(this);var ue=this.getAbsoluteTransform(H).getMatrix();j.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),ce.call(this,j,this),j.restore();const Re=ge.pixelRatio;K&&J._applyShadow(this),J._applyOpacity(this),J._applyGlobalCompositeOperation(this),J.drawImage(ge._canvas,0,0,ge.width/Re,ge.height/Re)}else{if(J._applyLineJoin(this),!$){var ue=this.getAbsoluteTransform(H).getMatrix();J.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),J._applyOpacity(this),J._applyGlobalCompositeOperation(this)}K&&J._applyShadow(this),ce.call(this,J,this)}return J.restore(),this}drawHit(I,H,P=!1){if(!this.shouldDrawHit(H,P))return this;const V=this.getLayer(),Y=I||V.hitCanvas,J=Y&&Y.getContext(),re=this.hitFunc()||this.sceneFunc(),ce=this._getCanvasCache(),K=ce&&ce.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),K){J.save();const j=this.getAbsoluteTransform(H).getMatrix();return J.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(J),J.restore(),this}if(!re)return this;if(J.save(),J._applyLineJoin(this),!(this===H)){const j=this.getAbsoluteTransform(H).getMatrix();J.transform(j[0],j[1],j[2],j[3],j[4],j[5])}return re.call(this,J,this),J.restore(),this}drawHitFromCache(I=0){const H=this._getCanvasCache(),P=this._getCachedSceneCanvas(),V=H.hit,Y=V.getContext(),J=V.getWidth(),re=V.getHeight();Y.clear(),Y.drawImage(P._canvas,0,0,J,re);try{const ce=Y.getImageData(0,0,J,re),K=ce.data,q=K.length,j=n.Util._hexToRgb(this.colorKey);for(let de=0;de<q;de+=4)K[de+3]>I?(K[de]=j.r,K[de+1]=j.g,K[de+2]=j.b,K[de+3]=255):K[de+3]=0;Y.putImageData(ce,0,0)}catch(ce){n.Util.error("Unable to draw hit graph from cached scene canvas. "+ce.message)}return this}hasPointerCapture(I){return o.hasPointerCapture(I,this)}setPointerCapture(I){o.setPointerCapture(I,this)}releaseCapture(I){o.releaseCapture(I,this)}}t.Shape=k,k.prototype._fillFunc=w,k.prototype._strokeFunc=F,k.prototype._fillFuncHit=v,k.prototype._strokeFuncHit=E,k.prototype._centroid=!1,k.prototype.nodeType="Shape",(0,s._registerNode)(k),k.prototype.eventListeners={},k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Q),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",U),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",x),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),A.Factory.addGetterSetter(k,"stroke",void 0,(0,i.getStringOrGradientValidator)()),A.Factory.addGetterSetter(k,"strokeWidth",2,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillAfterStrokeEnabled",!1),A.Factory.addGetterSetter(k,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),A.Factory.addGetterSetter(k,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),A.Factory.addGetterSetter(k,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),A.Factory.addGetterSetter(k,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),A.Factory.addGetterSetter(k,"lineJoin"),A.Factory.addGetterSetter(k,"lineCap"),A.Factory.addGetterSetter(k,"sceneFunc"),A.Factory.addGetterSetter(k,"hitFunc"),A.Factory.addGetterSetter(k,"dash"),A.Factory.addGetterSetter(k,"dashOffset",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"shadowColor",void 0,(0,i.getStringValidator)()),A.Factory.addGetterSetter(k,"shadowBlur",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"shadowOpacity",1,(0,i.getNumberValidator)()),A.Factory.addComponentsGetterSetter(k,"shadowOffset",["x","y"]),A.Factory.addGetterSetter(k,"shadowOffsetX",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"shadowOffsetY",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillPatternImage"),A.Factory.addGetterSetter(k,"fill",void 0,(0,i.getStringOrGradientValidator)()),A.Factory.addGetterSetter(k,"fillPatternX",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillPatternY",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillLinearGradientColorStops"),A.Factory.addGetterSetter(k,"strokeLinearGradientColorStops"),A.Factory.addGetterSetter(k,"fillRadialGradientStartRadius",0),A.Factory.addGetterSetter(k,"fillRadialGradientEndRadius",0),A.Factory.addGetterSetter(k,"fillRadialGradientColorStops"),A.Factory.addGetterSetter(k,"fillPatternRepeat","repeat"),A.Factory.addGetterSetter(k,"fillEnabled",!0),A.Factory.addGetterSetter(k,"strokeEnabled",!0),A.Factory.addGetterSetter(k,"shadowEnabled",!0),A.Factory.addGetterSetter(k,"dashEnabled",!0),A.Factory.addGetterSetter(k,"strokeScaleEnabled",!0),A.Factory.addGetterSetter(k,"fillPriority","color"),A.Factory.addComponentsGetterSetter(k,"fillPatternOffset",["x","y"]),A.Factory.addGetterSetter(k,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),A.Factory.addComponentsGetterSetter(k,"fillPatternScale",["x","y"]),A.Factory.addGetterSetter(k,"fillPatternScaleX",1,(0,i.getNumberValidator)()),A.Factory.addGetterSetter(k,"fillPatternScaleY",1,(0,i.getNumberValidator)()),A.Factory.addComponentsGetterSetter(k,"fillLinearGradientStartPoint",["x","y"]),A.Factory.addComponentsGetterSetter(k,"strokeLinearGradientStartPoint",["x","y"]),A.Factory.addGetterSetter(k,"fillLinearGradientStartPointX",0),A.Factory.addGetterSetter(k,"strokeLinearGradientStartPointX",0),A.Factory.addGetterSetter(k,"fillLinearGradientStartPointY",0),A.Factory.addGetterSetter(k,"strokeLinearGradientStartPointY",0),A.Factory.addComponentsGetterSetter(k,"fillLinearGradientEndPoint",["x","y"]),A.Factory.addComponentsGetterSetter(k,"strokeLinearGradientEndPoint",["x","y"]),A.Factory.addGetterSetter(k,"fillLinearGradientEndPointX",0),A.Factory.addGetterSetter(k,"strokeLinearGradientEndPointX",0),A.Factory.addGetterSetter(k,"fillLinearGradientEndPointY",0),A.Factory.addGetterSetter(k,"strokeLinearGradientEndPointY",0),A.Factory.addComponentsGetterSetter(k,"fillRadialGradientStartPoint",["x","y"]),A.Factory.addGetterSetter(k,"fillRadialGradientStartPointX",0),A.Factory.addGetterSetter(k,"fillRadialGradientStartPointY",0),A.Factory.addComponentsGetterSetter(k,"fillRadialGradientEndPoint",["x","y"]),A.Factory.addGetterSetter(k,"fillRadialGradientEndPointX",0),A.Factory.addGetterSetter(k,"fillRadialGradientEndPointY",0),A.Factory.addGetterSetter(k,"fillPatternRotation",0),A.Factory.addGetterSetter(k,"fillRule",void 0,(0,i.getStringValidator)()),A.Factory.backCompat(k,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Nt);Object.defineProperty(fc,"__esModule",{value:!0});fc.Layer=void 0;const Tr=gt,pm=go,Po=ut,pw=xe,S4=jA,O7=me,D7=Nt,N7=Qe,L7="#",R7="beforeDraw",P7="draw",i5=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],K7=i5.length;let Yl=class extends pm.Container{constructor(e){super(e),this.canvas=new S4.SceneCanvas,this.hitCanvas=new S4.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Po.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Po.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Po.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Po.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Po.Node.prototype.remove.call(this),e&&e.parentNode&&Tr.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Tr.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Po.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Tr.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Tr.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Tr.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,A=!1;for(;;){for(let r=0;r<K7;r++){const i=i5[r],s=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),o=s.shape;if(o)return o;if(A=!!s.antialiased,!s.antialiased)break}if(A)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,A=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=A[3];if(r===255){const i=Tr.Util._rgbToHex(A[0],A[1],A[2]),s=D7.shapes[L7+i];return s?{shape:s}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n){const A=this.getLayer(),r=e||A&&A.getCanvas();return this._fire(R7,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),pm.Container.prototype.drawScene.call(this,r,n),this._fire(P7,{node:this}),this}drawHit(e,n){const A=this.getLayer(),r=e||A&&A.hitCanvas;return A&&A.clearBeforeDraw()&&A.getHitCanvas().getContext().clear(),pm.Container.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Tr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Tr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Tr.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};fc.Layer=Yl;Yl.prototype.nodeType="Layer";(0,N7._registerNode)(Yl);pw.Factory.addGetterSetter(Yl,"imageSmoothingEnabled",!0);pw.Factory.addGetterSetter(Yl,"clearBeforeDraw",!0);pw.Factory.addGetterSetter(Yl,"hitGraphEnabled",!0,(0,O7.getBooleanValidator)());var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.FastLayer=void 0;const G7=gt,V7=fc,z7=Qe;class gw extends V7.Layer{constructor(e){super(e),this.listening(!1),G7.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}cp.FastLayer=gw;gw.prototype.nodeType="FastLayer";(0,z7._registerNode)(gw);var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.Group=void 0;const W7=gt,j7=go,X7=Qe;let mw=class extends j7.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&W7.Util.throw("You may only add groups and shapes to groups.")}};$l.Group=mw;mw.prototype.nodeType="Group";(0,X7._registerNode)(mw);var ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.Animation=void 0;const gm=Qe,F4=gt,mm=function(){return gm.glob.performance&&gm.glob.performance.now?function(){return gm.glob.performance.now()}:function(){return new Date().getTime()}}();class dr{constructor(e,n){this.id=dr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:mm(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,A=n.length;for(let r=0;r<A;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=dr.animations,A=n.length;for(let r=0;r<A;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=mm(),dr._addAnimation(this),this}stop(){return dr._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,A=this.animations,r=A.length;for(let i=0;i<r;i++)if(A[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let A=0;A<n.length;A++){const r=n[A],i=r.layers,s=r.func;r._updateFrameObject(mm());const o=i.length;let l;if(s?l=s.call(r,r.frame)!==!1:l=!0,!!l)for(let c=0;c<o;c++){const f=i[c];f._id!==void 0&&(e[f._id]=f)}}for(const A in e)e.hasOwnProperty(A)&&e[A].batchDraw()}static _animationLoop(){const e=dr;e.animations.length?(e._runFrames(),F4.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,F4.Util.requestAnimFrame(this._animationLoop))}}ql.Animation=dr;dr.animations=[];dr.animIdCounter=0;dr.animRunning=!1;var s5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=gt,n=ql,A=ut,r=Qe,i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,c=["fill","stroke","shadowColor"];let f=0;class d{constructor(m,w,F,v,E,C,Q){this.prop=m,this.propFunc=w,this.begin=v,this._pos=v,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=Q,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=F,this._change=E-this.begin,this.pause()}fire(m){const w=this[m];w&&w()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const m=this.getTimer()-this._startTime;this.state===o?this.setTime(m):this.state===l&&this.setTime(this.duration-m)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(m){const w=this,F=m.node,v=F._id,E=m.easing||t.Easings.Linear,C=!!m.yoyo;let Q,U;typeof m.duration>"u"?Q=.3:m.duration===0?Q=.001:Q=m.duration,this.node=F,this._id=f++;const x=F.getLayer()||(F instanceof r.Konva.Stage?F.getLayers():null);x||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){w.tween.onEnterFrame()},x),this.tween=new d(U,function(M){w._tweenFunc(M)},E,0,1,Q*1e3,C),this._addListeners(),p.attrs[v]||(p.attrs[v]={}),p.attrs[v][this._id]||(p.attrs[v][this._id]={}),p.tweens[v]||(p.tweens[v]={});for(U in m)i[U]===void 0&&this._addAttr(U,m[U]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,w){const F=this.node,v=F._id;let E,C,Q,U,x;const M=p.tweens[v][m];M&&delete p.attrs[v][M][m];let k=F.getAttr(m);if(e.Util._isArray(w))if(E=[],C=Math.max(w.length,k.length),m==="points"&&w.length!==k.length&&(w.length>k.length?(U=k,k=e.Util._prepareArrayForTween(k,w,F.closed())):(Q=w,w=e.Util._prepareArrayForTween(w,k,F.closed()))),m.indexOf("fill")===0)for(let T=0;T<C;T++)if(T%2===0)E.push(w[T]-k[T]);else{const I=e.Util.colorToRGBA(k[T]);x=e.Util.colorToRGBA(w[T]),k[T]=I,E.push({r:x.r-I.r,g:x.g-I.g,b:x.b-I.b,a:x.a-I.a})}else for(let T=0;T<C;T++)E.push(w[T]-k[T]);else c.indexOf(m)!==-1?(k=e.Util.colorToRGBA(k),x=e.Util.colorToRGBA(w),E={r:x.r-k.r,g:x.g-k.g,b:x.b-k.b,a:x.a-k.a}):E=w-k;p.attrs[v][this._id][m]={start:k,diff:E,end:w,trueEnd:Q,trueStart:U},p.tweens[v][m]=this._id}_tweenFunc(m){const w=this.node,F=p.attrs[w._id][this._id];let v,E,C,Q,U,x,M,k;for(v in F){if(E=F[v],C=E.start,Q=E.diff,k=E.end,e.Util._isArray(C))if(U=[],M=Math.max(C.length,k.length),v.indexOf("fill")===0)for(x=0;x<M;x++)x%2===0?U.push((C[x]||0)+Q[x]*m):U.push("rgba("+Math.round(C[x].r+Q[x].r*m)+","+Math.round(C[x].g+Q[x].g*m)+","+Math.round(C[x].b+Q[x].b*m)+","+(C[x].a+Q[x].a*m)+")");else for(x=0;x<M;x++)U.push((C[x]||0)+Q[x]*m);else c.indexOf(v)!==-1?U="rgba("+Math.round(C.r+Q.r*m)+","+Math.round(C.g+Q.g*m)+","+Math.round(C.b+Q.b*m)+","+(C.a+Q.a*m)+")":U=C+Q*m;w.setAttr(v,U)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const m=this.node,w=p.attrs[m._id][this._id];w.points&&w.points.trueEnd&&m.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const m=this.node,w=p.attrs[m._id][this._id];w.points&&w.points.trueStart&&m.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const m=this.node._id,w=this._id,F=p.tweens[m];this.pause();for(const v in F)delete p.tweens[m][v];delete p.attrs[m][w]}}t.Tween=p,p.attrs={},p.tweens={},A.Node.prototype.to=function(g){const m=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),m&&m()},new p(g).play()},t.Easings={BackEaseIn(g,m,w,F){return w*(g/=F)*g*((1.70158+1)*g-1.70158)+m},BackEaseOut(g,m,w,F){return w*((g=g/F-1)*g*((1.70158+1)*g+1.70158)+1)+m},BackEaseInOut(g,m,w,F){let v=1.70158;return(g/=F/2)<1?w/2*(g*g*(((v*=1.525)+1)*g-v))+m:w/2*((g-=2)*g*(((v*=1.525)+1)*g+v)+2)+m},ElasticEaseIn(g,m,w,F,v,E){let C=0;return g===0?m:(g/=F)===1?m+w:(E||(E=F*.3),!v||v<Math.abs(w)?(v=w,C=E/4):C=E/(2*Math.PI)*Math.asin(w/v),-(v*Math.pow(2,10*(g-=1))*Math.sin((g*F-C)*(2*Math.PI)/E))+m)},ElasticEaseOut(g,m,w,F,v,E){let C=0;return g===0?m:(g/=F)===1?m+w:(E||(E=F*.3),!v||v<Math.abs(w)?(v=w,C=E/4):C=E/(2*Math.PI)*Math.asin(w/v),v*Math.pow(2,-10*g)*Math.sin((g*F-C)*(2*Math.PI)/E)+w+m)},ElasticEaseInOut(g,m,w,F,v,E){let C=0;return g===0?m:(g/=F/2)===2?m+w:(E||(E=F*(.3*1.5)),!v||v<Math.abs(w)?(v=w,C=E/4):C=E/(2*Math.PI)*Math.asin(w/v),g<1?-.5*(v*Math.pow(2,10*(g-=1))*Math.sin((g*F-C)*(2*Math.PI)/E))+m:v*Math.pow(2,-10*(g-=1))*Math.sin((g*F-C)*(2*Math.PI)/E)*.5+w+m)},BounceEaseOut(g,m,w,F){return(g/=F)<1/2.75?w*(7.5625*g*g)+m:g<2/2.75?w*(7.5625*(g-=1.5/2.75)*g+.75)+m:g<2.5/2.75?w*(7.5625*(g-=2.25/2.75)*g+.9375)+m:w*(7.5625*(g-=2.625/2.75)*g+.984375)+m},BounceEaseIn(g,m,w,F){return w-t.Easings.BounceEaseOut(F-g,0,w,F)+m},BounceEaseInOut(g,m,w,F){return g<F/2?t.Easings.BounceEaseIn(g*2,0,w,F)*.5+m:t.Easings.BounceEaseOut(g*2-F,0,w,F)*.5+w*.5+m},EaseIn(g,m,w,F){return w*(g/=F)*g+m},EaseOut(g,m,w,F){return-w*(g/=F)*(g-2)+m},EaseInOut(g,m,w,F){return(g/=F/2)<1?w/2*g*g+m:-w/2*(--g*(g-2)-1)+m},StrongEaseIn(g,m,w,F){return w*(g/=F)*g*g*g*g+m},StrongEaseOut(g,m,w,F){return w*((g=g/F-1)*g*g*g*g+1)+m},StrongEaseInOut(g,m,w,F){return(g/=F/2)<1?w/2*g*g*g*g*g+m:w/2*((g-=2)*g*g*g*g+2)+m},Linear(g,m,w,F){return w*g/F+m}}})(s5);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Qe,n=gt,A=ut,r=go,i=n5,s=fc,o=cp,l=$l,c=ap,f=Nt,d=ql,p=s5,g=zr,m=jA;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:A.Node,Container:r.Container,Stage:i.Stage,stages:i.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:f.Shape,shapes:f.shapes,Animation:d.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:m.Canvas}),t.default=t.Konva})(ch);var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.Arc=void 0;const dp=xe,J7=Nt,E4=Qe,hp=me,Y7=Qe;class ri extends J7.Shape{_sceneFunc(e){const n=E4.Konva.getAngle(this.angle()),A=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,A),e.arc(0,0,this.innerRadius(),n,0,!A),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),A=this.clockwise(),r=E4.Konva.getAngle(A?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),l=Math.sin(Math.min(r,Math.PI/2)),c=i*(i>0?e:n),f=s*n,d=o*(o>0?e:n),p=l*(l>0?n:e);return{x:c,y:A?-1*p:d,width:f-c,height:p-d}}}fp.Arc=ri;ri.prototype._centroid=!0;ri.prototype.className="Arc";ri.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Y7._registerNode)(ri);dp.Factory.addGetterSetter(ri,"innerRadius",0,(0,hp.getNumberValidator)());dp.Factory.addGetterSetter(ri,"outerRadius",0,(0,hp.getNumberValidator)());dp.Factory.addGetterSetter(ri,"angle",0,(0,hp.getNumberValidator)());dp.Factory.addGetterSetter(ri,"clockwise",!1,(0,hp.getBooleanValidator)());var pp={},dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.Line=void 0;const gp=xe,$7=Qe,q7=Nt,o5=me;function gB(t,e,n,A,r,i,s){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(A-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(i-A,2)),c=s*o/(o+l),f=s*l/(o+l),d=n-c*(r-t),p=A-c*(i-e),g=n+f*(r-t),m=A+f*(i-e);return[d,p,g,m]}function Q4(t,e){const n=t.length,A=[];for(let r=2;r<n-2;r+=2){const i=gB(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(i[0])||(A.push(i[0]),A.push(i[1]),A.push(t[r]),A.push(t[r+1]),A.push(i[2]),A.push(i[3]))}return A}class fs extends q7.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let n=this.points(),A=n.length,r=this.tension(),i=this.closed(),s=this.bezier(),o,l,c;if(A){if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&A>4){for(o=this.getTensionPoints(),l=o.length,c=i?0:4,i||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);c<l-2;)e.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);i||e.quadraticCurveTo(o[l-2],o[l-1],n[A-2],n[A-1])}else if(s)for(c=2;c<A;)e.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<A;c+=2)e.lineTo(n[c],n[c+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Q4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,A=this.tension(),r=gB(e[n-2],e[n-1],e[0],e[1],e[2],e[3],A),i=gB(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],A),s=Q4(e,A);return[r[2],r[3]].concat(s).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],A=e[0],r=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),A=Math.max(A,s),r=Math.min(r,o),i=Math.max(i,o);return{x:n,y:r,width:A-n,height:i-r}}}dc.Line=fs;fs.prototype.className="Line";fs.prototype._attrsAffectingSize=["points","bezier","tension"];(0,$7._registerNode)(fs);gp.Factory.addGetterSetter(fs,"closed",!1);gp.Factory.addGetterSetter(fs,"bezier",!1);gp.Factory.addGetterSetter(fs,"tension",0,(0,o5.getNumberValidator)());gp.Factory.addGetterSetter(fs,"points",[],(0,o5.getNumberArrayValidator)());var Zl={},l5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,o,l)=>{let c,f;const p=l/2;c=0;for(let g=0;g<20;g++)f=p*t.tValues[20][g]+p,c+=t.cValues[20][g]*A(s,o,f);return p*c};t.getCubicArcLength=e;const n=(s,o,l)=>{l===void 0&&(l=1);const c=s[0]-2*s[1]+s[2],f=o[0]-2*o[1]+o[2],d=2*s[1]-2*s[0],p=2*o[1]-2*o[0],g=4*(c*c+f*f),m=4*(c*d+f*p),w=d*d+p*p;if(g===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const F=m/(2*g),v=w/g,E=l+F,C=v-F*F,Q=E*E+C>0?Math.sqrt(E*E+C):0,U=F*F+C>0?Math.sqrt(F*F+C):0,x=F+Math.sqrt(F*F+C)!==0?C*Math.log(Math.abs((E+Q)/(F+U))):0;return Math.sqrt(g)/2*(E*Q-F*U+x)};t.getQuadraticArcLength=n;function A(s,o,l){const c=r(1,l,s),f=r(1,l,o),d=c*c+f*f;return Math.sqrt(d)}const r=(s,o,l)=>{const c=l.length-1;let f,d;if(c===0)return 0;if(s===0){d=0;for(let p=0;p<=c;p++)d+=t.binomialCoefficients[c][p]*Math.pow(1-o,c-p)*Math.pow(o,p)*l[p];return d}else{f=new Array(c);for(let p=0;p<c;p++)f[p]=c*(l[p+1]-l[p]);return r(s-1,o,f)}},i=(s,o,l)=>{let c=1,f=s/o,d=(s-l(f))/o,p=0;for(;c>.001;){const g=l(f+d),m=Math.abs(s-g)/o;if(m<c)c=m,f+=d;else{const w=l(f-d),F=Math.abs(s-w)/o;F<c?(c=F,f-=d):d/=2}if(p++,p>500)break}return f};t.t2length=i})(l5);Object.defineProperty(Zl,"__esModule",{value:!0});Zl.Path=void 0;const Z7=xe,eT=Nt,tT=Qe,Ko=l5;class Tt extends eT.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Tt.parsePathData(this.data()),this.pathLength=Tt.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let A=!1;for(let w=0;w<n.length;w++){const F=n[w].command,v=n[w].points;switch(F){case"L":e.lineTo(v[0],v[1]);break;case"M":e.moveTo(v[0],v[1]);break;case"C":e.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]);break;case"Q":e.quadraticCurveTo(v[0],v[1],v[2],v[3]);break;case"A":var r=v[0],i=v[1],s=v[2],o=v[3],l=v[4],c=v[5],f=v[6],d=v[7],p=s>o?s:o,g=s>o?1:s/o,m=s>o?o/s:1;e.translate(r,i),e.rotate(f),e.scale(g,m),e.arc(0,0,p,l,l+c,1-d),e.scale(1/g,1/m),e.rotate(-f),e.translate(-r,-i);break;case"z":A=!0,e.closePath();break}}!A&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],f=l.points[5],d=l.points[4]+f;let p=Math.PI/180;if(Math.abs(c-d)<p&&(p=Math.abs(c-d)),f<0)for(let g=c-p;g>d;g-=p){const m=Tt.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],g,0);e.push(m.x,m.y)}else for(let g=c+p;g<d;g+=p){const m=Tt.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],g,0);e.push(m.x,m.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const f=Tt.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(f.x,f.y)}else e=e.concat(l.points)});let n=e[0],A=e[0],r=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(n=Math.min(n,s),A=Math.max(A,s)),isNaN(o)||(r=Math.min(r,o),i=Math.max(i,o));return{x:n,y:r,width:A-n,height:i-r}}getLength(){return this.pathLength}getPointAtLength(e){return Tt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,A,r){return Math.sqrt((A-e)*(A-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let A=0;A<e.length;++A)n+=e[A].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let A,r=0,i=n.length;if(!i)return null;for(;r<i&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===i)return A=n[r-1].points.slice(-2),{x:A[0],y:A[1]};if(e<.01)return A=n[r].points.slice(0,2),{x:A[0],y:A[1]};const s=n[r],o=s.points;switch(s.command){case"L":return Tt.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return Tt.getPointOnCubicBezier((0,Ko.t2length)(e,Tt.getPathLength(n),w=>(0,Ko.getCubicArcLength)([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],w)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Tt.getPointOnQuadraticBezier((0,Ko.t2length)(e,Tt.getPathLength(n),w=>(0,Ko.getQuadraticArcLength)([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],w)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],c=o[1],f=o[2],d=o[3],p=o[4],g=o[5],m=o[6];return p+=g*e/s.pathLength,Tt.getPointOnEllipticalArc(l,c,f,d,p,m)}return null}static getPointOnLine(e,n,A,r,i,s,o){s=s??n,o=o??A;const l=this.getLineLength(n,A,r,i);if(l<1e-10)return{x:n,y:A};if(r===n)return{x:s,y:o+(i>A?e:-e)};const c=(i-A)/(r-n),f=Math.sqrt(e*e/(1+c*c))*(r<n?-1:1),d=c*f;if(Math.abs(o-A-c*(s-n))<1e-10)return{x:s+f,y:o+d};const p=((s-n)*(r-n)+(o-A)*(i-A))/(l*l),g=n+p*(r-n),m=A+p*(i-A),w=this.getLineLength(s,o,g,m),F=Math.sqrt(e*e-w*w),v=Math.sqrt(F*F/(1+c*c))*(r<n?-1:1),E=c*v;return{x:g+v,y:m+E}}static getPointOnCubicBezier(e,n,A,r,i,s,o,l,c){function f(F){return F*F*F}function d(F){return 3*F*F*(1-F)}function p(F){return 3*F*(1-F)*(1-F)}function g(F){return(1-F)*(1-F)*(1-F)}const m=l*f(e)+s*d(e)+r*p(e)+n*g(e),w=c*f(e)+o*d(e)+i*p(e)+A*g(e);return{x:m,y:w}}static getPointOnQuadraticBezier(e,n,A,r,i,s,o){function l(g){return g*g}function c(g){return 2*g*(1-g)}function f(g){return(1-g)*(1-g)}const d=s*l(e)+r*c(e)+n*f(e),p=o*l(e)+i*c(e)+A*f(e);return{x:d,y:p}}static getPointOnEllipticalArc(e,n,A,r,i,s){const o=Math.cos(s),l=Math.sin(s),c={x:A*Math.cos(i),y:r*Math.sin(i)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const A=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var r=0;r<A.length;r++)n=n.replace(new RegExp(A[r],"g"),"|"+A[r]);const i=n.split("|"),s=[],o=[];let l=0,c=0;const f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(r=1;r<i.length;r++){let k=i[r],T=k.charAt(0);for(k=k.slice(1),o.length=0;d=f.exec(k);)o.push(d[0]);const I=[];for(let H=0,P=o.length;H<P;H++){if(o[H]==="00"){I.push(0,0);continue}const V=parseFloat(o[H]);isNaN(V)?I.push(0):I.push(V)}for(;I.length>0&&!isNaN(I[0]);){let H="",P=[];const V=l,Y=c;var p,g,m,w,F,v,E,C,Q,U;switch(T){case"l":l+=I.shift(),c+=I.shift(),H="L",P.push(l,c);break;case"L":l=I.shift(),c=I.shift(),P.push(l,c);break;case"m":var x=I.shift(),M=I.shift();if(l+=x,c+=M,H="M",s.length>2&&s[s.length-1].command==="z"){for(let J=s.length-2;J>=0;J--)if(s[J].command==="M"){l=s[J].points[0]+x,c=s[J].points[1]+M;break}}P.push(l,c),T="l";break;case"M":l=I.shift(),c=I.shift(),H="M",P.push(l,c),T="L";break;case"h":l+=I.shift(),H="L",P.push(l,c);break;case"H":l=I.shift(),H="L",P.push(l,c);break;case"v":c+=I.shift(),H="L",P.push(l,c);break;case"V":c=I.shift(),H="L",P.push(l,c);break;case"C":P.push(I.shift(),I.shift(),I.shift(),I.shift()),l=I.shift(),c=I.shift(),P.push(l,c);break;case"c":P.push(l+I.shift(),c+I.shift(),l+I.shift(),c+I.shift()),l+=I.shift(),c+=I.shift(),H="C",P.push(l,c);break;case"S":g=l,m=c,p=s[s.length-1],p.command==="C"&&(g=l+(l-p.points[2]),m=c+(c-p.points[3])),P.push(g,m,I.shift(),I.shift()),l=I.shift(),c=I.shift(),H="C",P.push(l,c);break;case"s":g=l,m=c,p=s[s.length-1],p.command==="C"&&(g=l+(l-p.points[2]),m=c+(c-p.points[3])),P.push(g,m,l+I.shift(),c+I.shift()),l+=I.shift(),c+=I.shift(),H="C",P.push(l,c);break;case"Q":P.push(I.shift(),I.shift()),l=I.shift(),c=I.shift(),P.push(l,c);break;case"q":P.push(l+I.shift(),c+I.shift()),l+=I.shift(),c+=I.shift(),H="Q",P.push(l,c);break;case"T":g=l,m=c,p=s[s.length-1],p.command==="Q"&&(g=l+(l-p.points[0]),m=c+(c-p.points[1])),l=I.shift(),c=I.shift(),H="Q",P.push(g,m,l,c);break;case"t":g=l,m=c,p=s[s.length-1],p.command==="Q"&&(g=l+(l-p.points[0]),m=c+(c-p.points[1])),l+=I.shift(),c+=I.shift(),H="Q",P.push(g,m,l,c);break;case"A":w=I.shift(),F=I.shift(),v=I.shift(),E=I.shift(),C=I.shift(),Q=l,U=c,l=I.shift(),c=I.shift(),H="A",P=this.convertEndpointToCenterParameterization(Q,U,l,c,E,C,w,F,v);break;case"a":w=I.shift(),F=I.shift(),v=I.shift(),E=I.shift(),C=I.shift(),Q=l,U=c,l+=I.shift(),c+=I.shift(),H="A",P=this.convertEndpointToCenterParameterization(Q,U,l,c,E,C,w,F,v);break}s.push({command:H||T,points:P,start:{x:V,y:Y},pathLength:this.calcLength(V,Y,H||T,P)})}(T==="z"||T==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,A,r){let i,s,o,l;const c=Tt;switch(A){case"L":return c.getLineLength(e,n,r[0],r[1]);case"C":return(0,Ko.getCubicArcLength)([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return(0,Ko.getQuadraticArcLength)([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":i=0;var f=r[4],d=r[5],p=r[4]+d,g=Math.PI/180;if(Math.abs(f-p)<g&&(g=Math.abs(f-p)),s=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),d<0)for(l=f-g;l>p;l-=g)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),i+=c.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=f+g;l<p;l+=g)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),i+=c.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],p,0),i+=c.getLineLength(s.x,s.y,o.x,o.y),i}return 0}static convertEndpointToCenterParameterization(e,n,A,r,i,s,o,l,c){const f=c*(Math.PI/180),d=Math.cos(f)*(e-A)/2+Math.sin(f)*(n-r)/2,p=-1*Math.sin(f)*(e-A)/2+Math.cos(f)*(n-r)/2,g=d*d/(o*o)+p*p/(l*l);g>1&&(o*=Math.sqrt(g),l*=Math.sqrt(g));let m=Math.sqrt((o*o*(l*l)-o*o*(p*p)-l*l*(d*d))/(o*o*(p*p)+l*l*(d*d)));i===s&&(m*=-1),isNaN(m)&&(m=0);const w=m*o*p/l,F=m*-l*d/o,v=(e+A)/2+Math.cos(f)*w-Math.sin(f)*F,E=(n+r)/2+Math.sin(f)*w+Math.cos(f)*F,C=function(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])},Q=function(I,H){return(I[0]*H[0]+I[1]*H[1])/(C(I)*C(H))},U=function(I,H){return(I[0]*H[1]<I[1]*H[0]?-1:1)*Math.acos(Q(I,H))},x=U([1,0],[(d-w)/o,(p-F)/l]),M=[(d-w)/o,(p-F)/l],k=[(-1*d-w)/o,(-1*p-F)/l];let T=U(M,k);return Q(M,k)<=-1&&(T=Math.PI),Q(M,k)>=1&&(T=0),s===0&&T>0&&(T=T-2*Math.PI),s===1&&T<0&&(T=T+2*Math.PI),[v,E,o,l,x,T,f,s]}}Zl.Path=Tt;Tt.prototype.className="Path";Tt.prototype._attrsAffectingSize=["data"];(0,tT._registerNode)(Tt);Z7.Factory.addGetterSetter(Tt,"data");Object.defineProperty(pp,"__esModule",{value:!0});pp.Arrow=void 0;const mp=xe,nT=dc,a5=me,AT=Qe,U4=Zl;class Bo extends nT.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,A=this.points();let r=A;const i=this.tension()!==0&&A.length>4;i&&(r=this.getTensionPoints());const s=this.pointerLength(),o=A.length;let l,c;if(i){const p=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],A[o-2],A[o-1]],g=U4.Path.calcLength(r[r.length-4],r[r.length-3],"C",p),m=U4.Path.getPointOnQuadraticBezier(Math.min(1,1-s/g),p[0],p[1],p[2],p[3],p[4],p[5]);l=A[o-2]-m.x,c=A[o-1]-m.y}else l=A[o-2]-A[o-4],c=A[o-1]-A[o-3];const f=(Math.atan2(c,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(A[o-2],A[o-1]),e.rotate(f),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(A[0],A[1]),i?(l=(r[0]+r[2])/2-A[0],c=(r[1]+r[3])/2-A[1]):(l=A[2]-A[0],c=A[3]-A[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-s,d/2),e.lineTo(-s,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}pp.Arrow=Bo;Bo.prototype.className="Arrow";(0,AT._registerNode)(Bo);mp.Factory.addGetterSetter(Bo,"pointerLength",10,(0,a5.getNumberValidator)());mp.Factory.addGetterSetter(Bo,"pointerWidth",10,(0,a5.getNumberValidator)());mp.Factory.addGetterSetter(Bo,"pointerAtBeginning",!1);mp.Factory.addGetterSetter(Bo,"pointerAtEnding",!0);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.Circle=void 0;const rT=xe,iT=Nt,sT=me,oT=Qe;class ea extends iT.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Bp.Circle=ea;ea.prototype._centroid=!0;ea.prototype.className="Circle";ea.prototype._attrsAffectingSize=["radius"];(0,oT._registerNode)(ea);rT.Factory.addGetterSetter(ea,"radius",0,(0,sT.getNumberValidator)());var yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.Ellipse=void 0;const Bw=xe,lT=Nt,u5=me,aT=Qe;class ds extends lT.Shape{_sceneFunc(e){const n=this.radiusX(),A=this.radiusY();e.beginPath(),e.save(),n!==A&&e.scale(1,A/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}yp.Ellipse=ds;ds.prototype.className="Ellipse";ds.prototype._centroid=!0;ds.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,aT._registerNode)(ds);Bw.Factory.addComponentsGetterSetter(ds,"radius",["x","y"]);Bw.Factory.addGetterSetter(ds,"radiusX",0,(0,u5.getNumberValidator)());Bw.Factory.addGetterSetter(ds,"radiusY",0,(0,u5.getNumberValidator)());var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.Image=void 0;const Bm=gt,yo=xe,uT=Nt,cT=Qe,hc=me;let wr=class c5 extends uT.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),A=this.getHeight(),r=this.cornerRadius(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[i,this.cropX(),this.cropY(),o,l,0,0,n,A]:s=[i,0,0,n,A]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?Bm.Util.drawRoundedRectPath(e,n,A,r):e.rect(0,0,n,A),e.closePath(),e.fillStrokeShape(this)),i&&(r&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const n=this.width(),A=this.height(),r=this.cornerRadius();e.beginPath(),r?Bm.Util.drawRoundedRectPath(e,n,A,r):e.rect(0,0,n,A),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,A=null){const r=Bm.Util.createImageElement();r.onload=function(){const i=new c5({image:r});n(i)},r.onerror=A,r.crossOrigin="Anonymous",r.src=e}};wp.Image=wr;wr.prototype.className="Image";(0,cT._registerNode)(wr);yo.Factory.addGetterSetter(wr,"cornerRadius",0,(0,hc.getNumberOrArrayOfNumbersValidator)(4));yo.Factory.addGetterSetter(wr,"image");yo.Factory.addComponentsGetterSetter(wr,"crop",["x","y","width","height"]);yo.Factory.addGetterSetter(wr,"cropX",0,(0,hc.getNumberValidator)());yo.Factory.addGetterSetter(wr,"cropY",0,(0,hc.getNumberValidator)());yo.Factory.addGetterSetter(wr,"cropWidth",0,(0,hc.getNumberValidator)());yo.Factory.addGetterSetter(wr,"cropHeight",0,(0,hc.getNumberValidator)());var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.Tag=Ol.Label=void 0;const Cp=xe,fT=Nt,dT=$l,yw=me,f5=Qe,d5=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],hT="Change.konva",pT="none",mB="up",BB="right",yB="down",wB="left",gT=d5.length;class ww extends dT.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,A;const r=function(){n._sync()};for(A=0;A<gT;A++)e.on(d5[A]+hT,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),A,r,i,s,o,l,c;if(e&&n){switch(A=e.width(),r=e.height(),i=n.pointerDirection(),s=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,i){case mB:o=A/2,l=-1*c;break;case BB:o=A+s,l=r/2;break;case yB:o=A/2,l=r+c;break;case wB:o=-1*s,l=r/2;break}n.setAttrs({x:-1*o,y:-1*l,width:A,height:r}),e.setAttrs({x:-1*o,y:-1*l})}}}Ol.Label=ww;ww.prototype.className="Label";(0,f5._registerNode)(ww);class wo extends fT.Shape{_sceneFunc(e){const n=this.width(),A=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,f=0,d=0;typeof o=="number"?l=c=f=d=Math.min(o,n/2,A/2):(l=Math.min(o[0]||0,n/2,A/2),c=Math.min(o[1]||0,n/2,A/2),d=Math.min(o[2]||0,n/2,A/2),f=Math.min(o[3]||0,n/2,A/2)),e.beginPath(),e.moveTo(l,0),r===mB&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+i)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),r===BB&&(e.lineTo(n,(A-s)/2),e.lineTo(n+i,A/2),e.lineTo(n,(A+s)/2)),e.lineTo(n,A-d),e.arc(n-d,A-d,d,0,Math.PI/2,!1),r===yB&&(e.lineTo((n+i)/2,A),e.lineTo(n/2,A+s),e.lineTo((n-i)/2,A)),e.lineTo(f,A),e.arc(f,A-f,f,Math.PI/2,Math.PI,!1),r===wB&&(e.lineTo(0,(A+s)/2),e.lineTo(-1*i,A/2),e.lineTo(0,(A-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,A=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),o=this.height();return i===mB?(n-=r,o+=r):i===yB?o+=r:i===wB?(e-=A*1.5,s+=A):i===BB&&(s+=A*1.5),{x:e,y:n,width:s,height:o}}}Ol.Tag=wo;wo.prototype.className="Tag";(0,f5._registerNode)(wo);Cp.Factory.addGetterSetter(wo,"pointerDirection",pT);Cp.Factory.addGetterSetter(wo,"pointerWidth",0,(0,yw.getNumberValidator)());Cp.Factory.addGetterSetter(wo,"pointerHeight",0,(0,yw.getNumberValidator)());Cp.Factory.addGetterSetter(wo,"cornerRadius",0,(0,yw.getNumberOrArrayOfNumbersValidator)(4));var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.Rect=void 0;const mT=xe,BT=Nt,yT=Qe,wT=gt,CT=me;let vp=class extends BT.Shape{_sceneFunc(e){const n=this.cornerRadius(),A=this.width(),r=this.height();e.beginPath(),n?wT.Util.drawRoundedRectPath(e,A,r,n):e.rect(0,0,A,r),e.closePath(),e.fillStrokeShape(this)}};pc.Rect=vp;vp.prototype.className="Rect";(0,yT._registerNode)(vp);mT.Factory.addGetterSetter(vp,"cornerRadius",0,(0,CT.getNumberOrArrayOfNumbersValidator)(4));var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.RegularPolygon=void 0;const h5=xe,vT=Nt,p5=me,ST=Qe;class Co extends vT.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let A=1;A<n.length;A++)e.lineTo(n[A].x,n[A].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,A=[];for(let r=0;r<e;r++)A.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return A}getSelfRect(){const e=this._getPoints();let n=e[0].x,A=e[0].y,r=e[0].x,i=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),A=Math.max(A,s.x),r=Math.min(r,s.y),i=Math.max(i,s.y)}),{x:n,y:r,width:A-n,height:i-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Sp.RegularPolygon=Co;Co.prototype.className="RegularPolygon";Co.prototype._centroid=!0;Co.prototype._attrsAffectingSize=["radius"];(0,ST._registerNode)(Co);h5.Factory.addGetterSetter(Co,"radius",0,(0,p5.getNumberValidator)());h5.Factory.addGetterSetter(Co,"sides",0,(0,p5.getNumberValidator)());var Fp={};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.Ring=void 0;const g5=xe,FT=Nt,m5=me,ET=Qe,x4=Math.PI*2;class vo extends FT.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,x4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),x4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Fp.Ring=vo;vo.prototype.className="Ring";vo.prototype._centroid=!0;vo.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,ET._registerNode)(vo);g5.Factory.addGetterSetter(vo,"innerRadius",0,(0,m5.getNumberValidator)());g5.Factory.addGetterSetter(vo,"outerRadius",0,(0,m5.getNumberValidator)());var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.Sprite=void 0;const So=xe,QT=Nt,UT=ql,B5=me,xT=Qe;class Cr extends QT.Shape{constructor(e){super(e),this._updated=!0,this.anim=new UT.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),A=this.frameIndex(),r=A*4,i=this.animations()[n],s=this.frameOffsets(),o=i[r+0],l=i[r+1],c=i[r+2],f=i[r+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,f),e.closePath(),e.fillStrokeShape(this)),d)if(s){const p=s[n],g=A*2;e.drawImage(d,o,l,c,f,p[g+0],p[g+1],c,f)}else e.drawImage(d,o,l,c,f,0,0,c,f)}_hitFunc(e){const n=this.animation(),A=this.frameIndex(),r=A*4,i=this.animations()[n],s=this.frameOffsets(),o=i[r+2],l=i[r+3];if(e.beginPath(),s){const c=s[n],f=A*2;e.rect(c[f+0],c[f+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),A=this.animations(),r=A[n],i=r.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}Ep.Sprite=Cr;Cr.prototype.className="Sprite";(0,xT._registerNode)(Cr);So.Factory.addGetterSetter(Cr,"animation");So.Factory.addGetterSetter(Cr,"animations");So.Factory.addGetterSetter(Cr,"frameOffsets");So.Factory.addGetterSetter(Cr,"image");So.Factory.addGetterSetter(Cr,"frameIndex",0,(0,B5.getNumberValidator)());So.Factory.addGetterSetter(Cr,"frameRate",17,(0,B5.getNumberValidator)());So.Factory.backCompat(Cr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Star=void 0;const Cw=xe,kT=Nt,vw=me,_T=Qe;class hs extends kT.Shape{_sceneFunc(e){const n=this.innerRadius(),A=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-A);for(let i=1;i<r*2;i++){const s=i%2===0?A:n,o=s*Math.sin(i*Math.PI/r),l=-1*s*Math.cos(i*Math.PI/r);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Qp.Star=hs;hs.prototype.className="Star";hs.prototype._centroid=!0;hs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,_T._registerNode)(hs);Cw.Factory.addGetterSetter(hs,"numPoints",5,(0,vw.getNumberValidator)());Cw.Factory.addGetterSetter(hs,"innerRadius",0,(0,vw.getNumberValidator)());Cw.Factory.addGetterSetter(hs,"outerRadius",0,(0,vw.getNumberValidator)());var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.Text=void 0;ta.stringToArray=Ds;const CB=gt,Sn=xe,IT=Nt,ym=Qe,ps=me,TT=Qe;function Ds(t){return[...t].reduce((e,n,A,r)=>{if(/\p{Emoji}/u.test(n)){const i=r[A+1];i&&/\p{Emoji_Modifier}|\u200D/u.test(i)?(e.push(n+i),r[A+1]=""):e.push(n)}else/\p{Regional_Indicator}{2}/u.test(n+(r[A+1]||""))?e.push(n+r[A+1]):A>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Go="auto",MT="center",y5="inherit",Ha="justify",HT="Change.konva",bT="2d",k4="-",w5="left",OT="text",DT="Text",NT="top",LT="bottom",_4="middle",C5="normal",RT="px ",Hf=" ",PT="right",I4="rtl",KT="word",GT="char",T4="none",wm="",v5=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],VT=v5.length;function zT(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,A=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!A&&(e=`"${e}"`),e}).join(", ")}let bf;function Cm(){return bf||(bf=CB.Util.createCanvasElement().getContext(bT),bf)}function WT(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function jT(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function XT(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let wt=class extends IT.Shape{constructor(e){super(XT(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<VT;n++)this.on(v5[n]+HT,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,A=n.length;if(!this.text())return;let r=this.padding(),i=this.fontSize(),s=this.lineHeight()*i,o=this.verticalAlign(),l=this.direction(),c=0,f=this.align(),d=this.getWidth(),p=this.letterSpacing(),g=this.fill(),m=this.textDecoration(),w=m.indexOf("underline")!==-1,F=m.indexOf("line-through")!==-1,v;l=l===y5?e.direction:l;let E=s/2,C=_4;if(ym.Konva._fixTextRendering){const P=this.measureSize("M");C="alphabetic",E=(P.fontBoundingBoxAscent-P.fontBoundingBoxDescent)/2+s/2}var Q=0,U=0;for(l===I4&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",C),e.setAttr("textAlign",w5),o===_4?c=(this.getHeight()-A*s-r*2)/2:o===LT&&(c=this.getHeight()-A*s-r*2),e.translate(r,c+r),v=0;v<A;v++){var Q=0,U=0,x=n[v],M=x.text,k=x.width,T=x.lastInParagraph,I,H;if(e.save(),f===PT?Q+=d-k-r*2:f===MT&&(Q+=(d-k-r*2)/2),w){e.save(),e.beginPath();const Y=ym.Konva._fixTextRendering?Math.round(i/4):Math.round(i/2),J=Q,re=E+U+Y;e.moveTo(J,re),I=M.split(" ").length-1,H=f===Ha&&!T?d-r*2:k,e.lineTo(J+Math.round(H),re),e.lineWidth=i/15;const ce=this._getLinearGradient();e.strokeStyle=ce||g,e.stroke(),e.restore()}if(F){e.save(),e.beginPath();const Y=ym.Konva._fixTextRendering?-Math.round(i/4):0;e.moveTo(Q,E+U+Y),I=M.split(" ").length-1,H=f===Ha&&!T?d-r*2:k,e.lineTo(Q+Math.round(H),E+U+Y),e.lineWidth=i/15;const J=this._getLinearGradient();e.strokeStyle=J||g,e.stroke(),e.restore()}if(l!==I4&&(p!==0||f===Ha)){I=M.split(" ").length-1;const Y=Ds(M);for(let J=0;J<Y.length;J++){const re=Y[J];re===" "&&!T&&f===Ha&&(Q+=(d-r*2-k)/I),this._partialTextX=Q,this._partialTextY=E+U,this._partialText=re,e.fillStrokeShape(this),Q+=this.measureSize(re).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=Q,this._partialTextY=E+U,this._partialText=M,e.fillStrokeShape(this);e.restore(),A>1&&(E+=s)}}_hitFunc(e){const n=this.getWidth(),A=this.getHeight();e.beginPath(),e.rect(0,0,n,A),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=CB.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(OT,n),this}getWidth(){return this.attrs.width===Go||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Go||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return CB.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,A,r,i,s,o,l,c,f,d,p;let g=Cm(),m=this.fontSize(),w;g.save(),g.font=this._getContextFont(),w=g.measureText(e),g.restore();const F=m/100;return{actualBoundingBoxAscent:(n=w.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*F,actualBoundingBoxDescent:(A=w.actualBoundingBoxDescent)!==null&&A!==void 0?A:0,actualBoundingBoxLeft:(r=w.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*F,actualBoundingBoxRight:(i=w.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*F,alphabeticBaseline:(s=w.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(o=w.emHeightAscent)!==null&&o!==void 0?o:100*F,emHeightDescent:(l=w.emHeightDescent)!==null&&l!==void 0?l:-20*F,fontBoundingBoxAscent:(c=w.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*F,fontBoundingBoxDescent:(f=w.fontBoundingBoxDescent)!==null&&f!==void 0?f:21*F,hangingBaseline:(d=w.hangingBaseline)!==null&&d!==void 0?d:72.80000305175781*F,ideographicBaseline:(p=w.ideographicBaseline)!==null&&p!==void 0?p:-21*F,width:w.width,height:m}}_getContextFont(){return this.fontStyle()+Hf+this.fontVariant()+Hf+(this.fontSize()+RT)+zT(this.fontFamily())}_addTextLine(e){this.align()===Ha&&(e=e.trim());const A=this._getTextWidth(e);return this.textArr.push({text:e,width:A,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),A=e.length;return Cm().measureText(e).width+n*A}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),A=0,r=this.lineHeight()*n,i=this.attrs.width,s=this.attrs.height,o=i!==Go&&i!==void 0,l=s!==Go&&s!==void 0,c=this.padding(),f=i-c*2,d=s-c*2,p=0,g=this.wrap(),m=g!==T4,w=g!==GT&&m,F=this.ellipsis();this.textArr=[],Cm().font=this._getContextFont();const v=F?this._getTextWidth(wm):0;for(let E=0,C=e.length;E<C;++E){let Q=e[E],U=this._getTextWidth(Q);if(o&&U>f)for(;Q.length>0;){let x=0,M=Ds(Q).length,k="",T=0;for(;x<M;){const I=x+M>>>1,H=Ds(Q),P=H.slice(0,I+1).join(""),V=this._getTextWidth(P)+v;V<=f?(x=I+1,k=P,T=V):M=I}if(k){if(w){const P=Ds(Q),V=Ds(k),Y=P[V.length],J=Y===Hf||Y===k4;let re;if(J&&T<=f)re=V.length;else{const ce=V.lastIndexOf(Hf),K=V.lastIndexOf(k4);re=Math.max(ce,K)+1}re>0&&(x=re,k=P.slice(0,x).join(""),T=this._getTextWidth(k))}if(k=k.trimRight(),this._addTextLine(k),A=Math.max(A,T),p+=r,this._shouldHandleEllipsis(p)){this._tryToAddEllipsisToLastLine();break}if(Q=Ds(Q).slice(x).join("").trimLeft(),Q.length>0&&(U=this._getTextWidth(Q),U<=f)){this._addTextLine(Q),p+=r,A=Math.max(A,U);break}}else break}else this._addTextLine(Q),p+=r,A=Math.max(A,U),this._shouldHandleEllipsis(p)&&E<C-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&p+r>d)break}this.textHeight=n,this.textWidth=A}_shouldHandleEllipsis(e){const n=+this.fontSize(),A=this.lineHeight()*n,r=this.attrs.height,i=r!==Go&&r!==void 0,s=this.padding(),o=r-s*2;return!(this.wrap()!==T4)||i&&e+A>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Go&&e!==void 0,A=this.padding(),r=e-A*2,i=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!i||(n&&(this._getTextWidth(s.text+wm)<r||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+wm))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};ta.Text=wt;wt.prototype._fillFunc=WT;wt.prototype._strokeFunc=jT;wt.prototype.className=DT;wt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,TT._registerNode)(wt);Sn.Factory.overWriteSetter(wt,"width",(0,ps.getNumberOrAutoValidator)());Sn.Factory.overWriteSetter(wt,"height",(0,ps.getNumberOrAutoValidator)());Sn.Factory.addGetterSetter(wt,"direction",y5);Sn.Factory.addGetterSetter(wt,"fontFamily","Arial");Sn.Factory.addGetterSetter(wt,"fontSize",12,(0,ps.getNumberValidator)());Sn.Factory.addGetterSetter(wt,"fontStyle",C5);Sn.Factory.addGetterSetter(wt,"fontVariant",C5);Sn.Factory.addGetterSetter(wt,"padding",0,(0,ps.getNumberValidator)());Sn.Factory.addGetterSetter(wt,"align",w5);Sn.Factory.addGetterSetter(wt,"verticalAlign",NT);Sn.Factory.addGetterSetter(wt,"lineHeight",1,(0,ps.getNumberValidator)());Sn.Factory.addGetterSetter(wt,"wrap",KT);Sn.Factory.addGetterSetter(wt,"ellipsis",!1,(0,ps.getBooleanValidator)());Sn.Factory.addGetterSetter(wt,"letterSpacing",0,(0,ps.getNumberValidator)());Sn.Factory.addGetterSetter(wt,"text","",(0,ps.getStringValidator)());Sn.Factory.addGetterSetter(wt,"textDecoration","");var Up={};Object.defineProperty(Up,"__esModule",{value:!0});Up.TextPath=void 0;const vm=gt,YA=xe,JT=Nt,ba=Zl,Sm=ta,S5=me,YT=Qe,$T="",F5="normal";function E5(t){t.fillText(this.partialText,0,0)}function Q5(t){t.strokeText(this.partialText,0,0)}class Lt extends JT.Shape{constructor(e){super(e),this.dummyCanvas=vm.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ba.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:ba.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=ba.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),A=this.fill(),r=this.fontSize(),i=this.glyphInfo;n==="underline"&&e.beginPath();for(let s=0;s<i.length;s++){e.save();const o=i[s].p0;e.translate(o.x,o.y),e.rotate(i[s].rotation),this.partialText=i[s].text,e.fillStrokeShape(this),n==="underline"&&(s===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=A,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const A=n[0].p0;e.moveTo(A.x,A.y)}for(let A=0;A<n.length;A++){const r=n[A].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return vm.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Sm.Text.prototype.setText.call(this,e)}_getContextFont(){return Sm.Text.prototype._getContextFont.call(this)}_getTextSize(e){const A=this.dummyCanvas.getContext("2d");A.save(),A.font=this._getContextFont();const r=A.measureText(e);return A.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const A=this.letterSpacing(),r=this.align(),i=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*A,0);let o=0;r==="center"&&(o=Math.max(0,this.pathLength/2-s/2)),r==="right"&&(o=Math.max(0,this.pathLength-s));const l=(0,Sm.stringToArray)(this.text());let c=o;for(let f=0;f<l.length;f++){const d=this._getPointAtLength(c);if(!d)return;let p=this._getTextSize(l[f]).width+A;if(l[f]===" "&&r==="justify"){const E=this.text().split(" ").length-1;p+=(this.pathLength-s)/E}const g=this._getPointAtLength(c+p);if(!g)return;const m=ba.Path.getLineLength(d.x,d.y,g.x,g.y);let w=0;if(i)try{w=i(l[f-1],l[f])*this.fontSize()}catch{w=0}d.x+=w,g.x+=w,this.textWidth+=w;const F=ba.Path.getPointOnLine(w+m/2,d.x,d.y,g.x,g.y),v=Math.atan2(g.y-d.y,g.x-d.x);this.glyphInfo.push({transposeX:F.x,transposeY:F.y,text:l[f],rotation:v,p0:d,p1:g}),c+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,A=e[0]||0,r=e[1]||0,i=e[1]||0,s,o;for(let c=0;c<e.length/2;c++)s=e[c*2],o=e[c*2+1],n=Math.min(n,s),A=Math.max(A,s),r=Math.min(r,o),i=Math.max(i,o);const l=this.fontSize();return{x:n-l/2,y:r-l/2,width:A-n+l,height:i-r+l}}destroy(){return vm.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Up.TextPath=Lt;Lt.prototype._fillFunc=E5;Lt.prototype._strokeFunc=Q5;Lt.prototype._fillFuncHit=E5;Lt.prototype._strokeFuncHit=Q5;Lt.prototype.className="TextPath";Lt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,YT._registerNode)(Lt);YA.Factory.addGetterSetter(Lt,"data");YA.Factory.addGetterSetter(Lt,"fontFamily","Arial");YA.Factory.addGetterSetter(Lt,"fontSize",12,(0,S5.getNumberValidator)());YA.Factory.addGetterSetter(Lt,"fontStyle",F5);YA.Factory.addGetterSetter(Lt,"align","left");YA.Factory.addGetterSetter(Lt,"letterSpacing",0,(0,S5.getNumberValidator)());YA.Factory.addGetterSetter(Lt,"textBaseline","middle");YA.Factory.addGetterSetter(Lt,"fontVariant",F5);YA.Factory.addGetterSetter(Lt,"text",$T);YA.Factory.addGetterSetter(Lt,"textDecoration","");YA.Factory.addGetterSetter(Lt,"kerningFunc",void 0);var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.Transformer=void 0;const ze=gt,Le=xe,M4=ut,qT=Nt,ZT=pc,H4=$l,LA=Qe,gs=me,eM=Qe,U5="tr-konva",tM=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${U5}`).join(" "),b4="nodesRect",nM=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],AM={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},rM="ontouchstart"in LA.Konva._global;function iM(t,e,n){if(t==="rotater")return n;e+=ze.Util.degToRad(AM[t]||0);const A=(ze.Util.radToDeg(e)%360+360)%360;return ze.Util._inRange(A,315+22.5,360)||ze.Util._inRange(A,0,22.5)?"ns-resize":ze.Util._inRange(A,45-22.5,45+22.5)?"nesw-resize":ze.Util._inRange(A,90-22.5,90+22.5)?"ew-resize":ze.Util._inRange(A,135-22.5,135+22.5)?"nwse-resize":ze.Util._inRange(A,180-22.5,180+22.5)?"ns-resize":ze.Util._inRange(A,225-22.5,225+22.5)?"nesw-resize":ze.Util._inRange(A,270-22.5,270+22.5)?"ew-resize":ze.Util._inRange(A,315-22.5,315+22.5)?"nwse-resize":(ze.Util.error("Transformer has unknown angle for cursor detection: "+A),"pointer")}const dh=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],O4=1e8;function sM(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function x5(t,e,n){const A=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:A,y:r}}function oM(t,e){const n=sM(t);return x5(t,e,n)}function lM(t,e,n){let A=e;for(let r=0;r<t.length;r++){const i=LA.Konva.getAngle(t[r]),s=Math.abs(i-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(A=i)}return A}let vB=0,Me=class extends H4.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(tM,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ze.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return U5+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(ze.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(nM.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,A=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(A,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,A=>{if(!n)return;const r=e.getAbsolutePosition(),i=r.x-n.x,s=r.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+i,y:l.y+s}),o.startDrag(A)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(b4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(b4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),A){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(A),s=e.getAbsolutePosition(A),o=r.x*i.x-e.offsetX()*i.x,l=r.y*i.y-e.offsetY()*i.y,c=(LA.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),f={x:s.x+o*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+o*Math.sin(c),width:r.width*i.x,height:r.height*i.y,rotation:c};return x5(f,-LA.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-O4,y:-O4,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const f=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x+f.width,y:f.y+f.height},{x:f.x,y:f.y+f.height}],p=c.getAbsoluteTransform();d.forEach(function(g){const m=p.point(g);n.push(m)})});const A=new ze.Transform;A.rotate(-LA.Konva.getAngle(this.rotation()));let r=1/0,i=1/0,s=-1/0,o=-1/0;n.forEach(function(c){const f=A.point(c);r===void 0&&(r=s=f.x,i=o=f.y),r=Math.min(r,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x),o=Math.max(o,f.y)}),A.invert();const l=A.point({x:r,y:i});return{x:l.x,y:l.y,width:s-r,height:o-i,rotation:LA.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),dh.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new ZT.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:rM?10:"auto"}),A=this;n.on("mousedown touchstart",function(r){A._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=LA.Konva.getAngle(this.rotation()),i=this.rotateAnchorCursor(),s=iM(e,r,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new qT.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,A){const r=A.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,A.width()+i*2,A.height()+i*2),n.moveTo(A.width()/2,-i),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(A.width()/2,-r.rotateAnchorOffset()*ze.Util._sign(A.height())-i),n.fillStrokeShape(A)},hitFunc:(n,A)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,A.width()+r*2,A.height()+r*2),n.fillStrokeShape(A)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),A=n.width,r=n.height,i=Math.sqrt(Math.pow(A,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(A/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},vB++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,A,r;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),i.setAbsolutePosition(l);const f=i.getAbsolutePosition();if(c.x===f.x&&c.y===f.y)return;if(this._movingAnchorName==="rotater"){const U=this._getNodeRect();n=i.x()-U.width/2,A=-i.y()+U.height/2;let x=Math.atan2(-A,n)+Math.PI/2;U.height<0&&(x-=Math.PI);const k=LA.Konva.getAngle(this.rotation())+x,T=LA.Konva.getAngle(this.rotationSnapTolerance()),H=lM(this.rotationSnaps(),k,T)-U.rotation,P=oM(U,H);this._fitNodesInto(P,e);return}const d=this.shiftBehavior();let p;d==="inverted"?p=this.keepRatio()&&!e.shiftKey:d==="none"?p=this.keepRatio():p=this.keepRatio()||e.shiftKey;var v=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(p){var g=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(g.x-i.x(),2)+Math.pow(g.y-i.y(),2));var m=this.findOne(".top-left").x()>g.x?-1:1,w=this.findOne(".top-left").y()>g.y?-1:1;n=r*this.cos*m,A=r*this.sin*w,this.findOne(".top-left").x(g.x-n),this.findOne(".top-left").y(g.y-A)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(p){var g=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-g.x,2)+Math.pow(g.y-i.y(),2));var m=this.findOne(".top-right").x()<g.x?-1:1,w=this.findOne(".top-right").y()>g.y?-1:1;n=r*this.cos*m,A=r*this.sin*w,this.findOne(".top-right").x(g.x+n),this.findOne(".top-right").y(g.y-A)}var F=i.position();this.findOne(".top-left").y(F.y),this.findOne(".bottom-right").x(F.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(p){var g=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(g.x-i.x(),2)+Math.pow(i.y()-g.y,2));var m=g.x<i.x()?-1:1,w=i.y()<g.y?-1:1;n=r*this.cos*m,A=r*this.sin*w,i.x(g.x-n),i.y(g.y+A)}F=i.position(),this.findOne(".top-left").x(F.x),this.findOne(".bottom-right").y(F.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(p){var g=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-g.x,2)+Math.pow(i.y()-g.y,2));var m=this.findOne(".bottom-right").x()<g.x?-1:1,w=this.findOne(".bottom-right").y()<g.y?-1:1;n=r*this.cos*m,A=r*this.sin*w,this.findOne(".bottom-right").x(g.x+n),this.findOne(".bottom-right").y(g.y+A)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var v=this.centeredScaling()||e.altKey;if(v){const U=this.findOne(".top-left"),x=this.findOne(".bottom-right"),M=U.x(),k=U.y(),T=this.getWidth()-x.x(),I=this.getHeight()-x.y();x.move({x:-M,y:-k}),U.move({x:T,y:I})}const E=this.findOne(".top-left").getAbsolutePosition();n=E.x,A=E.y;const C=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Q=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:A,width:C,height:Q,rotation:LA.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const A=this.getNode();vB--,this._fire("transformend",{evt:e,target:A}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),A&&this._nodes.forEach(r=>{var i;r._fire("transformend",{evt:e,target:r}),(i=r.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const A=this._getNodeRect(),r=1;if(ze.Util._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(ze.Util._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const i=new ze.Transform;if(i.rotate(LA.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=i.point({x:-this.padding()*2,y:0});e.x+=p.x,e.y+=p.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=i.point({x:0,y:-this.padding()*2});e.x+=p.x,e.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(A,e);p?e=p:ze.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new ze.Transform;o.translate(A.x,A.y),o.rotate(A.rotation),o.scale(A.width/s,A.height/s);const l=new ze.Transform,c=e.width/s,f=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(f))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,f));const d=l.multiply(o.invert());this._nodes.forEach(p=>{var g;const m=p.getParent().getAbsoluteTransform(),w=p.getTransform().copy();w.translate(p.offsetX(),p.offsetY());const F=new ze.Transform;F.multiply(m.copy().invert()).multiply(d).multiply(m).multiply(w);const v=F.decompose();p.setAttrs(v),(g=p.getLayer())===null||g===void 0||g.batchDraw()}),this.rotation(ze.Util._getRotation(e.rotation)),this._nodes.forEach(p=>{this._fire("transform",{evt:n,target:p}),p._fire("transform",{evt:n,target:p})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(ze.Util._getRotation(n.rotation));const A=n.width,r=n.height,i=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(d=>{d.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:A/2,y:0,offsetY:l/2+o,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:A,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+o,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:A,y:r/2,offsetX:l/2-o,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:A/2,y:r,offsetY:l/2-o,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:A,y:r,offsetX:l/2-o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:A/2,y:-this.rotateAnchorOffset()*ze.Util._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:A,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const f=this.anchorStyleFunc();f&&c.forEach(d=>{f(d)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),H4.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return M4.Node.prototype.toObject.call(this)}clone(e){return M4.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};xp.Transformer=Me;Me.isTransforming=()=>vB>0;function aM(t){return t instanceof Array||ze.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){dh.indexOf(e)===-1&&ze.Util.warn("Unknown anchor name: "+e+". Available names are: "+dh.join(", "))}),t||[]}Me.prototype.className="Transformer";(0,eM._registerNode)(Me);Le.Factory.addGetterSetter(Me,"enabledAnchors",dh,aM);Le.Factory.addGetterSetter(Me,"flipEnabled",!0,(0,gs.getBooleanValidator)());Le.Factory.addGetterSetter(Me,"resizeEnabled",!0);Le.Factory.addGetterSetter(Me,"anchorSize",10,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"rotateEnabled",!0);Le.Factory.addGetterSetter(Me,"rotateLineVisible",!0);Le.Factory.addGetterSetter(Me,"rotationSnaps",[]);Le.Factory.addGetterSetter(Me,"rotateAnchorOffset",50,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"rotateAnchorCursor","crosshair");Le.Factory.addGetterSetter(Me,"rotationSnapTolerance",5,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"borderEnabled",!0);Le.Factory.addGetterSetter(Me,"anchorStroke","rgb(0, 161, 255)");Le.Factory.addGetterSetter(Me,"anchorStrokeWidth",1,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"anchorFill","white");Le.Factory.addGetterSetter(Me,"anchorCornerRadius",0,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"borderStroke","rgb(0, 161, 255)");Le.Factory.addGetterSetter(Me,"borderStrokeWidth",1,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"borderDash");Le.Factory.addGetterSetter(Me,"keepRatio",!0);Le.Factory.addGetterSetter(Me,"shiftBehavior","default");Le.Factory.addGetterSetter(Me,"centeredScaling",!1);Le.Factory.addGetterSetter(Me,"ignoreStroke",!1);Le.Factory.addGetterSetter(Me,"padding",0,(0,gs.getNumberValidator)());Le.Factory.addGetterSetter(Me,"nodes");Le.Factory.addGetterSetter(Me,"node");Le.Factory.addGetterSetter(Me,"boundBoxFunc");Le.Factory.addGetterSetter(Me,"anchorDragBoundFunc");Le.Factory.addGetterSetter(Me,"anchorStyleFunc");Le.Factory.addGetterSetter(Me,"shouldOverdrawWholeArea",!1);Le.Factory.addGetterSetter(Me,"useSingleNodeRotation",!0);Le.Factory.backCompat(Me,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.Wedge=void 0;const _p=xe,uM=Nt,cM=Qe,k5=me,fM=Qe;class ii extends uM.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,cM.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}kp.Wedge=ii;ii.prototype.className="Wedge";ii.prototype._centroid=!0;ii.prototype._attrsAffectingSize=["radius"];(0,fM._registerNode)(ii);_p.Factory.addGetterSetter(ii,"radius",0,(0,k5.getNumberValidator)());_p.Factory.addGetterSetter(ii,"angle",0,(0,k5.getNumberValidator)());_p.Factory.addGetterSetter(ii,"clockwise",!1);_p.Factory.backCompat(ii,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.Blur=void 0;const D4=xe,dM=ut,hM=me;function N4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const pM=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],gM=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function mM(t,e){const n=t.data,A=t.width,r=t.height;let i,s,o,l,c,f,d,p,g,m,w,F,v,E,C,Q,U,x,M,k,T,I,H,P;const V=e+e+1,Y=A-1,J=r-1,re=e+1,ce=re*(re+1)/2,K=new N4,q=pM[e],j=gM[e];let de=null,$=K,ue=null,ge=null;for(o=1;o<V;o++)$=$.next=new N4,o===re&&(de=$);for($.next=K,d=f=0,s=0;s<r;s++){for(Q=U=x=M=p=g=m=w=0,F=re*(k=n[f]),v=re*(T=n[f+1]),E=re*(I=n[f+2]),C=re*(H=n[f+3]),p+=ce*k,g+=ce*T,m+=ce*I,w+=ce*H,$=K,o=0;o<re;o++)$.r=k,$.g=T,$.b=I,$.a=H,$=$.next;for(o=1;o<re;o++)l=f+((Y<o?Y:o)<<2),p+=($.r=k=n[l])*(P=re-o),g+=($.g=T=n[l+1])*P,m+=($.b=I=n[l+2])*P,w+=($.a=H=n[l+3])*P,Q+=k,U+=T,x+=I,M+=H,$=$.next;for(ue=K,ge=de,i=0;i<A;i++)n[f+3]=H=w*q>>j,H!==0?(H=255/H,n[f]=(p*q>>j)*H,n[f+1]=(g*q>>j)*H,n[f+2]=(m*q>>j)*H):n[f]=n[f+1]=n[f+2]=0,p-=F,g-=v,m-=E,w-=C,F-=ue.r,v-=ue.g,E-=ue.b,C-=ue.a,l=d+((l=i+e+1)<Y?l:Y)<<2,Q+=ue.r=n[l],U+=ue.g=n[l+1],x+=ue.b=n[l+2],M+=ue.a=n[l+3],p+=Q,g+=U,m+=x,w+=M,ue=ue.next,F+=k=ge.r,v+=T=ge.g,E+=I=ge.b,C+=H=ge.a,Q-=k,U-=T,x-=I,M-=H,ge=ge.next,f+=4;d+=A}for(i=0;i<A;i++){for(U=x=M=Q=g=m=w=p=0,f=i<<2,F=re*(k=n[f]),v=re*(T=n[f+1]),E=re*(I=n[f+2]),C=re*(H=n[f+3]),p+=ce*k,g+=ce*T,m+=ce*I,w+=ce*H,$=K,o=0;o<re;o++)$.r=k,$.g=T,$.b=I,$.a=H,$=$.next;for(c=A,o=1;o<=e;o++)f=c+i<<2,p+=($.r=k=n[f])*(P=re-o),g+=($.g=T=n[f+1])*P,m+=($.b=I=n[f+2])*P,w+=($.a=H=n[f+3])*P,Q+=k,U+=T,x+=I,M+=H,$=$.next,o<J&&(c+=A);for(f=i,ue=K,ge=de,s=0;s<r;s++)l=f<<2,n[l+3]=H=w*q>>j,H>0?(H=255/H,n[l]=(p*q>>j)*H,n[l+1]=(g*q>>j)*H,n[l+2]=(m*q>>j)*H):n[l]=n[l+1]=n[l+2]=0,p-=F,g-=v,m-=E,w-=C,F-=ue.r,v-=ue.g,E-=ue.b,C-=ue.a,l=i+((l=s+re)<J?l:J)*A<<2,p+=Q+=ue.r=n[l],g+=U+=ue.g=n[l+1],m+=x+=ue.b=n[l+2],w+=M+=ue.a=n[l+3],ue=ue.next,F+=k=ge.r,v+=T=ge.g,E+=I=ge.b,C+=H=ge.a,Q-=k,U-=T,x-=I,M-=H,ge=ge.next,f+=A}}const BM=function(e){const n=Math.round(this.blurRadius());n>0&&mM(e,n)};Ip.Blur=BM;D4.Factory.addGetterSetter(dM.Node,"blurRadius",0,(0,hM.getNumberValidator)(),D4.Factory.afterSetFilter);var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.Brighten=void 0;const L4=xe,yM=ut,wM=me,CM=function(t){const e=this.brightness()*255,n=t.data,A=n.length;for(let r=0;r<A;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};Tp.Brighten=CM;L4.Factory.addGetterSetter(yM.Node,"brightness",0,(0,wM.getNumberValidator)(),L4.Factory.afterSetFilter);var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.Contrast=void 0;const R4=xe,vM=ut,SM=me,FM=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,A=n.length;let r=150,i=150,s=150;for(let o=0;o<A;o+=4)r=n[o],i=n[o+1],s=n[o+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,r=r<0?0:r>255?255:r,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n[o]=r,n[o+1]=i,n[o+2]=s};Mp.Contrast=FM;R4.Factory.addGetterSetter(vM.Node,"contrast",0,(0,SM.getNumberValidator)(),R4.Factory.afterSetFilter);var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.Emboss=void 0;const rs=xe,bp=ut,EM=gt,_5=me,QM=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,A=this.embossDirection(),r=this.embossBlend(),i=t.data,s=t.width,o=t.height,l=s*4;let c=0,f=0,d=o;switch(A){case"top-left":c=-1,f=-1;break;case"top":c=-1,f=0;break;case"top-right":c=-1,f=1;break;case"right":c=0,f=1;break;case"bottom-right":c=1,f=1;break;case"bottom":c=1,f=0;break;case"bottom-left":c=1,f=-1;break;case"left":c=0,f=-1;break;default:EM.Util.error("Unknown emboss direction: "+A)}do{const p=(d-1)*l;let g=c;d+g<1&&(g=0),d+g>o&&(g=0);const m=(d-1+g)*s*4;let w=s;do{const F=p+(w-1)*4;let v=f;w+v<1&&(v=0),w+v>s&&(v=0);const E=m+(w-1+v)*4,C=i[F]-i[E],Q=i[F+1]-i[E+1],U=i[F+2]-i[E+2];let x=C;const M=x>0?x:-x,k=Q>0?Q:-Q,T=U>0?U:-U;if(k>M&&(x=Q),T>M&&(x=U),x*=e,r){const I=i[F]+x,H=i[F+1]+x,P=i[F+2]+x;i[F]=I>255?255:I<0?0:I,i[F+1]=H>255?255:H<0?0:H,i[F+2]=P>255?255:P<0?0:P}else{let I=n-x;I<0?I=0:I>255&&(I=255),i[F]=i[F+1]=i[F+2]=I}}while(--w)}while(--d)};Hp.Emboss=QM;rs.Factory.addGetterSetter(bp.Node,"embossStrength",.5,(0,_5.getNumberValidator)(),rs.Factory.afterSetFilter);rs.Factory.addGetterSetter(bp.Node,"embossWhiteLevel",.5,(0,_5.getNumberValidator)(),rs.Factory.afterSetFilter);rs.Factory.addGetterSetter(bp.Node,"embossDirection","top-left",void 0,rs.Factory.afterSetFilter);rs.Factory.addGetterSetter(bp.Node,"embossBlend",!1,void 0,rs.Factory.afterSetFilter);var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.Enhance=void 0;const P4=xe,UM=ut,xM=me;function Fm(t,e,n,A,r){const i=n-e,s=r-A;if(i===0)return A+s/2;if(s===0)return A;let o=(t-e)/i;return o=s*o+A,o}const kM=function(t){const e=t.data,n=e.length;let A=e[0],r=A,i,s=e[1],o=s,l,c=e[2],f=c,d;const p=this.enhance();if(p===0)return;for(let x=0;x<n;x+=4)i=e[x+0],i<A?A=i:i>r&&(r=i),l=e[x+1],l<s?s=l:l>o&&(o=l),d=e[x+2],d<c?c=d:d>f&&(f=d);r===A&&(r=255,A=0),o===s&&(o=255,s=0),f===c&&(f=255,c=0);let g,m,w,F,v,E,C,Q,U;p>0?(m=r+p*(255-r),w=A-p*(A-0),v=o+p*(255-o),E=s-p*(s-0),Q=f+p*(255-f),U=c-p*(c-0)):(g=(r+A)*.5,m=r+p*(r-g),w=A+p*(A-g),F=(o+s)*.5,v=o+p*(o-F),E=s+p*(s-F),C=(f+c)*.5,Q=f+p*(f-C),U=c+p*(c-C));for(let x=0;x<n;x+=4)e[x+0]=Fm(e[x+0],A,r,w,m),e[x+1]=Fm(e[x+1],s,o,E,v),e[x+2]=Fm(e[x+2],c,f,U,Q)};Op.Enhance=kM;P4.Factory.addGetterSetter(UM.Node,"enhance",0,(0,xM.getNumberValidator)(),P4.Factory.afterSetFilter);var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.Grayscale=void 0;const _M=function(t){const e=t.data,n=e.length;for(let A=0;A<n;A+=4){const r=.34*e[A]+.5*e[A+1]+.16*e[A+2];e[A]=r,e[A+1]=r,e[A+2]=r}};Dp.Grayscale=_M;var Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.HSL=void 0;const Dl=xe,Sw=ut,Fw=me;Dl.Factory.addGetterSetter(Sw.Node,"hue",0,(0,Fw.getNumberValidator)(),Dl.Factory.afterSetFilter);Dl.Factory.addGetterSetter(Sw.Node,"saturation",0,(0,Fw.getNumberValidator)(),Dl.Factory.afterSetFilter);Dl.Factory.addGetterSetter(Sw.Node,"luminance",0,(0,Fw.getNumberValidator)(),Dl.Factory.afterSetFilter);const IM=function(t){const e=t.data,n=e.length,A=1,r=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o=A*r*Math.cos(i*Math.PI/180),l=A*r*Math.sin(i*Math.PI/180),c=.299*A+.701*o+.167*l,f=.587*A-.587*o+.33*l,d=.114*A-.114*o-.497*l,p=.299*A-.299*o-.328*l,g=.587*A+.413*o+.035*l,m=.114*A-.114*o+.293*l,w=.299*A-.3*o+1.25*l,F=.587*A-.586*o-1.05*l,v=.114*A+.886*o-.2*l;let E,C,Q,U;for(let x=0;x<n;x+=4)E=e[x+0],C=e[x+1],Q=e[x+2],U=e[x+3],e[x+0]=c*E+f*C+d*Q+s,e[x+1]=p*E+g*C+m*Q+s,e[x+2]=w*E+F*C+v*Q+s,e[x+3]=U};Np.HSL=IM;var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.HSV=void 0;const Nl=xe,Ew=ut,Qw=me,TM=function(t){const e=t.data,n=e.length,A=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=A*r*Math.cos(i*Math.PI/180),o=A*r*Math.sin(i*Math.PI/180),l=.299*A+.701*s+.167*o,c=.587*A-.587*s+.33*o,f=.114*A-.114*s-.497*o,d=.299*A-.299*s-.328*o,p=.587*A+.413*s+.035*o,g=.114*A-.114*s+.293*o,m=.299*A-.3*s+1.25*o,w=.587*A-.586*s-1.05*o,F=.114*A+.886*s-.2*o;let v,E,C,Q;for(let U=0;U<n;U+=4)v=e[U+0],E=e[U+1],C=e[U+2],Q=e[U+3],e[U+0]=l*v+c*E+f*C,e[U+1]=d*v+p*E+g*C,e[U+2]=m*v+w*E+F*C,e[U+3]=Q};Lp.HSV=TM;Nl.Factory.addGetterSetter(Ew.Node,"hue",0,(0,Qw.getNumberValidator)(),Nl.Factory.afterSetFilter);Nl.Factory.addGetterSetter(Ew.Node,"saturation",0,(0,Qw.getNumberValidator)(),Nl.Factory.afterSetFilter);Nl.Factory.addGetterSetter(Ew.Node,"value",0,(0,Qw.getNumberValidator)(),Nl.Factory.afterSetFilter);var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.Invert=void 0;const MM=function(t){const e=t.data,n=e.length;for(let A=0;A<n;A+=4)e[A]=255-e[A],e[A+1]=255-e[A+1],e[A+2]=255-e[A+2]};Rp.Invert=MM;var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.Kaleidoscope=void 0;const hh=xe,I5=ut,K4=gt,T5=me,HM=function(t,e,n){const A=t.data,r=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let c=Math.sqrt(o*o+l*l),f=i-o,d=s-l;const p=Math.sqrt(f*f+d*d);c=p>c?p:c;const g=s,m=i,w=360/m*Math.PI/180;for(let F=0;F<m;F+=1){const v=Math.sin(F*w),E=Math.cos(F*w);for(let C=0;C<g;C+=1){f=Math.floor(o+c*C/g*E),d=Math.floor(l+c*C/g*v);let Q=(d*i+f)*4;const U=A[Q+0],x=A[Q+1],M=A[Q+2],k=A[Q+3];Q=(F+C*i)*4,r[Q+0]=U,r[Q+1]=x,r[Q+2]=M,r[Q+3]=k}}},bM=function(t,e,n){const A=t.data,r=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let c=Math.sqrt(o*o+l*l),f=i-o,d=s-l;const p=Math.sqrt(f*f+d*d);c=p>c?p:c;const g=s,m=i,w=n.polarRotation||0;let F,v;for(f=0;f<i;f+=1)for(d=0;d<s;d+=1){const E=f-o,C=d-l,Q=Math.sqrt(E*E+C*C)*g/c;let U=(Math.atan2(C,E)*180/Math.PI+360+w)%360;U=U*m/360,F=Math.floor(U),v=Math.floor(Q);let x=(v*i+F)*4;const M=A[x+0],k=A[x+1],T=A[x+2],I=A[x+3];x=(d*i+f)*4,r[x+0]=M,r[x+1]=k,r[x+2]=T,r[x+3]=I}},OM=function(t){const e=t.width,n=t.height;let A,r,i,s,o,l,c,f,d,p,g=Math.round(this.kaleidoscopePower());const m=Math.round(this.kaleidoscopeAngle()),w=Math.floor(e*(m%360)/360);if(g<1)return;const F=K4.Util.createCanvasElement();F.width=e,F.height=n;const v=F.getContext("2d").getImageData(0,0,e,n);K4.Util.releaseCanvas(F),HM(t,v,{polarCenterX:e/2,polarCenterY:n/2});let E=e/Math.pow(2,g);for(;E<=8;)E=E*2,g-=1;E=Math.ceil(E);let C=E,Q=0,U=C,x=1;for(w+E>e&&(Q=C,U=0,x=-1),r=0;r<n;r+=1)for(A=Q;A!==U;A+=x)i=Math.round(A+w)%e,d=(e*r+i)*4,o=v.data[d+0],l=v.data[d+1],c=v.data[d+2],f=v.data[d+3],p=(e*r+A)*4,v.data[p+0]=o,v.data[p+1]=l,v.data[p+2]=c,v.data[p+3]=f;for(r=0;r<n;r+=1)for(C=Math.floor(E),s=0;s<g;s+=1){for(A=0;A<C+1;A+=1)d=(e*r+A)*4,o=v.data[d+0],l=v.data[d+1],c=v.data[d+2],f=v.data[d+3],p=(e*r+C*2-A-1)*4,v.data[p+0]=o,v.data[p+1]=l,v.data[p+2]=c,v.data[p+3]=f;C*=2}bM(v,t,{polarRotation:0})};Pp.Kaleidoscope=OM;hh.Factory.addGetterSetter(I5.Node,"kaleidoscopePower",2,(0,T5.getNumberValidator)(),hh.Factory.afterSetFilter);hh.Factory.addGetterSetter(I5.Node,"kaleidoscopeAngle",0,(0,T5.getNumberValidator)(),hh.Factory.afterSetFilter);var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.Mask=void 0;const G4=xe,DM=ut,NM=me;function Of(t,e,n){let A=(n*t.width+e)*4;const r=[];return r.push(t.data[A++],t.data[A++],t.data[A++],t.data[A++]),r}function Oa(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function LM(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function RM(t,e){const n=Of(t,0,0),A=Of(t,t.width-1,0),r=Of(t,0,t.height-1),i=Of(t,t.width-1,t.height-1),s=e||10;if(Oa(n,A)<s&&Oa(A,i)<s&&Oa(i,r)<s&&Oa(r,n)<s){const o=LM([A,n,i,r]),l=[];for(let c=0;c<t.width*t.height;c++){const f=Oa(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=f<s?0:255}return l}}function PM(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function KM(t,e,n){const A=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(A.length)),i=Math.floor(r/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let f=0;for(let d=0;d<r;d++)for(let p=0;p<r;p++){const g=o+d-i,m=l+p-i;if(g>=0&&g<n&&m>=0&&m<e){const w=g*e+m,F=A[d*r+p];f+=t[w]*F}}s[c]=f===255*8?255:0}return s}function GM(t,e,n){const A=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(A.length)),i=Math.floor(r/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let f=0;for(let d=0;d<r;d++)for(let p=0;p<r;p++){const g=o+d-i,m=l+p-i;if(g>=0&&g<n&&m>=0&&m<e){const w=g*e+m,F=A[d*r+p];f+=t[w]*F}}s[c]=f>=255*4?255:0}return s}function VM(t,e,n){const A=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(A.length)),i=Math.floor(r/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let f=0;for(let d=0;d<r;d++)for(let p=0;p<r;p++){const g=o+d-i,m=l+p-i;if(g>=0&&g<n&&m>=0&&m<e){const w=g*e+m,F=A[d*r+p];f+=t[w]*F}}s[c]=f}return s}const zM=function(t){const e=this.threshold();let n=RM(t,e);return n&&(n=KM(n,t.width,t.height),n=GM(n,t.width,t.height),n=VM(n,t.width,t.height),PM(t,n)),t};Kp.Mask=zM;G4.Factory.addGetterSetter(DM.Node,"threshold",0,(0,NM.getNumberValidator)(),G4.Factory.afterSetFilter);var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.Noise=void 0;const V4=xe,WM=ut,jM=me,XM=function(t){const e=this.noise()*255,n=t.data,A=n.length,r=e/2;for(let i=0;i<A;i+=4)n[i+0]+=r-2*r*Math.random(),n[i+1]+=r-2*r*Math.random(),n[i+2]+=r-2*r*Math.random()};Gp.Noise=XM;V4.Factory.addGetterSetter(WM.Node,"noise",.2,(0,jM.getNumberValidator)(),V4.Factory.afterSetFilter);var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.Pixelate=void 0;const z4=xe,JM=gt,YM=ut,$M=me,qM=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,A=t.height,r,i,s,o,l,c,f,d=Math.ceil(n/e),p=Math.ceil(A/e),g,m,w,F,v,E,C,Q=t.data;if(e<=0){JM.Util.error("pixelSize value can not be <= 0");return}for(v=0;v<d;v+=1)for(E=0;E<p;E+=1){for(o=0,l=0,c=0,f=0,g=v*e,m=g+e,w=E*e,F=w+e,C=0,r=g;r<m;r+=1)if(!(r>=n))for(i=w;i<F;i+=1)i>=A||(s=(n*i+r)*4,o+=Q[s+0],l+=Q[s+1],c+=Q[s+2],f+=Q[s+3],C+=1);for(o=o/C,l=l/C,c=c/C,f=f/C,r=g;r<m;r+=1)if(!(r>=n))for(i=w;i<F;i+=1)i>=A||(s=(n*i+r)*4,Q[s+0]=o,Q[s+1]=l,Q[s+2]=c,Q[s+3]=f)}};Vp.Pixelate=qM;z4.Factory.addGetterSetter(YM.Node,"pixelSize",8,(0,$M.getNumberValidator)(),z4.Factory.afterSetFilter);var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.Posterize=void 0;const W4=xe,ZM=ut,eH=me,tH=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,A=n.length,r=255/e;for(let i=0;i<A;i+=1)n[i]=Math.floor(n[i]/r)*r};zp.Posterize=tH;W4.Factory.addGetterSetter(ZM.Node,"levels",.5,(0,eH.getNumberValidator)(),W4.Factory.afterSetFilter);var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.RGB=void 0;const ph=xe,Uw=ut,nH=me,AH=function(t){const e=t.data,n=e.length,A=this.red(),r=this.green(),i=this.blue();for(let s=0;s<n;s+=4){const o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=o*A,e[s+1]=o*r,e[s+2]=o*i,e[s+3]=e[s+3]}};Wp.RGB=AH;ph.Factory.addGetterSetter(Uw.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ph.Factory.addGetterSetter(Uw.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ph.Factory.addGetterSetter(Uw.Node,"blue",0,nH.RGBComponent,ph.Factory.afterSetFilter);var jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.RGBA=void 0;const Vu=xe,Xp=ut,rH=me,iH=function(t){const e=t.data,n=e.length,A=this.red(),r=this.green(),i=this.blue(),s=this.alpha();for(let o=0;o<n;o+=4){const l=1-s;e[o]=A*s+e[o]*l,e[o+1]=r*s+e[o+1]*l,e[o+2]=i*s+e[o+2]*l}};jp.RGBA=iH;Vu.Factory.addGetterSetter(Xp.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Vu.Factory.addGetterSetter(Xp.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Vu.Factory.addGetterSetter(Xp.Node,"blue",0,rH.RGBComponent,Vu.Factory.afterSetFilter);Vu.Factory.addGetterSetter(Xp.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.Sepia=void 0;const sH=function(t){const e=t.data,n=e.length;for(let A=0;A<n;A+=4){const r=e[A+0],i=e[A+1],s=e[A+2];e[A+0]=Math.min(255,r*.393+i*.769+s*.189),e[A+1]=Math.min(255,r*.349+i*.686+s*.168),e[A+2]=Math.min(255,r*.272+i*.534+s*.131)}};Jp.Sepia=sH;var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Solarize=void 0;const oH=function(t){const e=t.data,n=t.width,A=t.height,r=n*4;let i=A;do{const s=(i-1)*r;let o=n;do{const l=s+(o-1)*4;let c=e[l],f=e[l+1],d=e[l+2];c>127&&(c=255-c),f>127&&(f=255-f),d>127&&(d=255-d),e[l]=c,e[l+1]=f,e[l+2]=d}while(--o)}while(--i)};Yp.Solarize=oH;var $p={};Object.defineProperty($p,"__esModule",{value:!0});$p.Threshold=void 0;const j4=xe,lH=ut,aH=me,uH=function(t){const e=this.threshold()*255,n=t.data,A=n.length;for(let r=0;r<A;r+=1)n[r]=n[r]<e?0:255};$p.Threshold=uH;j4.Factory.addGetterSetter(lH.Node,"threshold",.5,(0,aH.getNumberValidator)(),j4.Factory.afterSetFilter);Object.defineProperty(sp,"__esModule",{value:!0});sp.Konva=void 0;const X4=ch,cH=fp,fH=pp,dH=Bp,hH=yp,pH=wp,J4=Ol,gH=dc,mH=Zl,BH=pc,yH=Sp,wH=Fp,CH=Ep,vH=Qp,SH=ta,FH=Up,EH=xp,QH=kp,UH=Ip,xH=Tp,kH=Mp,_H=Hp,IH=Op,TH=Dp,MH=Np,HH=Lp,bH=Rp,OH=Pp,DH=Kp,NH=Gp,LH=Vp,RH=zp,PH=Wp,KH=jp,GH=Jp,VH=Yp,zH=$p;sp.Konva=X4.Konva.Util._assign(X4.Konva,{Arc:cH.Arc,Arrow:fH.Arrow,Circle:dH.Circle,Ellipse:hH.Ellipse,Image:pH.Image,Label:J4.Label,Tag:J4.Tag,Line:gH.Line,Path:mH.Path,Rect:BH.Rect,RegularPolygon:yH.RegularPolygon,Ring:wH.Ring,Sprite:CH.Sprite,Star:vH.Star,Text:SH.Text,TextPath:FH.TextPath,Transformer:EH.Transformer,Wedge:QH.Wedge,Filters:{Blur:UH.Blur,Brighten:xH.Brighten,Contrast:kH.Contrast,Emboss:_H.Emboss,Enhance:IH.Enhance,Grayscale:TH.Grayscale,HSL:MH.HSL,HSV:HH.HSV,Invert:bH.Invert,Kaleidoscope:OH.Kaleidoscope,Mask:DH.Mask,Noise:NH.Noise,Pixelate:LH.Pixelate,Posterize:RH.Posterize,RGB:PH.RGB,RGBA:KH.RGBA,Sepia:GH.Sepia,Solarize:VH.Solarize,Threshold:zH.Threshold}});var WH=qQ.exports;Object.defineProperty(WH,"__esModule",{value:!0});const jH=sp;qQ.exports=jH.Konva;var SB={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=ch;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const A=ch;t.exports=A.Konva})(SB,SB.exports);var XH=SB.exports;const zu=rc(XH);var M5={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JH=function(e){var n={},A=ae,r=ru,i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),m=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),U=Symbol.iterator;function x(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}function M(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case F:return"Suspense";case v:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case m:return(a.displayName||"Context")+".Consumer";case g:return(a._context.displayName||"Context")+".Provider";case w:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return u=a.displayName||null,u!==null?u:M(a.type)||"Memo";case C:u=a._payload,a=a._init;try{return M(a(u))}catch{}}return null}function k(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function T(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function I(a){if(T(a)!==a)throw Error(s(188))}function H(a){var u=a.alternate;if(!u){if(u=T(a),u===null)throw Error(s(188));return u!==a?null:a}for(var h=a,B=u;;){var y=h.return;if(y===null)break;var S=y.alternate;if(S===null){if(B=y.return,B!==null){h=B;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===h)return I(y),a;if(S===B)return I(y),u;S=S.sibling}throw Error(s(188))}if(h.return!==B.return)h=y,B=S;else{for(var _=!1,O=y.child;O;){if(O===h){_=!0,h=y,B=S;break}if(O===B){_=!0,B=y,h=S;break}O=O.sibling}if(!_){for(O=S.child;O;){if(O===h){_=!0,h=S,B=y;break}if(O===B){_=!0,B=S,h=y;break}O=O.sibling}if(!_)throw Error(s(189))}}if(h.alternate!==B)throw Error(s(190))}if(h.tag!==3)throw Error(s(188));return h.stateNode.current===h?a:u}function P(a){return a=H(a),a!==null?V(a):null}function V(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=V(a);if(u!==null)return u;a=a.sibling}return null}function Y(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=Y(a);if(u!==null)return u}a=a.sibling}return null}var J=Array.isArray,re=e.getPublicInstance,ce=e.getRootHostContext,K=e.getChildHostContext,q=e.prepareForCommit,j=e.resetAfterCommit,de=e.createInstance,$=e.appendInitialChild,ue=e.finalizeInitialChildren,ge=e.prepareUpdate,Re=e.shouldSetTextContent,be=e.createTextInstance,b=e.scheduleTimeout,z=e.cancelTimeout,fe=e.noTimeout,Ge=e.isPrimaryRenderer,Se=e.supportsMutation,$e=e.supportsPersistence,tt=e.supportsHydration,ZA=e.getInstanceFromNode,je=e.preparePortalMount,si=e.getCurrentEventPriority,_A=e.detachDeletedInstance,oi=e.supportsMicrotasks,x6=e.scheduleMicrotask,ra=e.supportsTestSelectors,k6=e.findFiberRoot,_6=e.getBoundingRect,I6=e.getTextContent,ia=e.isHiddenSubtree,T6=e.matchAccessibilityRole,M6=e.setFocusIfFocusable,H6=e.setupIntersectionObserver,b6=e.appendChild,O6=e.appendChildToContainer,D6=e.commitTextUpdate,N6=e.commitMount,L6=e.commitUpdate,R6=e.insertBefore,P6=e.insertInContainerBefore,K6=e.removeChild,G6=e.removeChildFromContainer,oC=e.resetTextContent,V6=e.hideInstance,z6=e.hideTextInstance,W6=e.unhideInstance,j6=e.unhideTextInstance,X6=e.clearContainer,J6=e.cloneInstance,lC=e.createContainerChildSet,aC=e.appendChildToContainerChildSet,Y6=e.finalizeContainerChildren,Sg=e.replaceContainerChildren,uC=e.cloneHiddenInstance,cC=e.cloneHiddenTextInstance,$6=e.canHydrateInstance,q6=e.canHydrateTextInstance,Z6=e.canHydrateSuspenseInstance,fC=e.isSuspenseInstancePending,Fg=e.isSuspenseInstanceFallback,e8=e.getSuspenseInstanceFallbackErrorDetails,t8=e.registerSuspenseInstanceRetry,Cc=e.getNextHydratableSibling,n8=e.getFirstHydratableChild,A8=e.getFirstHydratableChildWithinContainer,r8=e.getFirstHydratableChildWithinSuspenseInstance,i8=e.hydrateInstance,s8=e.hydrateTextInstance,o8=e.hydrateSuspenseInstance,l8=e.getNextHydratableInstanceAfterSuspenseInstance,a8=e.commitHydratedContainer,u8=e.commitHydratedSuspenseInstance,c8=e.clearSuspenseBoundary,f8=e.clearSuspenseBoundaryFromContainer,d8=e.shouldDeleteUnhydratedTailInstances,h8=e.didNotMatchHydratedContainerTextInstance,p8=e.didNotMatchHydratedTextInstance,Eg;function sa(a){if(Eg===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Eg=u&&u[1]||""}return`
`+Eg+a}var Qg=!1;function Ug(a,u){if(!a||Qg)return"";Qg=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(X){var B=X}Reflect.construct(a,[],u)}else{try{u.call()}catch(X){B=X}a.call(u.prototype)}else{try{throw Error()}catch(X){B=X}a()}}catch(X){if(X&&B&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),S=B.stack.split(`
`),_=y.length-1,O=S.length-1;1<=_&&0<=O&&y[_]!==S[O];)O--;for(;1<=_&&0<=O;_--,O--)if(y[_]!==S[O]){if(_!==1||O!==1)do if(_--,O--,0>O||y[_]!==S[O]){var L=`
`+y[_].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=_&&0<=O);break}}}finally{Qg=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?sa(a):""}var g8=Object.prototype.hasOwnProperty,xg=[],Qo=-1;function li(a){return{current:a}}function nt(a){0>Qo||(a.current=xg[Qo],xg[Qo]=null,Qo--)}function qe(a,u){Qo++,xg[Qo]=a.current,a.current=u}var ai={},un=li(ai),Hn=li(!1),Cs=ai;function Uo(a,u){var h=a.type.contextTypes;if(!h)return ai;var B=a.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===u)return B.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in h)y[S]=u[S];return B&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=y),y}function bn(a){return a=a.childContextTypes,a!=null}function vc(){nt(Hn),nt(un)}function dC(a,u,h){if(un.current!==ai)throw Error(s(168));qe(un,u),qe(Hn,h)}function hC(a,u,h){var B=a.stateNode;if(u=u.childContextTypes,typeof B.getChildContext!="function")return h;B=B.getChildContext();for(var y in B)if(!(y in u))throw Error(s(108,k(a)||"Unknown",y));return i({},h,B)}function Sc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ai,Cs=un.current,qe(un,a),qe(Hn,Hn.current),!0}function pC(a,u,h){var B=a.stateNode;if(!B)throw Error(s(169));h?(a=hC(a,u,Cs),B.__reactInternalMemoizedMergedChildContext=a,nt(Hn),nt(un),qe(un,a)):nt(Hn),qe(Hn,h)}var IA=Math.clz32?Math.clz32:y8,m8=Math.log,B8=Math.LN2;function y8(a){return a>>>=0,a===0?32:31-(m8(a)/B8|0)|0}var Fc=64,Ec=4194304;function oa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qc(a,u){var h=a.pendingLanes;if(h===0)return 0;var B=0,y=a.suspendedLanes,S=a.pingedLanes,_=h&268435455;if(_!==0){var O=_&~y;O!==0?B=oa(O):(S&=_,S!==0&&(B=oa(S)))}else _=h&~y,_!==0?B=oa(_):S!==0&&(B=oa(S));if(B===0)return 0;if(u!==0&&u!==B&&!(u&y)&&(y=B&-B,S=u&-u,y>=S||y===16&&(S&4194240)!==0))return u;if(B&4&&(B|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=B;0<u;)h=31-IA(u),y=1<<h,B|=a[h],u&=~y;return B}function w8(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C8(a,u){for(var h=a.suspendedLanes,B=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes;0<S;){var _=31-IA(S),O=1<<_,L=y[_];L===-1?(!(O&h)||O&B)&&(y[_]=w8(O,u)):L<=u&&(a.expiredLanes|=O),S&=~O}}function kg(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function gC(){var a=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),a}function _g(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function la(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-IA(u),a[u]=h}function v8(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var B=a.eventTimes;for(a=a.expirationTimes;0<h;){var y=31-IA(h),S=1<<y;u[y]=0,B[y]=-1,a[y]=-1,h&=~S}}function Ig(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var B=31-IA(h),y=1<<B;y&u|a[B]&u&&(a[B]|=u),h&=~y}}var Oe=0;function mC(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Tg=r.unstable_scheduleCallback,BC=r.unstable_cancelCallback,S8=r.unstable_shouldYield,F8=r.unstable_requestPaint,Rt=r.unstable_now,Mg=r.unstable_ImmediatePriority,E8=r.unstable_UserBlockingPriority,Hg=r.unstable_NormalPriority,Q8=r.unstable_IdlePriority,Uc=null,er=null;function U8(a){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Uc,a,void 0,(a.current.flags&128)===128)}catch{}}function x8(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var TA=typeof Object.is=="function"?Object.is:x8,Er=null,xc=!1,bg=!1;function yC(a){Er===null?Er=[a]:Er.push(a)}function k8(a){xc=!0,yC(a)}function tr(){if(!bg&&Er!==null){bg=!0;var a=0,u=Oe;try{var h=Er;for(Oe=1;a<h.length;a++){var B=h[a];do B=B(!0);while(B!==null)}Er=null,xc=!1}catch(y){throw Er!==null&&(Er=Er.slice(a+1)),Tg(Mg,tr),y}finally{Oe=u,bg=!1}}return null}var xo=[],ko=0,kc=null,_c=0,sA=[],oA=0,vs=null,Qr=1,Ur="";function Ss(a,u){xo[ko++]=_c,xo[ko++]=kc,kc=a,_c=u}function wC(a,u,h){sA[oA++]=Qr,sA[oA++]=Ur,sA[oA++]=vs,vs=a;var B=Qr;a=Ur;var y=32-IA(B)-1;B&=~(1<<y),h+=1;var S=32-IA(u)+y;if(30<S){var _=y-y%5;S=(B&(1<<_)-1).toString(32),B>>=_,y-=_,Qr=1<<32-IA(u)+y|h<<y|B,Ur=S+a}else Qr=1<<S|h<<y|B,Ur=a}function Og(a){a.return!==null&&(Ss(a,1),wC(a,1,0))}function Dg(a){for(;a===kc;)kc=xo[--ko],xo[ko]=null,_c=xo[--ko],xo[ko]=null;for(;a===vs;)vs=sA[--oA],sA[oA]=null,Ur=sA[--oA],sA[oA]=null,Qr=sA[--oA],sA[oA]=null}var Xn=null,lA=null,st=!1,aa=!1,MA=null;function CC(a,u){var h=dA(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function vC(a,u){switch(a.tag){case 5:return u=$6(u,a.type,a.pendingProps),u!==null?(a.stateNode=u,Xn=a,lA=n8(u),!0):!1;case 6:return u=q6(u,a.pendingProps),u!==null?(a.stateNode=u,Xn=a,lA=null,!0):!1;case 13:if(u=Z6(u),u!==null){var h=vs!==null?{id:Qr,overflow:Ur}:null;return a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=dA(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,Xn=a,lA=null,!0}return!1;default:return!1}}function Ng(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Lg(a){if(st){var u=lA;if(u){var h=u;if(!vC(a,u)){if(Ng(a))throw Error(s(418));u=Cc(h);var B=Xn;u&&vC(a,u)?CC(B,h):(a.flags=a.flags&-4097|2,st=!1,Xn=a)}}else{if(Ng(a))throw Error(s(418));a.flags=a.flags&-4097|2,st=!1,Xn=a}}}function SC(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xn=a}function Ic(a){if(!tt||a!==Xn)return!1;if(!st)return SC(a),st=!0,!1;if(a.tag!==3&&(a.tag!==5||d8(a.type)&&!Re(a.type,a.memoizedProps))){var u=lA;if(u){if(Ng(a))throw FC(),Error(s(418));for(;u;)CC(a,u),u=Cc(u)}}if(SC(a),a.tag===13){if(!tt)throw Error(s(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));lA=l8(a)}else lA=Xn?Cc(a.stateNode):null;return!0}function FC(){for(var a=lA;a;)a=Cc(a)}function _o(){tt&&(lA=Xn=null,aa=st=!1)}function Rg(a){MA===null?MA=[a]:MA.push(a)}var _8=o.ReactCurrentBatchConfig;function Tc(a,u){if(TA(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),B=Object.keys(u);if(h.length!==B.length)return!1;for(B=0;B<h.length;B++){var y=h[B];if(!g8.call(u,y)||!TA(a[y],u[y]))return!1}return!0}function I8(a){switch(a.tag){case 5:return sa(a.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return a=Ug(a.type,!1),a;case 11:return a=Ug(a.type.render,!1),a;case 1:return a=Ug(a.type,!0),a;default:return""}}function ua(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(s(309));var B=h.stateNode}if(!B)throw Error(s(147,a));var y=B,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(_){var O=y.refs;_===null?delete O[S]:O[S]=_},u._stringRef=S,u)}if(typeof a!="string")throw Error(s(284));if(!h._owner)throw Error(s(290,a))}return a}function Mc(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function EC(a){var u=a._init;return u(a._payload)}function QC(a){function u(N,D){if(a){var R=N.deletions;R===null?(N.deletions=[D],N.flags|=16):R.push(D)}}function h(N,D){if(!a)return null;for(;D!==null;)u(N,D),D=D.sibling;return null}function B(N,D){for(N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function y(N,D){return N=gi(N,D),N.index=0,N.sibling=null,N}function S(N,D,R){return N.index=R,a?(R=N.alternate,R!==null?(R=R.index,R<D?(N.flags|=2,D):R):(N.flags|=2,D)):(N.flags|=1048576,D)}function _(N){return a&&N.alternate===null&&(N.flags|=2),N}function O(N,D,R,ne){return D===null||D.tag!==6?(D=b0(R,N.mode,ne),D.return=N,D):(D=y(D,R),D.return=N,D)}function L(N,D,R,ne){var he=R.type;return he===f?oe(N,D,R.props.children,ne,R.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&EC(he)===D.type)?(ne=y(D,R.props),ne.ref=ua(N,D,R),ne.return=N,ne):(ne=cf(R.type,R.key,R.props,null,N.mode,ne),ne.ref=ua(N,D,R),ne.return=N,ne)}function X(N,D,R,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==R.containerInfo||D.stateNode.implementation!==R.implementation?(D=O0(R,N.mode,ne),D.return=N,D):(D=y(D,R.children||[]),D.return=N,D)}function oe(N,D,R,ne,he){return D===null||D.tag!==7?(D=_s(R,N.mode,ne,he),D.return=N,D):(D=y(D,R),D.return=N,D)}function we(N,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return D=b0(""+D,N.mode,R),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case l:return R=cf(D.type,D.key,D.props,null,N.mode,R),R.ref=ua(N,null,D),R.return=N,R;case c:return D=O0(D,N.mode,R),D.return=N,D;case C:var ne=D._init;return we(N,ne(D._payload),R)}if(J(D)||x(D))return D=_s(D,N.mode,R,null),D.return=N,D;Mc(N,D)}return null}function ee(N,D,R,ne){var he=D!==null?D.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return he!==null?null:O(N,D,""+R,ne);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case l:return R.key===he?L(N,D,R,ne):null;case c:return R.key===he?X(N,D,R,ne):null;case C:return he=R._init,ee(N,D,he(R._payload),ne)}if(J(R)||x(R))return he!==null?null:oe(N,D,R,ne,null);Mc(N,R)}return null}function At(N,D,R,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return N=N.get(R)||null,O(D,N,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return N=N.get(ne.key===null?R:ne.key)||null,L(D,N,ne,he);case c:return N=N.get(ne.key===null?R:ne.key)||null,X(D,N,ne,he);case C:var Ee=ne._init;return At(N,D,R,Ee(ne._payload),he)}if(J(ne)||x(ne))return N=N.get(R)||null,oe(D,N,ne,he,null);Mc(D,ne)}return null}function Xe(N,D,R,ne){for(var he=null,Ee=null,Ce=D,De=D=0,Gt=null;Ce!==null&&De<R.length;De++){Ce.index>De?(Gt=Ce,Ce=null):Gt=Ce.sibling;var Ne=ee(N,Ce,R[De],ne);if(Ne===null){Ce===null&&(Ce=Gt);break}a&&Ce&&Ne.alternate===null&&u(N,Ce),D=S(Ne,D,De),Ee===null?he=Ne:Ee.sibling=Ne,Ee=Ne,Ce=Gt}if(De===R.length)return h(N,Ce),st&&Ss(N,De),he;if(Ce===null){for(;De<R.length;De++)Ce=we(N,R[De],ne),Ce!==null&&(D=S(Ce,D,De),Ee===null?he=Ce:Ee.sibling=Ce,Ee=Ce);return st&&Ss(N,De),he}for(Ce=B(N,Ce);De<R.length;De++)Gt=At(Ce,N,De,R[De],ne),Gt!==null&&(a&&Gt.alternate!==null&&Ce.delete(Gt.key===null?De:Gt.key),D=S(Gt,D,De),Ee===null?he=Gt:Ee.sibling=Gt,Ee=Gt);return a&&Ce.forEach(function(mi){return u(N,mi)}),st&&Ss(N,De),he}function Ln(N,D,R,ne){var he=x(R);if(typeof he!="function")throw Error(s(150));if(R=he.call(R),R==null)throw Error(s(151));for(var Ee=he=null,Ce=D,De=D=0,Gt=null,Ne=R.next();Ce!==null&&!Ne.done;De++,Ne=R.next()){Ce.index>De?(Gt=Ce,Ce=null):Gt=Ce.sibling;var mi=ee(N,Ce,Ne.value,ne);if(mi===null){Ce===null&&(Ce=Gt);break}a&&Ce&&mi.alternate===null&&u(N,Ce),D=S(mi,D,De),Ee===null?he=mi:Ee.sibling=mi,Ee=mi,Ce=Gt}if(Ne.done)return h(N,Ce),st&&Ss(N,De),he;if(Ce===null){for(;!Ne.done;De++,Ne=R.next())Ne=we(N,Ne.value,ne),Ne!==null&&(D=S(Ne,D,De),Ee===null?he=Ne:Ee.sibling=Ne,Ee=Ne);return st&&Ss(N,De),he}for(Ce=B(N,Ce);!Ne.done;De++,Ne=R.next())Ne=At(Ce,N,De,Ne.value,ne),Ne!==null&&(a&&Ne.alternate!==null&&Ce.delete(Ne.key===null?De:Ne.key),D=S(Ne,D,De),Ee===null?he=Ne:Ee.sibling=Ne,Ee=Ne);return a&&Ce.forEach(function(o9){return u(N,o9)}),st&&Ss(N,De),he}function Ir(N,D,R,ne){if(typeof R=="object"&&R!==null&&R.type===f&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case l:e:{for(var he=R.key,Ee=D;Ee!==null;){if(Ee.key===he){if(he=R.type,he===f){if(Ee.tag===7){h(N,Ee.sibling),D=y(Ee,R.props.children),D.return=N,N=D;break e}}else if(Ee.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===C&&EC(he)===Ee.type){h(N,Ee.sibling),D=y(Ee,R.props),D.ref=ua(N,Ee,R),D.return=N,N=D;break e}h(N,Ee);break}else u(N,Ee);Ee=Ee.sibling}R.type===f?(D=_s(R.props.children,N.mode,ne,R.key),D.return=N,N=D):(ne=cf(R.type,R.key,R.props,null,N.mode,ne),ne.ref=ua(N,D,R),ne.return=N,N=ne)}return _(N);case c:e:{for(Ee=R.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===R.containerInfo&&D.stateNode.implementation===R.implementation){h(N,D.sibling),D=y(D,R.children||[]),D.return=N,N=D;break e}else{h(N,D);break}else u(N,D);D=D.sibling}D=O0(R,N.mode,ne),D.return=N,N=D}return _(N);case C:return Ee=R._init,Ir(N,D,Ee(R._payload),ne)}if(J(R))return Xe(N,D,R,ne);if(x(R))return Ln(N,D,R,ne);Mc(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,D!==null&&D.tag===6?(h(N,D.sibling),D=y(D,R),D.return=N,N=D):(h(N,D),D=b0(R,N.mode,ne),D.return=N,N=D),_(N)):h(N,D)}return Ir}var Io=QC(!0),UC=QC(!1),Hc=li(null),bc=null,To=null,Pg=null;function Kg(){Pg=To=bc=null}function xC(a,u,h){Ge?(qe(Hc,u._currentValue),u._currentValue=h):(qe(Hc,u._currentValue2),u._currentValue2=h)}function Gg(a){var u=Hc.current;nt(Hc),Ge?a._currentValue=u:a._currentValue2=u}function Vg(a,u,h){for(;a!==null;){var B=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,B!==null&&(B.childLanes|=u)):B!==null&&(B.childLanes&u)!==u&&(B.childLanes|=u),a===h)break;a=a.return}}function Mo(a,u){bc=a,Pg=To=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(On=!0),a.firstContext=null)}function aA(a){var u=Ge?a._currentValue:a._currentValue2;if(Pg!==a)if(a={context:a,memoizedValue:u,next:null},To===null){if(bc===null)throw Error(s(308));To=a,bc.dependencies={lanes:0,firstContext:a}}else To=To.next=a;return u}var Fs=null;function zg(a){Fs===null?Fs=[a]:Fs.push(a)}function kC(a,u,h,B){var y=u.interleaved;return y===null?(h.next=h,zg(u)):(h.next=y.next,y.next=h),u.interleaved=h,nr(a,B)}function nr(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var ui=!1;function Wg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _C(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xr(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function ci(a,u,h){var B=a.updateQueue;if(B===null)return null;if(B=B.shared,ke&2){var y=B.pending;return y===null?u.next=u:(u.next=y.next,y.next=u),B.pending=u,nr(a,h)}return y=B.interleaved,y===null?(u.next=u,zg(B)):(u.next=y.next,y.next=u),B.interleaved=u,nr(a,h)}function Oc(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var B=u.lanes;B&=a.pendingLanes,h|=B,u.lanes=h,Ig(a,h)}}function IC(a,u){var h=a.updateQueue,B=a.alternate;if(B!==null&&(B=B.updateQueue,h===B)){var y=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var _={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?y=S=_:S=S.next=_,h=h.next}while(h!==null);S===null?y=S=u:S=S.next=u}else y=S=u;h={baseState:B.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:B.shared,effects:B.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function Dc(a,u,h,B){var y=a.updateQueue;ui=!1;var S=y.firstBaseUpdate,_=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var L=O,X=L.next;L.next=null,_===null?S=X:_.next=X,_=L;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==_&&(O===null?oe.firstBaseUpdate=X:O.next=X,oe.lastBaseUpdate=L))}if(S!==null){var we=y.baseState;_=0,oe=X=L=null,O=S;do{var ee=O.lane,At=O.eventTime;if((B&ee)===ee){oe!==null&&(oe=oe.next={eventTime:At,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Xe=a,Ln=O;switch(ee=u,At=h,Ln.tag){case 1:if(Xe=Ln.payload,typeof Xe=="function"){we=Xe.call(At,we,ee);break e}we=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Ln.payload,ee=typeof Xe=="function"?Xe.call(At,we,ee):Xe,ee==null)break e;we=i({},we,ee);break e;case 2:ui=!0}}O.callback!==null&&O.lane!==0&&(a.flags|=64,ee=y.effects,ee===null?y.effects=[O]:ee.push(O))}else At={eventTime:At,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(X=oe=At,L=we):oe=oe.next=At,_|=ee;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(1);if(oe===null&&(L=we),y.baseState=L,y.firstBaseUpdate=X,y.lastBaseUpdate=oe,u=y.shared.interleaved,u!==null){y=u;do _|=y.lane,y=y.next;while(y!==u)}else S===null&&(y.shared.lanes=0);Qs|=_,a.lanes=_,a.memoizedState=we}}function TC(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var B=a[u],y=B.callback;if(y!==null){if(B.callback=null,B=h,typeof y!="function")throw Error(s(191,y));y.call(B)}}}var ca={},uA=li(ca),fa=li(ca),Ho=li(ca);function Ar(a){if(a===ca)throw Error(s(174));return a}function jg(a,u){qe(Ho,u),qe(fa,a),qe(uA,ca),a=ce(u),nt(uA),qe(uA,a)}function bo(){nt(uA),nt(fa),nt(Ho)}function MC(a){var u=Ar(Ho.current),h=Ar(uA.current);u=K(h,a.type,u),h!==u&&(qe(fa,a),qe(uA,u))}function Xg(a){fa.current===a&&(nt(uA),nt(fa))}var ct=li(0);function Nc(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||fC(h)||Fg(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Jg=[];function Yg(){for(var a=0;a<Jg.length;a++){var u=Jg[a];Ge?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Jg.length=0}var Lc=o.ReactCurrentDispatcher,$g=o.ReactCurrentBatchConfig,Es=0,ft=null,_t=null,Pt=null,Rc=!1,da=!1,ha=0,T8=0;function cn(){throw Error(s(321))}function qg(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!TA(a[h],u[h]))return!1;return!0}function Zg(a,u,h,B,y,S){if(Es=S,ft=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Lc.current=a===null||a.memoizedState===null?O8:D8,a=h(B,y),da){S=0;do{if(da=!1,ha=0,25<=S)throw Error(s(301));S+=1,Pt=_t=null,u.updateQueue=null,Lc.current=N8,a=h(B,y)}while(da)}if(Lc.current=Gc,u=_t!==null&&_t.next!==null,Es=0,Pt=_t=ft=null,Rc=!1,u)throw Error(s(300));return a}function e0(){var a=ha!==0;return ha=0,a}function rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ft.memoizedState=Pt=a:Pt=Pt.next=a,Pt}function cA(){if(_t===null){var a=ft.alternate;a=a!==null?a.memoizedState:null}else a=_t.next;var u=Pt===null?ft.memoizedState:Pt.next;if(u!==null)Pt=u,_t=a;else{if(a===null)throw Error(s(310));_t=a,a={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Pt===null?ft.memoizedState=Pt=a:Pt=Pt.next=a}return Pt}function pa(a,u){return typeof u=="function"?u(a):u}function t0(a){var u=cA(),h=u.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=a;var B=_t,y=B.baseQueue,S=h.pending;if(S!==null){if(y!==null){var _=y.next;y.next=S.next,S.next=_}B.baseQueue=y=S,h.pending=null}if(y!==null){S=y.next,B=B.baseState;var O=_=null,L=null,X=S;do{var oe=X.lane;if((Es&oe)===oe)L!==null&&(L=L.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),B=X.hasEagerState?X.eagerState:a(B,X.action);else{var we={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};L===null?(O=L=we,_=B):L=L.next=we,ft.lanes|=oe,Qs|=oe}X=X.next}while(X!==null&&X!==S);L===null?_=B:L.next=O,TA(B,u.memoizedState)||(On=!0),u.memoizedState=B,u.baseState=_,u.baseQueue=L,h.lastRenderedState=B}if(a=h.interleaved,a!==null){y=a;do S=y.lane,ft.lanes|=S,Qs|=S,y=y.next;while(y!==a)}else y===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function n0(a){var u=cA(),h=u.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=a;var B=h.dispatch,y=h.pending,S=u.memoizedState;if(y!==null){h.pending=null;var _=y=y.next;do S=a(S,_.action),_=_.next;while(_!==y);TA(S,u.memoizedState)||(On=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,B]}function HC(){}function bC(a,u){var h=ft,B=cA(),y=u(),S=!TA(B.memoizedState,y);if(S&&(B.memoizedState=y,On=!0),B=B.queue,A0(NC.bind(null,h,B,a),[a]),B.getSnapshot!==u||S||Pt!==null&&Pt.memoizedState.tag&1){if(h.flags|=2048,ga(9,DC.bind(null,h,B,y,u),void 0,null),Kt===null)throw Error(s(349));Es&30||OC(h,u,y)}return y}function OC(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=ft.updateQueue,u===null?(u={lastEffect:null,stores:null},ft.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function DC(a,u,h,B){u.value=h,u.getSnapshot=B,LC(u)&&RC(a)}function NC(a,u,h){return h(function(){LC(u)&&RC(a)})}function LC(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!TA(a,h)}catch{return!0}}function RC(a){var u=nr(a,1);u!==null&&fA(u,a,1,-1)}function PC(a){var u=rr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},u.queue=a,a=a.dispatch=b8.bind(null,ft,a),[u.memoizedState,a]}function ga(a,u,h,B){return a={tag:a,create:u,destroy:h,deps:B,next:null},u=ft.updateQueue,u===null?(u={lastEffect:null,stores:null},ft.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(B=h.next,h.next=a,a.next=B,u.lastEffect=a)),a}function KC(){return cA().memoizedState}function Pc(a,u,h,B){var y=rr();ft.flags|=a,y.memoizedState=ga(1|u,h,void 0,B===void 0?null:B)}function Kc(a,u,h,B){var y=cA();B=B===void 0?null:B;var S=void 0;if(_t!==null){var _=_t.memoizedState;if(S=_.destroy,B!==null&&qg(B,_.deps)){y.memoizedState=ga(u,h,S,B);return}}ft.flags|=a,y.memoizedState=ga(1|u,h,S,B)}function GC(a,u){return Pc(8390656,8,a,u)}function A0(a,u){return Kc(2048,8,a,u)}function VC(a,u){return Kc(4,2,a,u)}function zC(a,u){return Kc(4,4,a,u)}function WC(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function jC(a,u,h){return h=h!=null?h.concat([a]):null,Kc(4,4,WC.bind(null,u,a),h)}function r0(){}function XC(a,u){var h=cA();u=u===void 0?null:u;var B=h.memoizedState;return B!==null&&u!==null&&qg(u,B[1])?B[0]:(h.memoizedState=[a,u],a)}function JC(a,u){var h=cA();u=u===void 0?null:u;var B=h.memoizedState;return B!==null&&u!==null&&qg(u,B[1])?B[0]:(a=a(),h.memoizedState=[a,u],a)}function YC(a,u,h){return Es&21?(TA(h,u)||(h=gC(),ft.lanes|=h,Qs|=h,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,On=!0),a.memoizedState=h)}function M8(a,u){var h=Oe;Oe=h!==0&&4>h?h:4,a(!0);var B=$g.transition;$g.transition={};try{a(!1),u()}finally{Oe=h,$g.transition=B}}function $C(){return cA().memoizedState}function H8(a,u,h){var B=hi(a);if(h={lane:B,action:h,hasEagerState:!1,eagerState:null,next:null},qC(a))ZC(u,h);else if(h=kC(a,u,h,B),h!==null){var y=hn();fA(h,a,B,y),ev(h,u,B)}}function b8(a,u,h){var B=hi(a),y={lane:B,action:h,hasEagerState:!1,eagerState:null,next:null};if(qC(a))ZC(u,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var _=u.lastRenderedState,O=S(_,h);if(y.hasEagerState=!0,y.eagerState=O,TA(O,_)){var L=u.interleaved;L===null?(y.next=y,zg(u)):(y.next=L.next,L.next=y),u.interleaved=y;return}}catch{}finally{}h=kC(a,u,y,B),h!==null&&(y=hn(),fA(h,a,B,y),ev(h,u,B))}}function qC(a){var u=a.alternate;return a===ft||u!==null&&u===ft}function ZC(a,u){da=Rc=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function ev(a,u,h){if(h&4194240){var B=u.lanes;B&=a.pendingLanes,h|=B,u.lanes=h,Ig(a,h)}}var Gc={readContext:aA,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},O8={readContext:aA,useCallback:function(a,u){return rr().memoizedState=[a,u===void 0?null:u],a},useContext:aA,useEffect:GC,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,Pc(4194308,4,WC.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Pc(4194308,4,a,u)},useInsertionEffect:function(a,u){return Pc(4,2,a,u)},useMemo:function(a,u){var h=rr();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var B=rr();return u=h!==void 0?h(u):u,B.memoizedState=B.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},B.queue=a,a=a.dispatch=H8.bind(null,ft,a),[B.memoizedState,a]},useRef:function(a){var u=rr();return a={current:a},u.memoizedState=a},useState:PC,useDebugValue:r0,useDeferredValue:function(a){return rr().memoizedState=a},useTransition:function(){var a=PC(!1),u=a[0];return a=M8.bind(null,a[1]),rr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var B=ft,y=rr();if(st){if(h===void 0)throw Error(s(407));h=h()}else{if(h=u(),Kt===null)throw Error(s(349));Es&30||OC(B,u,h)}y.memoizedState=h;var S={value:h,getSnapshot:u};return y.queue=S,GC(NC.bind(null,B,S,a),[a]),B.flags|=2048,ga(9,DC.bind(null,B,S,h,u),void 0,null),h},useId:function(){var a=rr(),u=Kt.identifierPrefix;if(st){var h=Ur,B=Qr;h=(B&~(1<<32-IA(B)-1)).toString(32)+h,u=":"+u+"R"+h,h=ha++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=T8++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},D8={readContext:aA,useCallback:XC,useContext:aA,useEffect:A0,useImperativeHandle:jC,useInsertionEffect:VC,useLayoutEffect:zC,useMemo:JC,useReducer:t0,useRef:KC,useState:function(){return t0(pa)},useDebugValue:r0,useDeferredValue:function(a){var u=cA();return YC(u,_t.memoizedState,a)},useTransition:function(){var a=t0(pa)[0],u=cA().memoizedState;return[a,u]},useMutableSource:HC,useSyncExternalStore:bC,useId:$C,unstable_isNewReconciler:!1},N8={readContext:aA,useCallback:XC,useContext:aA,useEffect:A0,useImperativeHandle:jC,useInsertionEffect:VC,useLayoutEffect:zC,useMemo:JC,useReducer:n0,useRef:KC,useState:function(){return n0(pa)},useDebugValue:r0,useDeferredValue:function(a){var u=cA();return _t===null?u.memoizedState=a:YC(u,_t.memoizedState,a)},useTransition:function(){var a=n0(pa)[0],u=cA().memoizedState;return[a,u]},useMutableSource:HC,useSyncExternalStore:bC,useId:$C,unstable_isNewReconciler:!1};function HA(a,u){if(a&&a.defaultProps){u=i({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function i0(a,u,h,B){u=a.memoizedState,h=h(B,u),h=h==null?u:i({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Vc={isMounted:function(a){return(a=a._reactInternals)?T(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var B=hn(),y=hi(a),S=xr(B,y);S.payload=u,h!=null&&(S.callback=h),u=ci(a,S,y),u!==null&&(fA(u,a,y,B),Oc(u,a,y))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var B=hn(),y=hi(a),S=xr(B,y);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=ci(a,S,y),u!==null&&(fA(u,a,y,B),Oc(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=hn(),B=hi(a),y=xr(h,B);y.tag=2,u!=null&&(y.callback=u),u=ci(a,y,B),u!==null&&(fA(u,a,B,h),Oc(u,a,B))}};function tv(a,u,h,B,y,S,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(B,S,_):u.prototype&&u.prototype.isPureReactComponent?!Tc(h,B)||!Tc(y,S):!0}function nv(a,u,h){var B=!1,y=ai,S=u.contextType;return typeof S=="object"&&S!==null?S=aA(S):(y=bn(u)?Cs:un.current,B=u.contextTypes,S=(B=B!=null)?Uo(a,y):ai),u=new u(h,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vc,a.stateNode=u,u._reactInternals=a,B&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=S),u}function Av(a,u,h,B){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,B),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,B),u.state!==a&&Vc.enqueueReplaceState(u,u.state,null)}function s0(a,u,h,B){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs={},Wg(a);var S=u.contextType;typeof S=="object"&&S!==null?y.context=aA(S):(S=bn(u)?Cs:un.current,y.context=Uo(a,S)),y.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(i0(a,u,S,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(u=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),u!==y.state&&Vc.enqueueReplaceState(y,y.state,null),Dc(a,h,y,B),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Oo(a,u){try{var h="",B=u;do h+=I8(B),B=B.return;while(B);var y=h}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:y,digest:null}}function o0(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function l0(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var L8=typeof WeakMap=="function"?WeakMap:Map;function rv(a,u,h){h=xr(-1,h),h.tag=3,h.payload={element:null};var B=u.value;return h.callback=function(){rf||(rf=!0,x0=B),l0(a,u)},h}function iv(a,u,h){h=xr(-1,h),h.tag=3;var B=a.type.getDerivedStateFromError;if(typeof B=="function"){var y=u.value;h.payload=function(){return B(y)},h.callback=function(){l0(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){l0(a,u),typeof B!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})}),h}function sv(a,u,h){var B=a.pingCache;if(B===null){B=a.pingCache=new L8;var y=new Set;B.set(u,y)}else y=B.get(u),y===void 0&&(y=new Set,B.set(u,y));y.has(h)||(y.add(h),a=Z8.bind(null,a,u,h),u.then(a,a))}function ov(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function lv(a,u,h,B,y){return a.mode&1?(a.flags|=65536,a.lanes=y,a):(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=xr(-1,1),u.tag=2,ci(h,u,1))),h.lanes|=1),a)}var R8=o.ReactCurrentOwner,On=!1;function En(a,u,h,B){u.child=a===null?UC(u,null,h,B):Io(u,a.child,h,B)}function av(a,u,h,B,y){h=h.render;var S=u.ref;return Mo(u,y),B=Zg(a,u,h,B,S,y),h=e0(),a!==null&&!On?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,kr(a,u,y)):(st&&h&&Og(u),u.flags|=1,En(a,u,B,y),u.child)}function uv(a,u,h,B,y){if(a===null){var S=h.type;return typeof S=="function"&&!H0(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=S,cv(a,u,S,B,y)):(a=cf(h.type,null,B,u,u.mode,y),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!(a.lanes&y)){var _=S.memoizedProps;if(h=h.compare,h=h!==null?h:Tc,h(_,B)&&a.ref===u.ref)return kr(a,u,y)}return u.flags|=1,a=gi(S,B),a.ref=u.ref,a.return=u,u.child=a}function cv(a,u,h,B,y){if(a!==null){var S=a.memoizedProps;if(Tc(S,B)&&a.ref===u.ref)if(On=!1,u.pendingProps=B=S,(a.lanes&y)!==0)a.flags&131072&&(On=!0);else return u.lanes=a.lanes,kr(a,u,y)}return a0(a,u,h,B,y)}function fv(a,u,h){var B=u.pendingProps,y=B.children,S=a!==null?a.memoizedState:null;if(B.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(No,Jn),Jn|=h;else{if(!(h&1073741824))return a=S!==null?S.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,qe(No,Jn),Jn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=S!==null?S.baseLanes:h,qe(No,Jn),Jn|=B}else S!==null?(B=S.baseLanes|h,u.memoizedState=null):B=h,qe(No,Jn),Jn|=B;return En(a,u,y,h),u.child}function dv(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function a0(a,u,h,B,y){var S=bn(h)?Cs:un.current;return S=Uo(u,S),Mo(u,y),h=Zg(a,u,h,B,S,y),B=e0(),a!==null&&!On?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,kr(a,u,y)):(st&&B&&Og(u),u.flags|=1,En(a,u,h,y),u.child)}function hv(a,u,h,B,y){if(bn(h)){var S=!0;Sc(u)}else S=!1;if(Mo(u,y),u.stateNode===null)Wc(a,u),nv(u,h,B),s0(u,h,B,y),B=!0;else if(a===null){var _=u.stateNode,O=u.memoizedProps;_.props=O;var L=_.context,X=h.contextType;typeof X=="object"&&X!==null?X=aA(X):(X=bn(h)?Cs:un.current,X=Uo(u,X));var oe=h.getDerivedStateFromProps,we=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function";we||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==B||L!==X)&&Av(u,_,B,X),ui=!1;var ee=u.memoizedState;_.state=ee,Dc(u,B,_,y),L=u.memoizedState,O!==B||ee!==L||Hn.current||ui?(typeof oe=="function"&&(i0(u,h,oe,B),L=u.memoizedState),(O=ui||tv(u,h,O,B,ee,L,X))?(we||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(u.flags|=4194308)):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=B,u.memoizedState=L),_.props=B,_.state=L,_.context=X,B=O):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),B=!1)}else{_=u.stateNode,_C(a,u),O=u.memoizedProps,X=u.type===u.elementType?O:HA(u.type,O),_.props=X,we=u.pendingProps,ee=_.context,L=h.contextType,typeof L=="object"&&L!==null?L=aA(L):(L=bn(h)?Cs:un.current,L=Uo(u,L));var At=h.getDerivedStateFromProps;(oe=typeof At=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==we||ee!==L)&&Av(u,_,B,L),ui=!1,ee=u.memoizedState,_.state=ee,Dc(u,B,_,y);var Xe=u.memoizedState;O!==we||ee!==Xe||Hn.current||ui?(typeof At=="function"&&(i0(u,h,At,B),Xe=u.memoizedState),(X=ui||tv(u,h,X,B,ee,Xe,L)||!1)?(oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(B,Xe,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(B,Xe,L)),typeof _.componentDidUpdate=="function"&&(u.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(u.flags|=1024),u.memoizedProps=B,u.memoizedState=Xe),_.props=B,_.state=Xe,_.context=L,B=X):(typeof _.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(u.flags|=1024),B=!1)}return u0(a,u,h,B,S,y)}function u0(a,u,h,B,y,S){dv(a,u);var _=(u.flags&128)!==0;if(!B&&!_)return y&&pC(u,h,!1),kr(a,u,S);B=u.stateNode,R8.current=u;var O=_&&typeof h.getDerivedStateFromError!="function"?null:B.render();return u.flags|=1,a!==null&&_?(u.child=Io(u,a.child,null,S),u.child=Io(u,null,O,S)):En(a,u,O,S),u.memoizedState=B.state,y&&pC(u,h,!0),u.child}function pv(a){var u=a.stateNode;u.pendingContext?dC(a,u.pendingContext,u.pendingContext!==u.context):u.context&&dC(a,u.context,!1),jg(a,u.containerInfo)}function gv(a,u,h,B,y){return _o(),Rg(y),u.flags|=256,En(a,u,h,B),u.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function f0(a){return{baseLanes:a,cachePool:null,transitions:null}}function mv(a,u,h){var B=u.pendingProps,y=ct.current,S=!1,_=(u.flags&128)!==0,O;if((O=_)||(O=a!==null&&a.memoizedState===null?!1:(y&2)!==0),O?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),qe(ct,y&1),a===null)return Lg(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?Fg(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(_=B.children,a=B.fallback,S?(B=u.mode,S=u.child,_={mode:"hidden",children:_},!(B&1)&&S!==null?(S.childLanes=0,S.pendingProps=_):S=ff(_,B,0,null),a=_s(a,B,h,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=f0(h),u.memoizedState=c0,a):d0(u,_));if(y=a.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return P8(a,u,_,B,O,y,h);if(S){S=B.fallback,_=u.mode,y=a.child,O=y.sibling;var L={mode:"hidden",children:B.children};return!(_&1)&&u.child!==y?(B=u.child,B.childLanes=0,B.pendingProps=L,u.deletions=null):(B=gi(y,L),B.subtreeFlags=y.subtreeFlags&14680064),O!==null?S=gi(O,S):(S=_s(S,_,h,null),S.flags|=2),S.return=u,B.return=u,B.sibling=S,u.child=B,B=S,S=u.child,_=a.child.memoizedState,_=_===null?f0(h):{baseLanes:_.baseLanes|h,cachePool:null,transitions:_.transitions},S.memoizedState=_,S.childLanes=a.childLanes&~h,u.memoizedState=c0,B}return S=a.child,a=S.sibling,B=gi(S,{mode:"visible",children:B.children}),!(u.mode&1)&&(B.lanes=h),B.return=u,B.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=B,u.memoizedState=null,B}function d0(a,u){return u=ff({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function zc(a,u,h,B){return B!==null&&Rg(B),Io(u,a.child,null,h),a=d0(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function P8(a,u,h,B,y,S,_){if(h)return u.flags&256?(u.flags&=-257,B=o0(Error(s(422))),zc(a,u,_,B)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=B.fallback,y=u.mode,B=ff({mode:"visible",children:B.children},y,0,null),S=_s(S,y,_,null),S.flags|=2,B.return=u,S.return=u,B.sibling=S,u.child=B,u.mode&1&&Io(u,a.child,null,_),u.child.memoizedState=f0(_),u.memoizedState=c0,S);if(!(u.mode&1))return zc(a,u,_,null);if(Fg(y))return B=e8(y).digest,S=Error(s(419)),B=o0(S,B,void 0),zc(a,u,_,B);if(h=(_&a.childLanes)!==0,On||h){if(B=Kt,B!==null){switch(_&-_){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(B.suspendedLanes|_)?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,nr(a,y),fA(B,a,y,-1))}return M0(),B=o0(Error(s(421))),zc(a,u,_,B)}return fC(y)?(u.flags|=128,u.child=a.child,u=e9.bind(null,a),t8(y,u),null):(a=S.treeContext,tt&&(lA=r8(y),Xn=u,st=!0,MA=null,aa=!1,a!==null&&(sA[oA++]=Qr,sA[oA++]=Ur,sA[oA++]=vs,Qr=a.id,Ur=a.overflow,vs=u)),u=d0(u,B.children),u.flags|=4096,u)}function Bv(a,u,h){a.lanes|=u;var B=a.alternate;B!==null&&(B.lanes|=u),Vg(a.return,u,h)}function h0(a,u,h,B,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:B,tail:h,tailMode:y}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=B,S.tail=h,S.tailMode=y)}function yv(a,u,h){var B=u.pendingProps,y=B.revealOrder,S=B.tail;if(En(a,u,B.children,h),B=ct.current,B&2)B=B&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Bv(a,h,u);else if(a.tag===19)Bv(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}B&=1}if(qe(ct,B),!(u.mode&1))u.memoizedState=null;else switch(y){case"forwards":for(h=u.child,y=null;h!==null;)a=h.alternate,a!==null&&Nc(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=u.child,u.child=null):(y=h.sibling,h.sibling=null),h0(u,!1,y,h,S);break;case"backwards":for(h=null,y=u.child,u.child=null;y!==null;){if(a=y.alternate,a!==null&&Nc(a)===null){u.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}h0(u,!0,h,null,S);break;case"together":h0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wc(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function kr(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Qs|=u.lanes,!(h&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(a=u.child,h=gi(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=gi(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function K8(a,u,h){switch(u.tag){case 3:pv(u),_o();break;case 5:MC(u);break;case 1:bn(u.type)&&Sc(u);break;case 4:jg(u,u.stateNode.containerInfo);break;case 10:xC(u,u.type._context,u.memoizedProps.value);break;case 13:var B=u.memoizedState;if(B!==null)return B.dehydrated!==null?(qe(ct,ct.current&1),u.flags|=128,null):h&u.child.childLanes?mv(a,u,h):(qe(ct,ct.current&1),a=kr(a,u,h),a!==null?a.sibling:null);qe(ct,ct.current&1);break;case 19:if(B=(h&u.childLanes)!==0,a.flags&128){if(B)return yv(a,u,h);u.flags|=128}var y=u.memoizedState;if(y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),qe(ct,ct.current),B)break;return null;case 22:case 23:return u.lanes=0,fv(a,u,h)}return kr(a,u,h)}function ir(a){a.flags|=4}function wv(a,u){if(a!==null&&a.child===u.child)return!0;if(u.flags&16)return!1;for(a=u.child;a!==null;){if(a.flags&12854||a.subtreeFlags&12854)return!1;a=a.sibling}return!0}var ma,Ba,jc,Xc;if(Se)ma=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)$(a,h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ba=function(){},jc=function(a,u,h,B,y){if(a=a.memoizedProps,a!==B){var S=u.stateNode,_=Ar(uA.current);h=ge(S,h,a,B,y,_),(u.updateQueue=h)&&ir(u)}},Xc=function(a,u,h,B){h!==B&&ir(u)};else if($e){ma=function(a,u,h,B){for(var y=u.child;y!==null;){if(y.tag===5){var S=y.stateNode;h&&B&&(S=uC(S,y.type,y.memoizedProps,y)),$(a,S)}else if(y.tag===6)S=y.stateNode,h&&B&&(S=cC(S,y.memoizedProps,y)),$(a,S);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)S=y.child,S!==null&&(S.return=y),ma(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var Cv=function(a,u,h,B){for(var y=u.child;y!==null;){if(y.tag===5){var S=y.stateNode;h&&B&&(S=uC(S,y.type,y.memoizedProps,y)),aC(a,S)}else if(y.tag===6)S=y.stateNode,h&&B&&(S=cC(S,y.memoizedProps,y)),aC(a,S);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)S=y.child,S!==null&&(S.return=y),Cv(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Ba=function(a,u){var h=u.stateNode;if(!wv(a,u)){a=h.containerInfo;var B=lC(a);Cv(B,u,!1,!1),h.pendingChildren=B,ir(u),Y6(a,B)}},jc=function(a,u,h,B,y){var S=a.stateNode,_=a.memoizedProps;if((a=wv(a,u))&&_===B)u.stateNode=S;else{var O=u.stateNode,L=Ar(uA.current),X=null;_!==B&&(X=ge(O,h,_,B,y,L)),a&&X===null?u.stateNode=S:(S=J6(S,X,h,_,B,u,a,O),ue(S,h,B,y,L)&&ir(u),u.stateNode=S,a?ir(u):ma(S,u,!1,!1))}},Xc=function(a,u,h,B){h!==B?(a=Ar(Ho.current),h=Ar(uA.current),u.stateNode=be(B,a,h,u),ir(u)):u.stateNode=a.stateNode}}else Ba=function(){},jc=function(){},Xc=function(){};function ya(a,u){if(!st)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var B=null;h!==null;)h.alternate!==null&&(B=h),h=h.sibling;B===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:B.sibling=null}}function fn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,B=0;if(u)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,B|=y.subtreeFlags&14680064,B|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,B|=y.subtreeFlags,B|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=B,a.childLanes=h,u}function G8(a,u,h){var B=u.pendingProps;switch(Dg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(u),null;case 1:return bn(u.type)&&vc(),fn(u),null;case 3:return h=u.stateNode,bo(),nt(Hn),nt(un),Yg(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Ic(u)?ir(u):a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,MA!==null&&(I0(MA),MA=null))),Ba(a,u),fn(u),null;case 5:Xg(u),h=Ar(Ho.current);var y=u.type;if(a!==null&&u.stateNode!=null)jc(a,u,y,B,h),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!B){if(u.stateNode===null)throw Error(s(166));return fn(u),null}if(a=Ar(uA.current),Ic(u)){if(!tt)throw Error(s(175));a=i8(u.stateNode,u.type,u.memoizedProps,h,a,u,!aa),u.updateQueue=a,a!==null&&ir(u)}else{var S=de(y,B,h,a,u);ma(S,u,!1,!1),u.stateNode=S,ue(S,y,B,h,a)&&ir(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return fn(u),null;case 6:if(a&&u.stateNode!=null)Xc(a,u,a.memoizedProps,B);else{if(typeof B!="string"&&u.stateNode===null)throw Error(s(166));if(a=Ar(Ho.current),h=Ar(uA.current),Ic(u)){if(!tt)throw Error(s(176));if(a=u.stateNode,h=u.memoizedProps,(B=s8(a,h,u,!aa))&&(y=Xn,y!==null))switch(y.tag){case 3:h8(y.stateNode.containerInfo,a,h,(y.mode&1)!==0);break;case 5:p8(y.type,y.memoizedProps,y.stateNode,a,h,(y.mode&1)!==0)}B&&ir(u)}else u.stateNode=be(B,a,h,u)}return fn(u),null;case 13:if(nt(ct),B=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(st&&lA!==null&&u.mode&1&&!(u.flags&128))FC(),_o(),u.flags|=98560,y=!1;else if(y=Ic(u),B!==null&&B.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!tt)throw Error(s(344));if(y=u.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));o8(y,u)}else _o(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;fn(u),y=!1}else MA!==null&&(I0(MA),MA=null),y=!0;if(!y)return u.flags&65536?u:null}return u.flags&128?(u.lanes=h,u):(h=B!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(u.child.flags|=8192,u.mode&1&&(a===null||ct.current&1?It===0&&(It=3):M0())),u.updateQueue!==null&&(u.flags|=4),fn(u),null);case 4:return bo(),Ba(a,u),a===null&&je(u.stateNode.containerInfo),fn(u),null;case 10:return Gg(u.type._context),fn(u),null;case 17:return bn(u.type)&&vc(),fn(u),null;case 19:if(nt(ct),y=u.memoizedState,y===null)return fn(u),null;if(B=(u.flags&128)!==0,S=y.rendering,S===null)if(B)ya(y,!1);else{if(It!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(S=Nc(a),S!==null){for(u.flags|=128,ya(y,!1),a=S.updateQueue,a!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=h,h=u.child;h!==null;)B=h,y=a,B.flags&=14680066,S=B.alternate,S===null?(B.childLanes=0,B.lanes=y,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=S.childLanes,B.lanes=S.lanes,B.child=S.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=S.memoizedProps,B.memoizedState=S.memoizedState,B.updateQueue=S.updateQueue,B.type=S.type,y=S.dependencies,B.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),h=h.sibling;return qe(ct,ct.current&1|2),u.child}a=a.sibling}y.tail!==null&&Rt()>U0&&(u.flags|=128,B=!0,ya(y,!1),u.lanes=4194304)}else{if(!B)if(a=Nc(S),a!==null){if(u.flags|=128,B=!0,a=a.updateQueue,a!==null&&(u.updateQueue=a,u.flags|=4),ya(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!st)return fn(u),null}else 2*Rt()-y.renderingStartTime>U0&&h!==1073741824&&(u.flags|=128,B=!0,ya(y,!1),u.lanes=4194304);y.isBackwards?(S.sibling=u.child,u.child=S):(a=y.last,a!==null?a.sibling=S:u.child=S,y.last=S)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=Rt(),u.sibling=null,a=ct.current,qe(ct,B?a&1|2:a&1),u):(fn(u),null);case 22:case 23:return T0(),h=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(u.flags|=8192),h&&u.mode&1?Jn&1073741824&&(fn(u),Se&&u.subtreeFlags&6&&(u.flags|=8192)):fn(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function V8(a,u){switch(Dg(u),u.tag){case 1:return bn(u.type)&&vc(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return bo(),nt(Hn),nt(un),Yg(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Xg(u),null;case 13:if(nt(ct),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));_o()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return nt(ct),null;case 4:return bo(),null;case 10:return Gg(u.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var Jc=!1,dn=!1,z8=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Do(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(B){ot(a,u,B)}else h.current=null}function p0(a,u,h){try{h()}catch(B){ot(a,u,B)}}var vv=!1;function W8(a,u){for(q(a.containerInfo),ie=u;ie!==null;)if(a=ie,u=a.child,(a.subtreeFlags&1028)!==0&&u!==null)u.return=a,ie=u;else for(;ie!==null;){a=ie;try{var h=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var B=h.memoizedProps,y=h.memoizedState,S=a.stateNode,_=S.getSnapshotBeforeUpdate(a.elementType===a.type?B:HA(a.type,B),y);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:Se&&X6(a.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(O){ot(a,a.return,O)}if(u=a.sibling,u!==null){u.return=a.return,ie=u;break}ie=a.return}return h=vv,vv=!1,h}function wa(a,u,h){var B=u.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var y=B=B.next;do{if((y.tag&a)===a){var S=y.destroy;y.destroy=void 0,S!==void 0&&p0(u,h,S)}y=y.next}while(y!==B)}}function Yc(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var B=h.create;h.destroy=B()}h=h.next}while(h!==u)}}function g0(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=re(h);break;default:a=h}typeof u=="function"?u(a):u.current=a}}function Sv(a){var u=a.alternate;u!==null&&(a.alternate=null,Sv(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&_A(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Fv(a){return a.tag===5||a.tag===3||a.tag===4}function Ev(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function m0(a,u,h){var B=a.tag;if(B===5||B===6)a=a.stateNode,u?P6(h,a,u):O6(h,a);else if(B!==4&&(a=a.child,a!==null))for(m0(a,u,h),a=a.sibling;a!==null;)m0(a,u,h),a=a.sibling}function B0(a,u,h){var B=a.tag;if(B===5||B===6)a=a.stateNode,u?R6(h,a,u):b6(h,a);else if(B!==4&&(a=a.child,a!==null))for(B0(a,u,h),a=a.sibling;a!==null;)B0(a,u,h),a=a.sibling}var $t=null,bA=!1;function sr(a,u,h){for(h=h.child;h!==null;)y0(a,u,h),h=h.sibling}function y0(a,u,h){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Uc,h)}catch{}switch(h.tag){case 5:dn||Do(h,u);case 6:if(Se){var B=$t,y=bA;$t=null,sr(a,u,h),$t=B,bA=y,$t!==null&&(bA?G6($t,h.stateNode):K6($t,h.stateNode))}else sr(a,u,h);break;case 18:Se&&$t!==null&&(bA?f8($t,h.stateNode):c8($t,h.stateNode));break;case 4:Se?(B=$t,y=bA,$t=h.stateNode.containerInfo,bA=!0,sr(a,u,h),$t=B,bA=y):($e&&(B=h.stateNode.containerInfo,y=lC(B),Sg(B,y)),sr(a,u,h));break;case 0:case 11:case 14:case 15:if(!dn&&(B=h.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){y=B=B.next;do{var S=y,_=S.destroy;S=S.tag,_!==void 0&&(S&2||S&4)&&p0(h,u,_),y=y.next}while(y!==B)}sr(a,u,h);break;case 1:if(!dn&&(Do(h,u),B=h.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=h.memoizedProps,B.state=h.memoizedState,B.componentWillUnmount()}catch(O){ot(h,u,O)}sr(a,u,h);break;case 21:sr(a,u,h);break;case 22:h.mode&1?(dn=(B=dn)||h.memoizedState!==null,sr(a,u,h),dn=B):sr(a,u,h);break;default:sr(a,u,h)}}function Qv(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new z8),u.forEach(function(B){var y=t9.bind(null,a,B);h.has(B)||(h.add(B),B.then(y,y))})}}function OA(a,u){var h=u.deletions;if(h!==null)for(var B=0;B<h.length;B++){var y=h[B];try{var S=a,_=u;if(Se){var O=_;e:for(;O!==null;){switch(O.tag){case 5:$t=O.stateNode,bA=!1;break e;case 3:$t=O.stateNode.containerInfo,bA=!0;break e;case 4:$t=O.stateNode.containerInfo,bA=!0;break e}O=O.return}if($t===null)throw Error(s(160));y0(S,_,y),$t=null,bA=!1}else y0(S,_,y);var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(X){ot(y,u,X)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Uv(u,a),u=u.sibling}function Uv(a,u){var h=a.alternate,B=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(OA(u,a),or(a),B&4){try{wa(3,a,a.return),Yc(3,a)}catch(ee){ot(a,a.return,ee)}try{wa(5,a,a.return)}catch(ee){ot(a,a.return,ee)}}break;case 1:OA(u,a),or(a),B&512&&h!==null&&Do(h,h.return);break;case 5:if(OA(u,a),or(a),B&512&&h!==null&&Do(h,h.return),Se){if(a.flags&32){var y=a.stateNode;try{oC(y)}catch(ee){ot(a,a.return,ee)}}if(B&4&&(y=a.stateNode,y!=null)){var S=a.memoizedProps;if(h=h!==null?h.memoizedProps:S,B=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{L6(y,u,B,h,S,a)}catch(ee){ot(a,a.return,ee)}}}break;case 6:if(OA(u,a),or(a),B&4&&Se){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,S=a.memoizedProps,h=h!==null?h.memoizedProps:S;try{D6(y,h,S)}catch(ee){ot(a,a.return,ee)}}break;case 3:if(OA(u,a),or(a),B&4){if(Se&&tt&&h!==null&&h.memoizedState.isDehydrated)try{a8(u.containerInfo)}catch(ee){ot(a,a.return,ee)}if($e){y=u.containerInfo,S=u.pendingChildren;try{Sg(y,S)}catch(ee){ot(a,a.return,ee)}}}break;case 4:if(OA(u,a),or(a),B&4&&$e){S=a.stateNode,y=S.containerInfo,S=S.pendingChildren;try{Sg(y,S)}catch(ee){ot(a,a.return,ee)}}break;case 13:OA(u,a),or(a),y=a.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(Q0=Rt())),B&4&&Qv(a);break;case 22:var _=h!==null&&h.memoizedState!==null;if(a.mode&1?(dn=(h=dn)||_,OA(u,a),dn=h):OA(u,a),or(a),B&8192){if(h=a.memoizedState!==null,(a.stateNode.isHidden=h)&&!_&&a.mode&1)for(ie=a,B=a.child;B!==null;){for(u=ie=B;ie!==null;){_=ie;var O=_.child;switch(_.tag){case 0:case 11:case 14:case 15:wa(4,_,_.return);break;case 1:Do(_,_.return);var L=_.stateNode;if(typeof L.componentWillUnmount=="function"){var X=_,oe=_.return;try{var we=X;L.props=we.memoizedProps,L.state=we.memoizedState,L.componentWillUnmount()}catch(ee){ot(X,oe,ee)}}break;case 5:Do(_,_.return);break;case 22:if(_.memoizedState!==null){_v(u);continue}}O!==null?(O.return=_,ie=O):_v(u)}B=B.sibling}if(Se){e:if(B=null,Se)for(u=a;;){if(u.tag===5){if(B===null){B=u;try{y=u.stateNode,h?V6(y):W6(u.stateNode,u.memoizedProps)}catch(ee){ot(a,a.return,ee)}}}else if(u.tag===6){if(B===null)try{S=u.stateNode,h?z6(S):j6(S,u.memoizedProps)}catch(ee){ot(a,a.return,ee)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;B===u&&(B=null),u=u.return}B===u&&(B=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:OA(u,a),or(a),B&4&&Qv(a);break;case 21:break;default:OA(u,a),or(a)}}function or(a){var u=a.flags;if(u&2){try{if(Se){e:{for(var h=a.return;h!==null;){if(Fv(h)){var B=h;break e}h=h.return}throw Error(s(160))}switch(B.tag){case 5:var y=B.stateNode;B.flags&32&&(oC(y),B.flags&=-33);var S=Ev(a);B0(a,S,y);break;case 3:case 4:var _=B.stateNode.containerInfo,O=Ev(a);m0(a,O,_);break;default:throw Error(s(161))}}}catch(L){ot(a,a.return,L)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function j8(a,u,h){ie=a,xv(a)}function xv(a,u,h){for(var B=(a.mode&1)!==0;ie!==null;){var y=ie,S=y.child;if(y.tag===22&&B){var _=y.memoizedState!==null||Jc;if(!_){var O=y.alternate,L=O!==null&&O.memoizedState!==null||dn;O=Jc;var X=dn;if(Jc=_,(dn=L)&&!X)for(ie=y;ie!==null;)_=ie,L=_.child,_.tag===22&&_.memoizedState!==null?Iv(y):L!==null?(L.return=_,ie=L):Iv(y);for(;S!==null;)ie=S,xv(S),S=S.sibling;ie=y,Jc=O,dn=X}kv(a)}else y.subtreeFlags&8772&&S!==null?(S.return=y,ie=S):kv(a)}}function kv(a){for(;ie!==null;){var u=ie;if(u.flags&8772){var h=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:dn||Yc(5,u);break;case 1:var B=u.stateNode;if(u.flags&4&&!dn)if(h===null)B.componentDidMount();else{var y=u.elementType===u.type?h.memoizedProps:HA(u.type,h.memoizedProps);B.componentDidUpdate(y,h.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&TC(u,S,B);break;case 3:var _=u.updateQueue;if(_!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=re(u.child.stateNode);break;case 1:h=u.child.stateNode}TC(u,_,h)}break;case 5:var O=u.stateNode;h===null&&u.flags&4&&N6(O,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(tt&&u.memoizedState===null){var L=u.alternate;if(L!==null){var X=L.memoizedState;if(X!==null){var oe=X.dehydrated;oe!==null&&u8(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}dn||u.flags&512&&g0(u)}catch(we){ot(u,u.return,we)}}if(u===a){ie=null;break}if(h=u.sibling,h!==null){h.return=u.return,ie=h;break}ie=u.return}}function _v(a){for(;ie!==null;){var u=ie;if(u===a){ie=null;break}var h=u.sibling;if(h!==null){h.return=u.return,ie=h;break}ie=u.return}}function Iv(a){for(;ie!==null;){var u=ie;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Yc(4,u)}catch(L){ot(u,h,L)}break;case 1:var B=u.stateNode;if(typeof B.componentDidMount=="function"){var y=u.return;try{B.componentDidMount()}catch(L){ot(u,y,L)}}var S=u.return;try{g0(u)}catch(L){ot(u,S,L)}break;case 5:var _=u.return;try{g0(u)}catch(L){ot(u,_,L)}}}catch(L){ot(u,u.return,L)}if(u===a){ie=null;break}var O=u.sibling;if(O!==null){O.return=u.return,ie=O;break}ie=u.return}}var $c=0,qc=1,Zc=2,ef=3,tf=4;if(typeof Symbol=="function"&&Symbol.for){var Ca=Symbol.for;$c=Ca("selector.component"),qc=Ca("selector.has_pseudo_class"),Zc=Ca("selector.role"),ef=Ca("selector.test_id"),tf=Ca("selector.text")}function w0(a){var u=ZA(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if(a=k6(a),a===null)throw Error(s(362));return a.stateNode.current}function C0(a,u){switch(u.$$typeof){case $c:if(a.type===u.value)return!0;break;case qc:e:{u=u.value,a=[a,0];for(var h=0;h<a.length;){var B=a[h++],y=a[h++],S=u[y];if(B.tag!==5||!ia(B)){for(;S!=null&&C0(B,S);)y++,S=u[y];if(y===u.length){u=!0;break e}else for(B=B.child;B!==null;)a.push(B,y),B=B.sibling}}u=!1}return u;case Zc:if(a.tag===5&&T6(a.stateNode,u.value))return!0;break;case tf:if((a.tag===5||a.tag===6)&&(a=I6(a),a!==null&&0<=a.indexOf(u.value)))return!0;break;case ef:if(a.tag===5&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function v0(a){switch(a.$$typeof){case $c:return"<"+(M(a.value)||"Unknown")+">";case qc:return":has("+(v0(a)||"")+")";case Zc:return'[role="'+a.value+'"]';case tf:return'"'+a.value+'"';case ef:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function Tv(a,u){var h=[];a=[a,0];for(var B=0;B<a.length;){var y=a[B++],S=a[B++],_=u[S];if(y.tag!==5||!ia(y)){for(;_!=null&&C0(y,_);)S++,_=u[S];if(S===u.length)h.push(y);else for(y=y.child;y!==null;)a.push(y,S),y=y.sibling}}return h}function S0(a,u){if(!ra)throw Error(s(363));a=w0(a),a=Tv(a,u),u=[],a=Array.from(a);for(var h=0;h<a.length;){var B=a[h++];if(B.tag===5)ia(B)||u.push(B.stateNode);else for(B=B.child;B!==null;)a.push(B),B=B.sibling}return u}var X8=Math.ceil,nf=o.ReactCurrentDispatcher,F0=o.ReactCurrentOwner,Ct=o.ReactCurrentBatchConfig,ke=0,Kt=null,Qt=null,qt=0,Jn=0,No=li(0),It=0,va=null,Qs=0,Af=0,E0=0,Sa=null,Dn=null,Q0=0,U0=1/0,_r=null;function Lo(){U0=Rt()+500}var rf=!1,x0=null,fi=null,sf=!1,di=null,of=0,Fa=0,k0=null,lf=-1,af=0;function hn(){return ke&6?Rt():lf!==-1?lf:lf=Rt()}function hi(a){return a.mode&1?ke&2&&qt!==0?qt&-qt:_8.transition!==null?(af===0&&(af=gC()),af):(a=Oe,a!==0?a:si()):1}function fA(a,u,h,B){if(50<Fa)throw Fa=0,k0=null,Error(s(185));la(a,h,B),(!(ke&2)||a!==Kt)&&(a===Kt&&(!(ke&2)&&(Af|=h),It===4&&pi(a,qt)),Nn(a,B),h===1&&ke===0&&!(u.mode&1)&&(Lo(),xc&&tr()))}function Nn(a,u){var h=a.callbackNode;C8(a,u);var B=Qc(a,a===Kt?qt:0);if(B===0)h!==null&&BC(h),a.callbackNode=null,a.callbackPriority=0;else if(u=B&-B,a.callbackPriority!==u){if(h!=null&&BC(h),u===1)a.tag===0?k8(Hv.bind(null,a)):yC(Hv.bind(null,a)),oi?x6(function(){!(ke&6)&&tr()}):Tg(Mg,tr),h=null;else{switch(mC(B)){case 1:h=Mg;break;case 4:h=E8;break;case 16:h=Hg;break;case 536870912:h=Q8;break;default:h=Hg}h=Gv(h,Mv.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function Mv(a,u){if(lf=-1,af=0,ke&6)throw Error(s(327));var h=a.callbackNode;if(ks()&&a.callbackNode!==h)return null;var B=Qc(a,a===Kt?qt:0);if(B===0)return null;if(B&30||B&a.expiredLanes||u)u=uf(a,B);else{u=B;var y=ke;ke|=2;var S=Dv();(Kt!==a||qt!==u)&&(_r=null,Lo(),Us(a,u));do try{$8();break}catch(O){Ov(a,O)}while(1);Kg(),nf.current=S,ke=y,Qt!==null?u=0:(Kt=null,qt=0,u=It)}if(u!==0){if(u===2&&(y=kg(a),y!==0&&(B=y,u=_0(a,y))),u===1)throw h=va,Us(a,0),pi(a,B),Nn(a,Rt()),h;if(u===6)pi(a,B);else{if(y=a.current.alternate,!(B&30)&&!J8(y)&&(u=uf(a,B),u===2&&(S=kg(a),S!==0&&(B=S,u=_0(a,S))),u===1))throw h=va,Us(a,0),pi(a,B),Nn(a,Rt()),h;switch(a.finishedWork=y,a.finishedLanes=B,u){case 0:case 1:throw Error(s(345));case 2:xs(a,Dn,_r);break;case 3:if(pi(a,B),(B&130023424)===B&&(u=Q0+500-Rt(),10<u)){if(Qc(a,0)!==0)break;if(y=a.suspendedLanes,(y&B)!==B){hn(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=b(xs.bind(null,a,Dn,_r),u);break}xs(a,Dn,_r);break;case 4:if(pi(a,B),(B&4194240)===B)break;for(u=a.eventTimes,y=-1;0<B;){var _=31-IA(B);S=1<<_,_=u[_],_>y&&(y=_),B&=~S}if(B=y,B=Rt()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*X8(B/1960))-B,10<B){a.timeoutHandle=b(xs.bind(null,a,Dn,_r),B);break}xs(a,Dn,_r);break;case 5:xs(a,Dn,_r);break;default:throw Error(s(329))}}}return Nn(a,Rt()),a.callbackNode===h?Mv.bind(null,a):null}function _0(a,u){var h=Sa;return a.current.memoizedState.isDehydrated&&(Us(a,u).flags|=256),a=uf(a,u),a!==2&&(u=Dn,Dn=h,u!==null&&I0(u)),a}function I0(a){Dn===null?Dn=a:Dn.push.apply(Dn,a)}function J8(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var B=0;B<h.length;B++){var y=h[B],S=y.getSnapshot;y=y.value;try{if(!TA(S(),y))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function pi(a,u){for(u&=~E0,u&=~Af,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-IA(u),B=1<<h;a[h]=-1,u&=~B}}function Hv(a){if(ke&6)throw Error(s(327));ks();var u=Qc(a,0);if(!(u&1))return Nn(a,Rt()),null;var h=uf(a,u);if(a.tag!==0&&h===2){var B=kg(a);B!==0&&(u=B,h=_0(a,B))}if(h===1)throw h=va,Us(a,0),pi(a,u),Nn(a,Rt()),h;if(h===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,xs(a,Dn,_r),Nn(a,Rt()),null}function bv(a){di!==null&&di.tag===0&&!(ke&6)&&ks();var u=ke;ke|=1;var h=Ct.transition,B=Oe;try{if(Ct.transition=null,Oe=1,a)return a()}finally{Oe=B,Ct.transition=h,ke=u,!(ke&6)&&tr()}}function T0(){Jn=No.current,nt(No)}function Us(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==fe&&(a.timeoutHandle=fe,z(h)),Qt!==null)for(h=Qt.return;h!==null;){var B=h;switch(Dg(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&vc();break;case 3:bo(),nt(Hn),nt(un),Yg();break;case 5:Xg(B);break;case 4:bo();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:Gg(B.type._context);break;case 22:case 23:T0()}h=h.return}if(Kt=a,Qt=a=gi(a.current,null),qt=Jn=u,It=0,va=null,E0=Af=Qs=0,Dn=Sa=null,Fs!==null){for(u=0;u<Fs.length;u++)if(h=Fs[u],B=h.interleaved,B!==null){h.interleaved=null;var y=B.next,S=h.pending;if(S!==null){var _=S.next;S.next=y,B.next=_}h.pending=B}Fs=null}return a}function Ov(a,u){do{var h=Qt;try{if(Kg(),Lc.current=Gc,Rc){for(var B=ft.memoizedState;B!==null;){var y=B.queue;y!==null&&(y.pending=null),B=B.next}Rc=!1}if(Es=0,Pt=_t=ft=null,da=!1,ha=0,F0.current=null,h===null||h.return===null){It=1,va=u,Qt=null;break}e:{var S=a,_=h.return,O=h,L=u;if(u=qt,O.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=L,oe=O,we=oe.tag;if(!(oe.mode&1)&&(we===0||we===11||we===15)){var ee=oe.alternate;ee?(oe.updateQueue=ee.updateQueue,oe.memoizedState=ee.memoizedState,oe.lanes=ee.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var At=ov(_);if(At!==null){At.flags&=-257,lv(At,_,O,S,u),At.mode&1&&sv(S,X,u),u=At,L=X;var Xe=u.updateQueue;if(Xe===null){var Ln=new Set;Ln.add(L),u.updateQueue=Ln}else Xe.add(L);break e}else{if(!(u&1)){sv(S,X,u),M0();break e}L=Error(s(426))}}else if(st&&O.mode&1){var Ir=ov(_);if(Ir!==null){!(Ir.flags&65536)&&(Ir.flags|=256),lv(Ir,_,O,S,u),Rg(Oo(L,O));break e}}S=L=Oo(L,O),It!==4&&(It=2),Sa===null?Sa=[S]:Sa.push(S),S=_;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var N=rv(S,L,u);IC(S,N);break e;case 1:O=L;var D=S.type,R=S.stateNode;if(!(S.flags&128)&&(typeof D.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(fi===null||!fi.has(R)))){S.flags|=65536,u&=-u,S.lanes|=u;var ne=iv(S,O,u);IC(S,ne);break e}}S=S.return}while(S!==null)}Lv(h)}catch(he){u=he,Qt===h&&h!==null&&(Qt=h=h.return);continue}break}while(1)}function Dv(){var a=nf.current;return nf.current=Gc,a===null?Gc:a}function M0(){(It===0||It===3||It===2)&&(It=4),Kt===null||!(Qs&268435455)&&!(Af&268435455)||pi(Kt,qt)}function uf(a,u){var h=ke;ke|=2;var B=Dv();(Kt!==a||qt!==u)&&(_r=null,Us(a,u));do try{Y8();break}catch(y){Ov(a,y)}while(1);if(Kg(),ke=h,nf.current=B,Qt!==null)throw Error(s(261));return Kt=null,qt=0,It}function Y8(){for(;Qt!==null;)Nv(Qt)}function $8(){for(;Qt!==null&&!S8();)Nv(Qt)}function Nv(a){var u=Kv(a.alternate,a,Jn);a.memoizedProps=a.pendingProps,u===null?Lv(a):Qt=u,F0.current=null}function Lv(a){var u=a;do{var h=u.alternate;if(a=u.return,u.flags&32768){if(h=V8(h,u),h!==null){h.flags&=32767,Qt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{It=6,Qt=null;return}}else if(h=G8(h,u,Jn),h!==null){Qt=h;return}if(u=u.sibling,u!==null){Qt=u;return}Qt=u=a}while(u!==null);It===0&&(It=5)}function xs(a,u,h){var B=Oe,y=Ct.transition;try{Ct.transition=null,Oe=1,q8(a,u,h,B)}finally{Ct.transition=y,Oe=B}return null}function q8(a,u,h,B){do ks();while(di!==null);if(ke&6)throw Error(s(327));h=a.finishedWork;var y=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(s(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(v8(a,S),a===Kt&&(Qt=Kt=null,qt=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||sf||(sf=!0,Gv(Hg,function(){return ks(),null})),S=(h.flags&15990)!==0,h.subtreeFlags&15990||S){S=Ct.transition,Ct.transition=null;var _=Oe;Oe=1;var O=ke;ke|=4,F0.current=null,W8(a,h),Uv(h,a),j(a.containerInfo),a.current=h,j8(h),F8(),ke=O,Oe=_,Ct.transition=S}else a.current=h;if(sf&&(sf=!1,di=a,of=y),S=a.pendingLanes,S===0&&(fi=null),U8(h.stateNode),Nn(a,Rt()),u!==null)for(B=a.onRecoverableError,h=0;h<u.length;h++)y=u[h],B(y.value,{componentStack:y.stack,digest:y.digest});if(rf)throw rf=!1,a=x0,x0=null,a;return of&1&&a.tag!==0&&ks(),S=a.pendingLanes,S&1?a===k0?Fa++:(Fa=0,k0=a):Fa=0,tr(),null}function ks(){if(di!==null){var a=mC(of),u=Ct.transition,h=Oe;try{if(Ct.transition=null,Oe=16>a?16:a,di===null)var B=!1;else{if(a=di,di=null,of=0,ke&6)throw Error(s(331));var y=ke;for(ke|=4,ie=a.current;ie!==null;){var S=ie,_=S.child;if(ie.flags&16){var O=S.deletions;if(O!==null){for(var L=0;L<O.length;L++){var X=O[L];for(ie=X;ie!==null;){var oe=ie;switch(oe.tag){case 0:case 11:case 15:wa(8,oe,S)}var we=oe.child;if(we!==null)we.return=oe,ie=we;else for(;ie!==null;){oe=ie;var ee=oe.sibling,At=oe.return;if(Sv(oe),oe===X){ie=null;break}if(ee!==null){ee.return=At,ie=ee;break}ie=At}}}var Xe=S.alternate;if(Xe!==null){var Ln=Xe.child;if(Ln!==null){Xe.child=null;do{var Ir=Ln.sibling;Ln.sibling=null,Ln=Ir}while(Ln!==null)}}ie=S}}if(S.subtreeFlags&2064&&_!==null)_.return=S,ie=_;else e:for(;ie!==null;){if(S=ie,S.flags&2048)switch(S.tag){case 0:case 11:case 15:wa(9,S,S.return)}var N=S.sibling;if(N!==null){N.return=S.return,ie=N;break e}ie=S.return}}var D=a.current;for(ie=D;ie!==null;){_=ie;var R=_.child;if(_.subtreeFlags&2064&&R!==null)R.return=_,ie=R;else e:for(_=D;ie!==null;){if(O=ie,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Yc(9,O)}}catch(he){ot(O,O.return,he)}if(O===_){ie=null;break e}var ne=O.sibling;if(ne!==null){ne.return=O.return,ie=ne;break e}ie=O.return}}if(ke=y,tr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Uc,a)}catch{}B=!0}return B}finally{Oe=h,Ct.transition=u}}return!1}function Rv(a,u,h){u=Oo(h,u),u=rv(a,u,1),a=ci(a,u,1),u=hn(),a!==null&&(la(a,1,u),Nn(a,u))}function ot(a,u,h){if(a.tag===3)Rv(a,a,h);else for(;u!==null;){if(u.tag===3){Rv(u,a,h);break}else if(u.tag===1){var B=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(fi===null||!fi.has(B))){a=Oo(h,a),a=iv(u,a,1),u=ci(u,a,1),a=hn(),u!==null&&(la(u,1,a),Nn(u,a));break}}u=u.return}}function Z8(a,u,h){var B=a.pingCache;B!==null&&B.delete(u),u=hn(),a.pingedLanes|=a.suspendedLanes&h,Kt===a&&(qt&h)===h&&(It===4||It===3&&(qt&130023424)===qt&&500>Rt()-Q0?Us(a,0):E0|=h),Nn(a,u)}function Pv(a,u){u===0&&(a.mode&1?(u=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):u=1);var h=hn();a=nr(a,u),a!==null&&(la(a,u,h),Nn(a,h))}function e9(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),Pv(a,h)}function t9(a,u){var h=0;switch(a.tag){case 13:var B=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:B=a.stateNode;break;default:throw Error(s(314))}B!==null&&B.delete(u),Pv(a,h)}var Kv;Kv=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Hn.current)On=!0;else{if(!(a.lanes&h)&&!(u.flags&128))return On=!1,K8(a,u,h);On=!!(a.flags&131072)}else On=!1,st&&u.flags&1048576&&wC(u,_c,u.index);switch(u.lanes=0,u.tag){case 2:var B=u.type;Wc(a,u),a=u.pendingProps;var y=Uo(u,un.current);Mo(u,h),y=Zg(null,u,B,a,y,h);var S=e0();return u.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,bn(B)?(S=!0,Sc(u)):S=!1,u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Wg(u),y.updater=Vc,u.stateNode=y,y._reactInternals=u,s0(u,B,a,h),u=u0(null,u,B,!0,S,h)):(u.tag=0,st&&S&&Og(u),En(null,u,y,h),u=u.child),u;case 16:B=u.elementType;e:{switch(Wc(a,u),a=u.pendingProps,y=B._init,B=y(B._payload),u.type=B,y=u.tag=A9(B),a=HA(B,a),y){case 0:u=a0(null,u,B,a,h);break e;case 1:u=hv(null,u,B,a,h);break e;case 11:u=av(null,u,B,a,h);break e;case 14:u=uv(null,u,B,HA(B.type,a),h);break e}throw Error(s(306,B,""))}return u;case 0:return B=u.type,y=u.pendingProps,y=u.elementType===B?y:HA(B,y),a0(a,u,B,y,h);case 1:return B=u.type,y=u.pendingProps,y=u.elementType===B?y:HA(B,y),hv(a,u,B,y,h);case 3:e:{if(pv(u),a===null)throw Error(s(387));B=u.pendingProps,S=u.memoizedState,y=S.element,_C(a,u),Dc(u,B,null,h);var _=u.memoizedState;if(B=_.element,tt&&S.isDehydrated)if(S={element:B,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){y=Oo(Error(s(423)),u),u=gv(a,u,B,h,y);break e}else if(B!==y){y=Oo(Error(s(424)),u),u=gv(a,u,B,h,y);break e}else for(tt&&(lA=A8(u.stateNode.containerInfo),Xn=u,st=!0,MA=null,aa=!1),h=UC(u,null,B,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(_o(),B===y){u=kr(a,u,h);break e}En(a,u,B,h)}u=u.child}return u;case 5:return MC(u),a===null&&Lg(u),B=u.type,y=u.pendingProps,S=a!==null?a.memoizedProps:null,_=y.children,Re(B,y)?_=null:S!==null&&Re(B,S)&&(u.flags|=32),dv(a,u),En(a,u,_,h),u.child;case 6:return a===null&&Lg(u),null;case 13:return mv(a,u,h);case 4:return jg(u,u.stateNode.containerInfo),B=u.pendingProps,a===null?u.child=Io(u,null,B,h):En(a,u,B,h),u.child;case 11:return B=u.type,y=u.pendingProps,y=u.elementType===B?y:HA(B,y),av(a,u,B,y,h);case 7:return En(a,u,u.pendingProps,h),u.child;case 8:return En(a,u,u.pendingProps.children,h),u.child;case 12:return En(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(B=u.type._context,y=u.pendingProps,S=u.memoizedProps,_=y.value,xC(u,B,_),S!==null)if(TA(S.value,_)){if(S.children===y.children&&!Hn.current){u=kr(a,u,h);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var O=S.dependencies;if(O!==null){_=S.child;for(var L=O.firstContext;L!==null;){if(L.context===B){if(S.tag===1){L=xr(-1,h&-h),L.tag=2;var X=S.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?L.next=L:(L.next=oe.next,oe.next=L),X.pending=L}}S.lanes|=h,L=S.alternate,L!==null&&(L.lanes|=h),Vg(S.return,h,u),O.lanes|=h;break}L=L.next}}else if(S.tag===10)_=S.type===u.type?null:S.child;else if(S.tag===18){if(_=S.return,_===null)throw Error(s(341));_.lanes|=h,O=_.alternate,O!==null&&(O.lanes|=h),Vg(_,h,u),_=S.sibling}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===u){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}En(a,u,y.children,h),u=u.child}return u;case 9:return y=u.type,B=u.pendingProps.children,Mo(u,h),y=aA(y),B=B(y),u.flags|=1,En(a,u,B,h),u.child;case 14:return B=u.type,y=HA(B,u.pendingProps),y=HA(B.type,y),uv(a,u,B,y,h);case 15:return cv(a,u,u.type,u.pendingProps,h);case 17:return B=u.type,y=u.pendingProps,y=u.elementType===B?y:HA(B,y),Wc(a,u),u.tag=1,bn(B)?(a=!0,Sc(u)):a=!1,Mo(u,h),nv(u,B,y),s0(u,B,y,h),u0(null,u,B,!0,a,h);case 19:return yv(a,u,h);case 22:return fv(a,u,h)}throw Error(s(156,u.tag))};function Gv(a,u){return Tg(a,u)}function n9(a,u,h,B){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dA(a,u,h,B){return new n9(a,u,h,B)}function H0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function A9(a){if(typeof a=="function")return H0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===w)return 11;if(a===E)return 14}return 2}function gi(a,u){var h=a.alternate;return h===null?(h=dA(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function cf(a,u,h,B,y,S){var _=2;if(B=a,typeof a=="function")H0(a)&&(_=1);else if(typeof a=="string")_=5;else e:switch(a){case f:return _s(h.children,y,S,u);case d:_=8,y|=8;break;case p:return a=dA(12,h,u,y|2),a.elementType=p,a.lanes=S,a;case F:return a=dA(13,h,u,y),a.elementType=F,a.lanes=S,a;case v:return a=dA(19,h,u,y),a.elementType=v,a.lanes=S,a;case Q:return ff(h,y,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:_=10;break e;case m:_=9;break e;case w:_=11;break e;case E:_=14;break e;case C:_=16,B=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return u=dA(_,h,u,y),u.elementType=a,u.type=B,u.lanes=S,u}function _s(a,u,h,B){return a=dA(7,a,B,u),a.lanes=h,a}function ff(a,u,h,B){return a=dA(22,a,B,u),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function b0(a,u,h){return a=dA(6,a,null,u),a.lanes=h,a}function O0(a,u,h){return u=dA(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function r9(a,u,h,B,y){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=B,this.onRecoverableError=y,tt&&(this.mutableSourceEagerHydrationData=null)}function Vv(a,u,h,B,y,S,_,O,L){return a=new r9(a,u,h,O,L),u===1?(u=1,S===!0&&(u|=8)):u=0,S=dA(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:B,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wg(S),a}function zv(a){if(!a)return ai;a=a._reactInternals;e:{if(T(a)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(bn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var h=a.type;if(bn(h))return hC(a,h,u)}return u}function Wv(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=P(u),a===null?null:a.stateNode}function jv(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function df(a,u){jv(a,u),(a=a.alternate)&&jv(a,u)}function i9(a){return a=P(a),a===null?null:a.stateNode}function s9(){return null}return n.attemptContinuousHydration=function(a){if(a.tag===13){var u=nr(a,134217728);if(u!==null){var h=hn();fA(u,a,134217728,h)}df(a,134217728)}},n.attemptDiscreteHydration=function(a){if(a.tag===13){var u=nr(a,1);if(u!==null){var h=hn();fA(u,a,1,h)}df(a,1)}},n.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=hi(a),h=nr(a,u);if(h!==null){var B=hn();fA(h,a,u,B)}df(a,u)}},n.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=oa(u.pendingLanes);h!==0&&(Ig(u,h|1),Nn(u,Rt()),!(ke&6)&&(Lo(),tr()))}break;case 13:bv(function(){var B=nr(a,1);if(B!==null){var y=hn();fA(B,a,1,y)}}),df(a,1)}},n.batchedUpdates=function(a,u){var h=ke;ke|=1;try{return a(u)}finally{ke=h,ke===0&&(Lo(),xc&&tr())}},n.createComponentSelector=function(a){return{$$typeof:$c,value:a}},n.createContainer=function(a,u,h,B,y,S,_){return Vv(a,u,!1,null,h,B,y,S,_)},n.createHasPseudoClassSelector=function(a){return{$$typeof:qc,value:a}},n.createHydrationContainer=function(a,u,h,B,y,S,_,O,L){return a=Vv(h,B,!0,a,y,S,_,O,L),a.context=zv(null),h=a.current,B=hn(),y=hi(h),S=xr(B,y),S.callback=u??null,ci(h,S,y),a.current.lanes=y,la(a,y,B),Nn(a,B),a},n.createPortal=function(a,u,h){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:B==null?null:""+B,children:a,containerInfo:u,implementation:h}},n.createRoleSelector=function(a){return{$$typeof:Zc,value:a}},n.createTestNameSelector=function(a){return{$$typeof:ef,value:a}},n.createTextSelector=function(a){return{$$typeof:tf,value:a}},n.deferredUpdates=function(a){var u=Oe,h=Ct.transition;try{return Ct.transition=null,Oe=16,a()}finally{Oe=u,Ct.transition=h}},n.discreteUpdates=function(a,u,h,B,y){var S=Oe,_=Ct.transition;try{return Ct.transition=null,Oe=1,a(u,h,B,y)}finally{Oe=S,Ct.transition=_,ke===0&&Lo()}},n.findAllNodes=S0,n.findBoundingRects=function(a,u){if(!ra)throw Error(s(363));u=S0(a,u),a=[];for(var h=0;h<u.length;h++)a.push(_6(u[h]));for(u=a.length-1;0<u;u--){h=a[u];for(var B=h.x,y=B+h.width,S=h.y,_=S+h.height,O=u-1;0<=O;O--)if(u!==O){var L=a[O],X=L.x,oe=X+L.width,we=L.y,ee=we+L.height;if(B>=X&&S>=we&&y<=oe&&_<=ee){a.splice(u,1);break}else if(B!==X||h.width!==L.width||ee<S||we>_){if(!(S!==we||h.height!==L.height||oe<B||X>y)){X>B&&(L.width+=X-B,L.x=B),oe<y&&(L.width=y-X),a.splice(u,1);break}}else{we>S&&(L.height+=we-S,L.y=S),ee<_&&(L.height=_-we),a.splice(u,1);break}}}return a},n.findHostInstance=Wv,n.findHostInstanceWithNoPortals=function(a){return a=H(a),a=a!==null?Y(a):null,a===null?null:a.stateNode},n.findHostInstanceWithWarning=function(a){return Wv(a)},n.flushControlled=function(a){var u=ke;ke|=1;var h=Ct.transition,B=Oe;try{Ct.transition=null,Oe=1,a()}finally{Oe=B,Ct.transition=h,ke=u,ke===0&&(Lo(),tr())}},n.flushPassiveEffects=ks,n.flushSync=bv,n.focusWithin=function(a,u){if(!ra)throw Error(s(363));for(a=w0(a),u=Tv(a,u),u=Array.from(u),a=0;a<u.length;){var h=u[a++];if(!ia(h)){if(h.tag===5&&M6(h.stateNode))return!0;for(h=h.child;h!==null;)u.push(h),h=h.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Oe},n.getFindAllNodesFailureDescription=function(a,u){if(!ra)throw Error(s(363));var h=0,B=[];a=[w0(a),0];for(var y=0;y<a.length;){var S=a[y++],_=a[y++],O=u[_];if((S.tag!==5||!ia(S))&&(C0(S,O)&&(B.push(v0(O)),_++,_>h&&(h=_)),_<u.length))for(S=S.child;S!==null;)a.push(S,_),S=S.sibling}if(h<u.length){for(a=[];h<u.length;h++)a.push(v0(u[h]));return`findAllNodes was able to match part of the selector:
  `+(B.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},n.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return re(a.child.stateNode);default:return a.child.stateNode}},n.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:i9,findFiberByHostInstance:a.findFiberByHostInstance||s9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Uc=u.inject(a),er=u}catch{}a=!!u.checkDCE}}return a},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(a,u,h,B){if(!ra)throw Error(s(363));a=S0(a,u);var y=H6(a,h,B).disconnect;return{disconnect:function(){y()}}},n.registerMutableSourceForHydration=function(a,u){var h=u._getVersion;h=h(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,h]:a.mutableSourceEagerHydrationData.push(u,h)},n.runWithPriority=function(a,u){var h=Oe;try{return Oe=a,u()}finally{Oe=h}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(a,u,h,B){var y=u.current,S=hn(),_=hi(y);return h=zv(h),u.context===null?u.context=h:u.pendingContext=h,u=xr(S,_),u.payload={element:a},B=B===void 0?null:B,B!==null&&(u.callback=B),a=ci(y,u,_),a!==null&&(fA(a,y,_,S),Oc(a,y,_)),_},n};M5.exports=JH;var YH=M5.exports;const $H=rc(YH);var H5={exports:{}},Fo={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Fo.ConcurrentRoot=1;Fo.ContinuousEventPriority=4;Fo.DefaultEventPriority=16;Fo.DiscreteEventPriority=1;Fo.IdleEventPriority=536870912;Fo.LegacyRoot=0;H5.exports=Fo;var b5=H5.exports;const Y4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let $4=!1,q4=!1;const xw=".react-konva-event",qH=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,ZH=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,eb={};function qp(t,e,n=eb){if(!$4&&"zIndex"in e&&(console.warn(ZH),$4=!0),!q4&&e.draggable){var A=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;A&&!r&&(console.warn(qH),q4=!0)}for(var i in n)if(!Y4[i]){var s=i.slice(0,2)==="on",o=n[i]!==e[i];if(s&&o){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[i])}var c=!e.hasOwnProperty(i);c&&t.setAttr(i,void 0)}var f=e._useStrictMode,d={},p=!1;const g={};for(var i in e)if(!Y4[i]){var s=i.slice(0,2)==="on",m=n[i]!==e[i];if(s&&m){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[i]&&(g[l]=e[i])}!s&&(e[i]!==n[i]||f&&e[i]!==t.getAttr(i))&&(p=!0,d[i]=e[i])}p&&(t.setAttrs(d),ms(t));for(var l in g)t.on(l+xw,g[l])}function ms(t){if(!Qe.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const O5={},tb={};zu.Node.prototype._applyProps=qp;function nb(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),ms(t)}function Ab(t,e,n){let A=zu[t];A||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),A=zu.Group);const r={},i={};for(var s in e){var o=s.slice(0,2)==="on";o?i[s]=e[s]:r[s]=e[s]}const l=new A(r);return qp(l,i),l}function rb(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function ib(t,e,n){return!1}function sb(t){return t}function ob(){return null}function lb(){return null}function ab(t,e,n,A){return tb}function ub(){}function cb(t){}function fb(t,e){return!1}function db(){return O5}function hb(){return O5}const pb=setTimeout,gb=clearTimeout,mb=-1;function Bb(t,e){return!1}const yb=!1,wb=!0,Cb=!0;function vb(t,e){e.parent===t?e.moveToTop():t.add(e),ms(t)}function Sb(t,e){e.parent===t?e.moveToTop():t.add(e),ms(t)}function D5(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),ms(t)}function Fb(t,e,n){D5(t,e,n)}function Eb(t,e){e.destroy(),e.off(xw),ms(t)}function Qb(t,e){e.destroy(),e.off(xw),ms(t)}function Ub(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function xb(t,e,n){}function kb(t,e,n,A,r){qp(t,r,A)}function _b(t){t.hide(),ms(t)}function Ib(t){}function Tb(t,e){(e.visible==null||e.visible)&&t.show()}function Mb(t,e){}function Hb(t){}function bb(){}const Ob=()=>b5.DefaultEventPriority,Db=Object.freeze(Object.defineProperty({__proto__:null,appendChild:vb,appendChildToContainer:Sb,appendInitialChild:nb,cancelTimeout:gb,clearContainer:Hb,commitMount:xb,commitTextUpdate:Ub,commitUpdate:kb,createInstance:Ab,createTextInstance:rb,detachDeletedInstance:bb,finalizeInitialChildren:ib,getChildHostContext:hb,getCurrentEventPriority:Ob,getPublicInstance:sb,getRootHostContext:db,hideInstance:_b,hideTextInstance:Ib,idlePriority:ru.unstable_IdlePriority,insertBefore:D5,insertInContainerBefore:Fb,isPrimaryRenderer:yb,noTimeout:mb,now:ru.unstable_now,prepareForCommit:ob,preparePortalMount:lb,prepareUpdate:ab,removeChild:Eb,removeChildFromContainer:Qb,resetAfterCommit:ub,resetTextContent:cb,run:ru.unstable_runWithPriority,scheduleTimeout:pb,shouldDeprioritizeSubtree:fb,shouldSetTextContent:Bb,supportsMutation:Cb,unhideInstance:Tb,unhideTextInstance:Mb,warnsIfNotActing:wb},Symbol.toStringTag,{value:"Module"}));var Nb=Object.defineProperty,Lb=Object.defineProperties,Rb=Object.getOwnPropertyDescriptors,Z4=Object.getOwnPropertySymbols,Pb=Object.prototype.hasOwnProperty,Kb=Object.prototype.propertyIsEnumerable,eS=(t,e,n)=>e in t?Nb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tS=(t,e)=>{for(var n in e||(e={}))Pb.call(e,n)&&eS(t,n,e[n]);if(Z4)for(var n of Z4(e))Kb.call(e,n)&&eS(t,n,e[n]);return t},Gb=(t,e)=>Lb(t,Rb(e)),nS,AS;typeof window<"u"&&((nS=window.document)!=null&&nS.createElement||((AS=window.navigator)==null?void 0:AS.product)==="ReactNative")?ae.useLayoutEffect:ae.useEffect;function N5(t,e,n){if(!t)return;if(n(t)===!0)return t;let A=e?t.return:t.child;for(;A;){const r=N5(A,e,n);if(r)return r;A=e?null:A.sibling}}function L5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const rS=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=rS;return}return rS.apply(this,arguments)};const kw=L5(ae.createContext(null));class R5 extends ae.Component{render(){return ae.createElement(kw.Provider,{value:this._reactInternals},this.props.children)}}function Vb(){const t=ae.useContext(kw);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ae.useId();return ae.useMemo(()=>{for(const A of[t,t==null?void 0:t.alternate]){if(!A)continue;const r=N5(A,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[t,e])}function zb(){const t=Vb(),[e]=ae.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==kw&&!e.has(r)&&e.set(r,ae.useContext(L5(r)))}n=n.return}return e}function Wb(){const t=zb();return ae.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>A=>ae.createElement(e,null,ae.createElement(n.Provider,Gb(tS({},A),{value:t.get(n)}))),e=>ae.createElement(R5,tS({},e))),[t])}function jb(t){const e=Ke.useRef({});return Ke.useLayoutEffect(()=>{e.current=t}),Ke.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const Xb=t=>{const e=Ke.useRef(),n=Ke.useRef(),A=Ke.useRef(),r=jb(t),i=Wb(),s=o=>{const{forwardedRef:l}=t;l&&(typeof l=="function"?l(o):l.current=o)};return Ke.useLayoutEffect(()=>(n.current=new zu.Stage({width:t.width,height:t.height,container:e.current}),s(n.current),A.current=ja.createContainer(n.current,b5.LegacyRoot,!1,null),ja.updateContainer(Ke.createElement(i,{},t.children),A.current),()=>{zu.isBrowser&&(s(null),ja.updateContainer(null,A.current,null),n.current.destroy())}),[]),Ke.useLayoutEffect(()=>{s(n.current),qp(n.current,t,r),ja.updateContainer(Ke.createElement(i,{},t.children),A.current,null)}),Ke.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},Jb="Layer",Yb="Group",$b="Rect",qb="Image",Zb="Text",eO="Transformer",ja=$H(Db);ja.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Ke.version,rendererPackageName:"react-konva"});const tO=Ke.forwardRef((t,e)=>Ke.createElement(R5,{},Ke.createElement(Xb,{...t,forwardedRef:e}))),Zp=()=>tI(),Wr=rI;var Ts=ae,nO=function(e,n,A){const r=Ts.useRef("loading"),i=Ts.useRef(),[s,o]=Ts.useState(0),l=Ts.useRef(),c=Ts.useRef(),f=Ts.useRef();return(l.current!==e||c.current!==n||f.current!==A)&&(r.current="loading",i.current=void 0,l.current=e,c.current=n,f.current=A),Ts.useLayoutEffect(function(){if(!e)return;var d=document.createElement("img");function p(){r.current="loaded",i.current=d,o(Math.random())}function g(){r.current="failed",i.current=void 0,o(Math.random())}return d.addEventListener("load",p),d.addEventListener("error",g),n&&(d.crossOrigin=n),A&&(d.referrerPolicy=A),d.src=e,function(){d.removeEventListener("load",p),d.removeEventListener("error",g)}},[e,n,A]),[i.current,r.current]};const AO=rc(nO),rO=({shapeRef:t})=>{const e=ae.useRef(null);return ae.useEffect(()=>{var n;!e.current||!t.current||(e.current.nodes([t.current]),(n=e.current.getLayer())==null||n.batchDraw())},[t]),Be.jsx(eO,{ref:e,boundBoxFunc:(n,A)=>A.width<20||A.height<20?n:A,rotateEnabled:!0,enabledAnchors:["top-left","top-center","top-right","middle-right","bottom-right","bottom-center","bottom-left","middle-left"],padding:5,anchorSize:8,anchorCornerRadius:2,borderStroke:"#2196F3",anchorStroke:"#2196F3",anchorFill:"#ffffff"})},iS=250,iO=16,FB="Arial",P5="#000000",sO="#ffffff",oO="#000000",K5=2,lO=["Arial","Times New Roman","Courier New","Georgia","Verdana"],aO=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),uO=(t,e="rect")=>({id:aO(),type:e,x:t.x,y:t.y,width:iS,height:iS/2.5,rotation:0,styles:{fill:sO,stroke:oO,strokeWidth:K5},text:"",textStyles:{fontSize:iO,fontFamily:FB,fill:P5,align:"center"}}),sS=(t,e=20)=>Math.round(t/e)*e;const cO=({shape:t})=>{const e=Zp(),n=ae.useRef(null),A=ae.useRef(null),r=Wr(d=>d.tool.currentTool),i=Wr(d=>d.canvas.selectedShapeId),s=t.id===i,[o]=AO(t.textImageUrl||"");ae.useEffect(()=>{if(o&&n.current){const d=o.width/o.height;let p=t.width-20,g=p/d;g>t.height-20&&(g=t.height-20,p=g*d),(p>t.width-20||g>t.height-20)&&e(hu({...t,width:Math.max(t.width,p+40),height:Math.max(t.height,g+40)}))}},[o,t,e]);const l=ae.useCallback(d=>{r!=="shape"&&(d.cancelBubble=!0,e(GI(t.id)),e(fB(!0)))},[r,e,t.id]),c=ae.useCallback(d=>{const p=d.target,g={x:sS(p.x()),y:sS(p.y())};e(hu({...t,x:g.x,y:g.y}))},[e,t]),f=ae.useCallback(()=>{if(!n.current)return;const d=n.current,p=d.scaleX(),g=d.scaleY();d.scaleX(1),d.scaleY(1),e(hu({...t,x:d.x(),y:d.y(),width:Math.max(5,d.width()*p),height:Math.max(5,d.height()*g),rotation:d.rotation()}))},[e,t]);return Be.jsxs(Be.Fragment,{children:[Be.jsxs(Yb,{x:t.x,y:t.y,width:t.width,height:t.height,rotation:t.rotation,onClick:l,onTap:l,ref:n,draggable:r==="cursor",onDragEnd:c,onTransformEnd:f,children:[Be.jsx($b,{width:t.width,height:t.height,fill:t.styles.fill,stroke:t.styles.stroke,strokeWidth:t.styles.strokeWidth,cornerRadius:5}),t.textImageUrl&&o?Be.jsx(qb,{ref:A,image:o,width:t.width-20,height:t.height-20,x:10,y:10,listening:!1}):t.text?Be.jsx(Zb,{text:t.text,width:t.width-20,height:t.height-20,x:10,y:10,fontSize:t.textStyles.fontSize,fontFamily:t.textStyles.fontFamily,fill:t.textStyles.fill,align:t.textStyles.align,verticalAlign:"middle",wrap:"word",listening:!1}):null]}),s&&r==="cursor"&&Be.jsx(rO,{shapeRef:n})]})},fO=()=>{const[t,e]=ae.useState({width:window.innerWidth,height:window.innerHeight});return ae.useEffect(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};const dO=()=>{const t=Zp(),e=ae.useRef(null),{shapes:n,stagePosition:A}=Wr(c=>c.canvas),{currentTool:r}=Wr(c=>c.tool),i=fO(),s=c=>{if(r!=="shape")return;const f=c.target.getStage();if(!f)return;const d=f.getPointerPosition();if(!d)return;const p=f.absolutePosition(),g={x:(d.x-p.x)/f.scaleX(),y:(d.y-p.y)/f.scaleY()};t(KI(uO(g)))},o=c=>{const f=c.target.getStage();f&&t(VI({x:f.x(),y:f.y()}))},l=c=>{c.evt.preventDefault();const f=e.current;if(!f)return;const d=f.scaleX(),p=f.getPointerPosition();if(!p)return;const g={x:(p.x-f.x())/d,y:(p.y-f.y())/d},m=c.evt.deltaY>0?d*.9:d*1.1;f.scale({x:m,y:m});const w={x:p.x-g.x*m,y:p.y-g.y*m};f.position(w),f.batchDraw(),t(zI(m))};return Be.jsx("div",{className:"canvas-container",children:Be.jsx(tO,{width:i.width,height:i.height,draggable:r==="cursor",onClick:s,onDragEnd:o,onWheel:l,ref:e,x:A.x,y:A.y,children:Be.jsx(Jb,{children:n.map(c=>Be.jsx(cO,{shape:c},c.id))})})})};const hO=()=>{const t=Zp(),e=Wr(A=>A.tool.currentTool),n=A=>{t(XI(A))};return Be.jsx("div",{className:"control",children:Be.jsxs("div",{className:"control__group",children:[Be.jsxs("button",{className:`control__button ${e==="cursor"?"control__button--active":""}`,onClick:()=>n("cursor"),children:[Be.jsx("span",{className:"control__icon",children:""}),Be.jsx("span",{className:"control__label",children:""})]}),Be.jsxs("button",{className:`control__button ${e==="shape"?"control__button--active":""}`,onClick:()=>n("shape"),children:[Be.jsx("span",{className:"control__icon",children:""}),Be.jsx("span",{className:"control__label",children:""})]})]})})};function tn(t){this.content=t}tn.prototype={constructor:tn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var A=n&&n!=t?this.remove(n):this,r=A.find(t),i=A.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new tn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new tn(n)},addToStart:function(t,e){return new tn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new tn(n)},addBefore:function(t,e,n){var A=this.remove(e),r=A.content.slice(),i=A.find(t);return r.splice(i==-1?r.length:i,0,e,n),new tn(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=tn.from(t),t.size?new tn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=tn.from(t),t.size?new tn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=tn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};tn.from=function(t){if(t instanceof tn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new tn(e)};function G5(t,e,n){for(let A=0;;A++){if(A==t.childCount||A==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(A),i=e.child(A);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let s=0;r.text[s]==i.text[s];s++)n++;return n}if(r.content.size||i.content.size){let s=G5(r.content,i.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function V5(t,e,n,A){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:A};let s=t.child(--r),o=e.child(--i),l=s.nodeSize;if(s==o){n-=l,A-=l;continue}if(!s.sameMarkup(o))return{a:n,b:A};if(s.isText&&s.text!=o.text){let c=0,f=Math.min(s.text.length,o.text.length);for(;c<f&&s.text[s.text.length-c-1]==o.text[o.text.length-c-1];)c++,n--,A--;return{a:n,b:A}}if(s.content.size||o.content.size){let c=V5(s.content,o.content,n-1,A-1);if(c)return c}n-=l,A-=l}}class G{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let A=0;A<e.length;A++)this.size+=e[A].nodeSize}nodesBetween(e,n,A,r=0,i){for(let s=0,o=0;o<n;s++){let l=this.content[s],c=o+l.nodeSize;if(c>e&&A(l,r+o,i||null,s)!==!1&&l.content.size){let f=o+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),A,r+f)}o=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,A,r){let i="",s=!0;return this.nodesBetween(e,n,(o,l)=>{let c=o.isText?o.text.slice(Math.max(e,l)-l,n-l):o.isLeaf?r?typeof r=="function"?r(o):r:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&A&&(s?s=!1:i+=A),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,A=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(A)&&(r[r.length-1]=n.withText(n.text+A.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new G(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let A=[],r=0;if(n>e)for(let i=0,s=0;s<n;i++){let o=this.content[i],l=s+o.nodeSize;l>e&&((s<e||l>n)&&(o.isText?o=o.cut(Math.max(0,e-s),Math.min(o.text.length,n-s)):o=o.cut(Math.max(0,e-s-1),Math.min(o.content.size,n-s-1))),A.push(o),r+=o.nodeSize),s=l}return new G(A,r)}cutByIndex(e,n){return e==n?G.empty:e==0&&n==this.content.length?this:new G(this.content.slice(e,n))}replaceChild(e,n){let A=this.content[e];if(A==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-A.nodeSize;return r[e]=n,new G(r,i)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,A=0;n<this.content.length;n++){let r=this.content[n];e(r,A,n),A+=r.nodeSize}}findDiffStart(e,n=0){return G5(this,e,n)}findDiffEnd(e,n=this.size,A=e.size){return V5(this,e,n,A)}findIndex(e,n=-1){if(e==0)return Df(0,e);if(e==this.size)return Df(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let A=0,r=0;;A++){let i=this.child(A),s=r+i.nodeSize;if(s>=e)return s==e||n>0?Df(A+1,s):Df(A,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return G.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let n,A=0;for(let r=0;r<e.length;r++){let i=e[r];A+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new G(n||e,A)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const Em={index:0,offset:0};function Df(t,e){return Em.index=t,Em.offset=e,Em}function gh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let A=0;A<t.length;A++)if(!gh(t[A],e[A]))return!1}else{for(let A in t)if(!(A in e)||!gh(t[A],e[A]))return!1;for(let A in e)if(!(A in t))return!1}return!0}let Je=class EB{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,A=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!A&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),A=!0),n&&n.push(i)}}return n||(n=e.slice()),A||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let A=e.marks[n.type];if(!A)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=A.create(n.attrs);return A.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let A=0;A<e.length;A++)if(!e[A].eq(n[A]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return EB.none;if(e instanceof EB)return[e];let n=e.slice();return n.sort((A,r)=>A.type.rank-r.type.rank),n}};Je.none=[];class mh extends Error{}class te{constructor(e,n,A){this.content=e,this.openStart=n,this.openEnd=A}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let A=W5(this.content,e+this.openStart,n);return A&&new te(A,this.openStart,this.openEnd)}removeBetween(e,n){return new te(z5(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let A=n.openStart||0,r=n.openEnd||0;if(typeof A!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(G.fromJSON(e,n.content),A,r)}static maxOpen(e,n=!0){let A=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)A++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new te(e,A,r)}}te.empty=new te(G.empty,0,0);function z5(t,e,n){let{index:A,offset:r}=t.findIndex(e),i=t.maybeChild(A),{index:s,offset:o}=t.findIndex(n);if(r==e||i.isText){if(o!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(A!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(A,i.copy(z5(i.content,e-r-1,n-r-1)))}function W5(t,e,n,A){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r);if(i==e||s.isText)return A&&!A.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let o=W5(s.content,e-i-1,n);return o&&t.replaceChild(r,s.copy(o))}function pO(t,e,n){if(n.openStart>t.depth)throw new mh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new mh("Inconsistent open depths");return j5(t,e,n,0)}function j5(t,e,n,A){let r=t.index(A),i=t.node(A);if(r==e.index(A)&&A<t.depth-n.openStart){let s=j5(t,e,n,A+1);return i.copy(i.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==A&&e.depth==A){let s=t.parent,o=s.content;return $s(s,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:s,end:o}=gO(n,t);return $s(i,J5(t,s,o,e,A))}else return $s(i,Bh(t,e,A))}function X5(t,e){if(!e.type.compatibleContent(t.type))throw new mh("Cannot join "+e.type.name+" onto "+t.type.name)}function QB(t,e,n){let A=t.node(n);return X5(A,e.node(n)),A}function Ys(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pu(t,e,n,A){let r=(e||t).node(n),i=0,s=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ys(t.nodeAfter,A),i++));for(let o=i;o<s;o++)Ys(r.child(o),A);e&&e.depth==n&&e.textOffset&&Ys(e.nodeBefore,A)}function $s(t,e){return t.type.checkContent(e),t.copy(e)}function J5(t,e,n,A,r){let i=t.depth>r&&QB(t,e,r+1),s=A.depth>r&&QB(n,A,r+1),o=[];return pu(null,t,r,o),i&&s&&e.index(r)==n.index(r)?(X5(i,s),Ys($s(i,J5(t,e,n,A,r+1)),o)):(i&&Ys($s(i,Bh(t,e,r+1)),o),pu(e,n,r,o),s&&Ys($s(s,Bh(n,A,r+1)),o)),pu(A,null,r,o),new G(o)}function Bh(t,e,n){let A=[];if(pu(null,t,n,A),t.depth>n){let r=QB(t,e,n+1);Ys($s(r,Bh(t,e,n+1)),A)}return pu(e,null,n,A),new G(A)}function gO(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(G.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Wu{constructor(e,n,A){this.pos=e,this.path=n,this.parentOffset=A,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let A=this.pos-this.path[this.path.length-1],r=e.child(n);return A?e.child(n).cut(A):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let A=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=A.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Je.none;if(this.textOffset)return e.child(n).marks;let A=e.maybeChild(n-1),r=e.maybeChild(n);if(!A){let o=A;A=r,r=o}let i=A.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let A=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<A.length;i++)A[i].type.spec.inclusive===!1&&(!r||!A[i].isInSet(r.marks))&&(A=A[i--].removeFromSet(A));return A}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let A=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);A>=0;A--)if(e.pos<=this.end(A)&&(!n||n(this.node(A))))return new yh(this,e,A);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let A=[],r=0,i=n;for(let s=e;;){let{index:o,offset:l}=s.content.findIndex(i),c=i-l;if(A.push(s,o,r+l),!c||(s=s.child(o),s.isText))break;i=c-1,r+=l+1}return new Wu(n,A,i)}static resolveCached(e,n){let A=oS.get(e);if(A)for(let i=0;i<A.elts.length;i++){let s=A.elts[i];if(s.pos==n)return s}else oS.set(e,A=new mO);let r=A.elts[A.i]=Wu.resolve(e,n);return A.i=(A.i+1)%BO,r}}class mO{constructor(){this.elts=[],this.i=0}}const BO=12,oS=new WeakMap;class yh{constructor(e,n,A){this.$from=e,this.$to=n,this.depth=A}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const yO=Object.create(null);let Xi=class UB{constructor(e,n,A,r=Je.none){this.type=e,this.attrs=n,this.marks=r,this.content=A||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,A,r=0){this.content.nodesBetween(e,n,A,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,A,r){return this.content.textBetween(e,n,A,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,A){return this.type==e&&gh(this.attrs,n||e.defaultAttrs||yO)&&Je.sameSet(this.marks,A||Je.none)}copy(e=null){return e==this.content?this:new UB(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new UB(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,A=!1){if(e==n)return te.empty;let r=this.resolve(e),i=this.resolve(n),s=A?0:r.sharedDepth(n),o=r.start(s),c=r.node(s).content.cut(r.pos-o,i.pos-o);return new te(c,r.depth-s,i.depth-s)}replace(e,n,A){return pO(this.resolve(e),this.resolve(n),A)}nodeAt(e){for(let n=this;;){let{index:A,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(A),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:A}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:A}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:A}=this.content.findIndex(e);if(A<e)return{node:this.content.child(n),index:n,offset:A};let r=this.content.child(n-1);return{node:r,index:n-1,offset:A-r.nodeSize}}resolve(e){return Wu.resolveCached(this,e)}resolveNoCache(e){return Wu.resolve(this,e)}rangeHasMark(e,n,A){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(A.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Y5(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,A=G.empty,r=0,i=A.childCount){let s=this.contentMatchAt(e).matchFragment(A,r,i),o=s&&s.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let l=r;l<i;l++)if(!this.type.allowsMarks(A.child(l).marks))return!1;return!0}canReplaceWith(e,n,A,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(A),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Je.none;for(let n=0;n<this.marks.length;n++){let A=this.marks[n];A.type.checkAttrs(A.attrs),e=A.addToSet(e)}if(!Je.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let A;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");A=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,A)}let r=G.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,A);return i.type.checkAttrs(i.attrs),i}};Xi.prototype.text=void 0;class wh extends Xi{constructor(e,n,A,r){if(super(e,n,null,r),!A)throw new RangeError("Empty text nodes are not allowed");this.text=A}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Y5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new wh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new wh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Y5(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class uo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let A=new wO(e,n);if(A.next==null)return uo.empty;let r=$5(A);A.next&&A.err("Unexpected trailing text");let i=UO(QO(r));return xO(i,A),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,A=e.childCount){let r=this;for(let i=n;r&&i<A;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let A=0;A<e.next.length;A++)if(this.next[n].type==e.next[A].type)return!0;return!1}fillBefore(e,n=!1,A=0){let r=[this];function i(s,o){let l=s.matchFragment(e,A);if(l&&(!n||l.validEnd))return G.from(o.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:d}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let p=i(d,o.concat(f));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let A=0;A<this.wrapCache.length;A+=2)if(this.wrapCache[A]==e)return this.wrapCache[A+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),A=[{match:this,type:null,via:null}];for(;A.length;){let r=A.shift(),i=r.match;if(i.matchType(e)){let s=[];for(let o=r;o.type;o=o.via)s.push(o.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:o,next:l}=i.next[s];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!r.type||l.validEnd)&&(A.push({match:o.contentMatch,type:o,via:r}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(A){e.push(A);for(let r=0;r<A.next.length;r++)e.indexOf(A.next[r].next)==-1&&n(A.next[r].next)}return n(this),e.map((A,r)=>{let i=r+(A.validEnd?"*":" ")+" ";for(let s=0;s<A.next.length;s++)i+=(s?", ":"")+A.next[s].type.name+"->"+e.indexOf(A.next[s].next);return i}).join(`
`)}}uo.empty=new uo(!0);class wO{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $5(t){let e=[];do e.push(CO(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function CO(t){let e=[];do e.push(vO(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function vO(t){let e=EO(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=SO(t,e);else break;return e}function lS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function SO(t,e){let n=lS(t),A=n;return t.eat(",")&&(t.next!="}"?A=lS(t):A=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:A,expr:e}}function FO(t,e){let n=t.nodeTypes,A=n[e];if(A)return[A];let r=[];for(let i in n){let s=n[i];s.isInGroup(e)&&r.push(s)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function EO(t){if(t.eat("(")){let e=$5(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=FO(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function QO(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function A(s,o,l){let c={term:l,to:o};return e[s].push(c),c}function r(s,o){s.forEach(l=>l.to=o)}function i(s,o){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,o)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],o);if(l==s.exprs.length-1)return c;r(c,o=n())}else if(s.type=="star"){let l=n();return A(o,l),r(i(s.expr,l),l),[A(l)]}else if(s.type=="plus"){let l=n();return r(i(s.expr,o),l),r(i(s.expr,l),l),[A(l)]}else{if(s.type=="opt")return[A(o)].concat(i(s.expr,o));if(s.type=="range"){let l=o;for(let c=0;c<s.min;c++){let f=n();r(i(s.expr,l),f),l=f}if(s.max==-1)r(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let f=n();A(l,f),r(i(s.expr,l),f),l=f}return[A(l)]}else{if(s.type=="name")return[A(o,void 0,s.value)];throw new Error("Unknown expr type")}}}}function q5(t,e){return e-t}function aS(t,e){let n=[];return A(e),n.sort(q5);function A(r){let i=t[r];if(i.length==1&&!i[0].term)return A(i[0].to);n.push(r);for(let s=0;s<i.length;s++){let{term:o,to:l}=i[s];!o&&n.indexOf(l)==-1&&A(l)}}}function UO(t){let e=Object.create(null);return n(aS(t,0));function n(A){let r=[];A.forEach(s=>{t[s].forEach(({term:o,to:l})=>{if(!o)return;let c;for(let f=0;f<r.length;f++)r[f][0]==o&&(c=r[f][1]);aS(t,l).forEach(f=>{c||r.push([o,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let i=e[A.join(",")]=new uo(A.indexOf(t.length-1)>-1);for(let s=0;s<r.length;s++){let o=r[s][1].sort(q5);i.next.push({type:r[s][0],next:e[o.join(",")]||n(o)})}return i}}function xO(t,e){for(let n=0,A=[t];n<A.length;n++){let r=A[n],i=!r.validEnd,s=[];for(let o=0;o<r.next.length;o++){let{type:l,next:c}=r.next[o];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),A.indexOf(c)==-1&&A.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Z5(t){let e=Object.create(null);for(let n in t){let A=t[n];if(!A.hasDefault)return null;e[n]=A.default}return e}function eU(t,e){let n=Object.create(null);for(let A in t){let r=e&&e[A];if(r===void 0){let i=t[A];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+A)}n[A]=r}return n}function tU(t,e,n,A){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function nU(t,e){let n=Object.create(null);if(e)for(let A in e)n[A]=new _O(t,A,e[A]);return n}let uS=class AU{constructor(e,n,A){this.name=e,this.schema=n,this.spec=A,this.markSet=null,this.groups=A.group?A.group.split(" "):[],this.attrs=nU(e,A.attrs),this.defaultAttrs=Z5(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(A.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==uo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eU(this.attrs,e)}create(e=null,n,A){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Xi(this,this.computeAttrs(e),G.from(n),Je.setFrom(A))}createChecked(e=null,n,A){return n=G.from(n),this.checkContent(n),new Xi(this,this.computeAttrs(e),n,Je.setFrom(A))}createAndFill(e=null,n,A){if(e=this.computeAttrs(e),n=G.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(G.empty,!0);return i?new Xi(this,e,n.append(i),Je.setFrom(A)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let A=0;A<e.childCount;A++)if(!this.allowsMarks(e.child(A).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){tU(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let A=0;A<e.length;A++)this.allowsMarkType(e[A].type)?n&&n.push(e[A]):n||(n=e.slice(0,A));return n?n.length?n:Je.none:e}static compile(e,n){let A=Object.create(null);e.forEach((i,s)=>A[i]=new AU(i,n,s));let r=n.spec.topNode||"doc";if(!A[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!A.text)throw new RangeError("Every schema needs a 'text' type");for(let i in A.text.attrs)throw new RangeError("The text node type should not have attributes");return A}};function kO(t,e,n){let A=n.split("|");return r=>{let i=r===null?"null":typeof r;if(A.indexOf(i)<0)throw new RangeError(`Expected value of type ${A} for attribute ${e} on type ${t}, got ${i}`)}}class _O{constructor(e,n,A){this.hasDefault=Object.prototype.hasOwnProperty.call(A,"default"),this.default=A.default,this.validate=typeof A.validate=="string"?kO(e,n,A.validate):A.validate}get isRequired(){return!this.hasDefault}}class eg{constructor(e,n,A,r){this.name=e,this.rank=n,this.schema=A,this.spec=r,this.attrs=nU(e,r.attrs),this.excluded=null;let i=Z5(this.attrs);this.instance=i?new Je(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Je(this,eU(this.attrs,e))}static compile(e,n){let A=Object.create(null),r=0;return e.forEach((i,s)=>A[i]=new eg(i,r++,n,s)),A}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){tU(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rU{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=tn.from(e.nodes),n.marks=tn.from(e.marks||{}),this.nodes=uS.compile(this.spec.nodes,this),this.marks=eg.compile(this.spec.marks,this);let A=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",o=i.spec.marks;if(i.contentMatch=A[s]||(A[s]=uo.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=o=="_"?null:o?cS(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:cS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,A,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof uS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,A,r)}text(e,n){let A=this.nodes.text;return new wh(A,A.defaultAttrs,e,Je.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Xi.fromJSON(this,e)}markFromJSON(e){return Je.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function cS(t,e){let n=[];for(let A=0;A<e.length;A++){let r=e[A],i=t.marks[r],s=i;if(i)n.push(i);else for(let o in t.marks){let l=t.marks[o];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[A]+"'")}return n}function IO(t){return t.tag!=null}function TO(t){return t.style!=null}class Ji{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let A=this.matchedStyles=[];n.forEach(r=>{if(IO(r))this.tags.push(r);else if(TO(r)){let i=/[^=]*/.exec(r.style)[0];A.indexOf(i)<0&&A.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let A=new dS(this,n,!1);return A.addAll(e,Je.none,n.from,n.to),A.finish()}parseSlice(e,n={}){let A=new dS(this,n,!0);return A.addAll(e,Je.none,n.from,n.to),te.maxOpen(A.finish())}matchTag(e,n,A){for(let r=A?this.tags.indexOf(A)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(bO(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,A,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let s=this.styles[i],o=s.style;if(!(o.indexOf(e)!=0||s.context&&!A.matchesContext(s.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function A(r){let i=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let o=n[s];if((o.priority==null?50:o.priority)<i)break}n.splice(s,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(s=>{A(s=hS(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(s=>{A(s=hS(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ji(e,Ji.schemaRules(e)))}}const iU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},MO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sU={ol:!0,ul:!0},ju=1,xB=2,gu=4;function fS(t,e,n){return e!=null?(e?ju:0)|(e==="full"?xB:0):t&&t.whitespace=="pre"?ju|xB:n&~gu}class Nf{constructor(e,n,A,r,i,s){this.type=e,this.attrs=n,this.marks=A,this.solid=r,this.options=s,this.content=[],this.activeMarks=Je.none,this.match=i||(s&gu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(G.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let A=this.type.contentMatch,r;return(r=A.findWrapping(e.type))?(this.match=A,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ju)){let A=this.content[this.content.length-1],r;if(A&&A.isText&&(r=/[ \t\r\n\u000c]+$/.exec(A.text))){let i=A;A.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=G.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!iU.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class dS{constructor(e,n,A){this.parser=e,this.options=n,this.isOpen=A,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,s=fS(null,n.preserveWhitespace,0)|(A?gu:0);r?i=new Nf(r.type,r.attrs,Je.none,!0,n.topMatch||r.type.contentMatch,s):A?i=new Nf(null,null,Je.none,!0,null,s):i=new Nf(e.schema.topNodeType,null,Je.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let A=e.nodeValue,r=this.top,i=r.options&xB?"full":this.localPreserveWS||(r.options&ju)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(A)){if(i)i!=="full"?A=A.replace(/\r?\n|\r/g," "):A=A.replace(/\r\n?/g,`
`);else if(A=A.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(A)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(A=A.slice(1))}A&&this.insertNode(this.parser.schema.text(A),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,A){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),o;sU.hasOwnProperty(s)&&this.parser.normalizeLists&&HO(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,A));e:if(l?l.ignore:MO.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(iU.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?o:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let A=e.style;if(A&&A.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],s=A.getPropertyValue(i);if(s)for(let o=void 0;;){let l=this.parser.matchStyle(i,s,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return n}addElementByRule(e,n,A,r){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),A)||this.leafFallback(e,A);else{let l=this.enter(s,n.attrs||null,A,n.preserveWhitespace);l&&(i=!0,A=l)}else{let l=this.parser.schema.marks[n.mark];A=A.concat(l.create(n.attrs))}let o=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,A,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,A));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,A),this.findAround(e,l,!1)}i&&this.sync(o)&&this.open--}addAll(e,n,A,r){let i=A||0;for(let s=A?e.childNodes[A]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n){let A,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!A||A.length>o.length)&&(A=o,r=s,!o.length)||s.solid)break}if(!A)return null;this.sync(r);for(let i=0;i<A.length;i++)n=this.enterInner(A[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let A=this.findPlace(e,n);if(A){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=Je.none;for(let s of A.concat(e.marks))(r.type?r.type.allowsMarkType(s.type):pS(s.type,e.type))&&(i=s.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,n,A,r){let i=this.findPlace(e.create(n),A);return i&&(i=this.enterInner(e,n,A,!0,r)),i}enterInner(e,n,A,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let o=fS(e,i,s.options);s.options&gu&&s.content.length==0&&(o|=gu);let l=Je.none;return A=A.filter(c=>(s.type?s.type.allowsMarkType(c.type):pS(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Nf(e,n,l,r,null,o)),this.open++,A}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ju)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let A=this.nodes[n].content;for(let r=A.length-1;r>=0;r--)e+=A[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let A=0;A<this.find.length;A++)this.find[A].node==e&&this.find[A].offset==n&&(this.find[A].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,A){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(A?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),A=this.options.context,r=!this.isOpen&&(!A||A.parent.type==this.nodes[0].type),i=-(A?A.depth+1:0)+(r?0:1),s=(o,l)=>{for(;o>=0;o--){let c=n[o];if(c==""){if(o==n.length-1||o==0)continue;for(;l>=i;l--)if(s(o-1,l))return!0;return!1}else{let f=l>0||l==0&&r?this.nodes[l].type:A&&l>=i?A.node(l-i).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let A=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(A&&A.isTextblock&&A.defaultAttrs)return A}for(let n in this.parser.schema.nodes){let A=this.parser.schema.nodes[n];if(A.isTextblock&&A.defaultAttrs)return A}}}function HO(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let A=e.nodeType==1?e.nodeName.toLowerCase():null;A&&sU.hasOwnProperty(A)&&n?(n.appendChild(e),e=n):A=="li"?n=e:A&&(n=null)}}function bO(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function hS(t){let e={};for(let n in t)e[n]=t[n];return e}function pS(t,e){let n=e.schema.nodes;for(let A in n){let r=n[A];if(!r.allowsMarkType(t))continue;let i=[],s=o=>{i.push(o);for(let l=0;l<o.edgeCount;l++){let{type:c,next:f}=o.edge(l);if(c==e||i.indexOf(f)<0&&s(f))return!0}};if(s(r.contentMatch))return!0}}class Eo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},A){A||(A=Qm(n).createDocumentFragment());let r=A,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let o=0,l=0;for(;o<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[o][0])||c.type.spec.spanning===!1)break;o++,l++}for(;o<i.length;)r=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],f=this.serializeMark(c,s.isInline,n);f&&(i.push([c,r]),r.appendChild(f.dom),r=f.contentDOM||f.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),A}serializeNodeInner(e,n){let{dom:A,contentDOM:r}=xd(Qm(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return A}serializeNode(e,n={}){let A=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(A),A=i.dom)}return A}serializeMark(e,n,A={}){let r=this.marks[e.type.name];return r&&xd(Qm(A),r(e,n),null,e.attrs)}static renderSpec(e,n,A=null,r){return xd(e,n,A,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Eo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=gS(e.nodes);return n.text||(n.text=A=>A.text),n}static marksFromSchema(e){return gS(e.marks)}}function gS(t){let e={};for(let n in t){let A=t[n].spec.toDOM;A&&(e[n]=A)}return e}function Qm(t){return t.document||window.document}const mS=new WeakMap;function OO(t){let e=mS.get(t);return e===void 0&&mS.set(t,e=DO(t)),e}function DO(t){let e=null;function n(A){if(A&&typeof A=="object")if(Array.isArray(A))if(typeof A[0]=="string")e||(e=[]),e.push(A);else for(let r=0;r<A.length;r++)n(A[r]);else for(let r in A)n(A[r])}return n(t),e}function xd(t,e,n,A){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(A&&(i=OO(A))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(n=r.slice(0,s),r=r.slice(s+1));let o,l=n?t.createElementNS(n,r):t.createElement(r),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):l.setAttribute(d,c[d])}}for(let d=f;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:m}=xd(t,p,n,A);if(l.appendChild(g),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:l,contentDOM:o}}const oU=65535,lU=Math.pow(2,16);function NO(t,e){return t+e*lU}function BS(t){return t&oU}function LO(t){return(t-(t&oU))/lU}const aU=1,uU=2,kd=4,cU=8;class kB{constructor(e,n,A){this.pos=e,this.delInfo=n,this.recover=A}get deleted(){return(this.delInfo&cU)>0}get deletedBefore(){return(this.delInfo&(aU|kd))>0}get deletedAfter(){return(this.delInfo&(uU|kd))>0}get deletedAcross(){return(this.delInfo&kd)>0}}class qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&qn.empty)return qn.empty}recover(e){let n=0,A=BS(e);if(!this.inverted)for(let r=0;r<A;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[A*3]+n+LO(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,A){let r=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[o+i],f=this.ranges[o+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:n:n,g=l+r+(p<0?0:f);if(A)return g;let m=e==(n<0?l:d)?null:NO(o/3,e-l),w=e==l?uU:e==d?aU:kd;return(n<0?e!=l:e!=d)&&(w|=cU),new kB(g,w,m)}r+=f-c}return A?e+r:new kB(e+r,0,null)}touches(e,n){let A=0,r=BS(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?A:0);if(l>e)break;let c=this.ranges[o+i],f=l+c;if(e<=f&&o==r*3)return!0;A+=this.ranges[o+s]-c}return!1}forEach(e){let n=this.inverted?2:1,A=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],o=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[r+n],f=this.ranges[r+A];e(o,o+c,l,l+f),i+=f-c}}invert(){return new qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qn.empty:new qn(e<0?[0,-e,0]:[0,0,e])}}qn.empty=new qn([]);class Sl{constructor(e=[],n,A=0,r=e.length){this.maps=e,this.mirror=n,this.from=A,this.to=r}slice(e=0,n=this.maps.length){return new Sl(this.maps,this.mirror,e,n)}copy(){return new Sl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,A=this.maps.length;n<e.maps.length;n++){let r=e.getMirror(n);this.appendMap(e.maps[n],r!=null&&r<n?A+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,A=this.maps.length+e.maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e.maps[n].invert(),r!=null&&r>n?A-r-1:void 0)}}invert(){let e=new Sl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let A=this.from;A<this.to;A++)e=this.maps[A].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,A){let r=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],o=s.mapResult(e,n);if(o.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return A?e:new kB(e,r,null)}}const Um=Object.create(null);class Fn{getMap(){return qn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let A=Um[n.stepType];if(!A)throw new RangeError(`No step type ${n.stepType} defined`);return A.fromJSON(e,n)}static jsonID(e,n){if(e in Um)throw new RangeError("Duplicate use of step JSON ID "+e);return Um[e]=n,n.prototype.jsonID=e,n}}class kt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new kt(e,null)}static fail(e){return new kt(null,e)}static fromReplace(e,n,A,r){try{return kt.ok(e.replace(n,A,r))}catch(i){if(i instanceof mh)return kt.fail(i.message);throw i}}}function _w(t,e,n){let A=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(_w(i.content,e,i))),i.isInline&&(i=e(i,n,r)),A.push(i)}return G.fromArray(A)}class Hi extends Fn{constructor(e,n,A){super(),this.from=e,this.to=n,this.mark=A}apply(e){let n=e.slice(this.from,this.to),A=e.resolve(this.from),r=A.node(A.sharedDepth(this.to)),i=new te(_w(n.content,(s,o)=>!s.isAtom||!o.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,i)}invert(){return new hr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),A=e.mapResult(this.to,-1);return n.deleted&&A.deleted||n.pos>=A.pos?null:new Hi(n.pos,A.pos,this.mark)}merge(e){return e instanceof Hi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hi(n.from,n.to,e.markFromJSON(n.mark))}}Fn.jsonID("addMark",Hi);class hr extends Fn{constructor(e,n,A){super(),this.from=e,this.to=n,this.mark=A}apply(e){let n=e.slice(this.from,this.to),A=new te(_w(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,A)}invert(){return new Hi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),A=e.mapResult(this.to,-1);return n.deleted&&A.deleted||n.pos>=A.pos?null:new hr(n.pos,A.pos,this.mark)}merge(e){return e instanceof hr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new hr(n.from,n.to,e.markFromJSON(n.mark))}}Fn.jsonID("removeMark",hr);class bi extends Fn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let A=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new te(G.from(A),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let A=this.mark.addToSet(n.marks);if(A.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(A))return new bi(this.pos,n.marks[r]);return new bi(this.pos,this.mark)}}return new Ll(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bi(n.pos,e.markFromJSON(n.mark))}}Fn.jsonID("addNodeMark",bi);class Ll extends Fn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let A=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new te(G.from(A),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ll(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ll(n.pos,e.markFromJSON(n.mark))}}Fn.jsonID("removeNodeMark",Ll);class Wt extends Fn{constructor(e,n,A,r=!1){super(),this.from=e,this.to=n,this.slice=A,this.structure=r}apply(e){return this.structure&&_B(e,this.from,this.to)?kt.fail("Structure replace would overwrite content"):kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),A=e.mapResult(this.to,-1);return n.deletedAcross&&A.deletedAcross?null:new Wt(n.pos,Math.max(n.pos,A.pos),this.slice)}merge(e){if(!(e instanceof Wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Wt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Wt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Wt(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Fn.jsonID("replace",Wt);class Xt extends Fn{constructor(e,n,A,r,i,s,o=!1){super(),this.from=e,this.to=n,this.gapFrom=A,this.gapTo=r,this.slice=i,this.insert=s,this.structure=o}apply(e){if(this.structure&&(_B(e,this.from,this.gapFrom)||_B(e,this.gapTo,this.to)))return kt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kt.fail("Gap is not a flat range");let A=this.slice.insertAt(this.insert,n.content);return A?kt.fromReplace(e,this.from,this.to,A):kt.fail("Content does not fit in gap")}getMap(){return new qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Xt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),A=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?A.pos:e.map(this.gapTo,1);return n.deletedAcross&&A.deletedAcross||r<n.pos||i>A.pos?null:new Xt(n.pos,A.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xt(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Fn.jsonID("replaceAround",Xt);function _B(t,e,n){let A=t.resolve(e),r=n-e,i=A.depth;for(;r>0&&i>0&&A.indexAfter(i)==A.node(i).childCount;)i--,r--;if(r>0){let s=A.node(i).maybeChild(A.indexAfter(i));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function RO(t,e,n,A){let r=[],i=[],s,o;t.doc.nodesBetween(e,n,(l,c,f)=>{if(!l.isInline)return;let d=l.marks;if(!A.isInSet(d)&&f.type.allowsMarkType(A.type)){let p=Math.max(c,e),g=Math.min(c+l.nodeSize,n),m=A.addToSet(d);for(let w=0;w<d.length;w++)d[w].isInSet(m)||(s&&s.to==p&&s.mark.eq(d[w])?s.to=g:r.push(s=new hr(p,g,d[w])));o&&o.to==p?o.to=g:i.push(o=new Hi(p,g,A))}}),r.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function PO(t,e,n,A){let r=[],i=0;t.doc.nodesBetween(e,n,(s,o)=>{if(!s.isInline)return;i++;let l=null;if(A instanceof eg){let c=s.marks,f;for(;f=A.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else A?A.isInSet(s.marks)&&(l=[A]):l=s.marks;if(l&&l.length){let c=Math.min(o+s.nodeSize,n);for(let f=0;f<l.length;f++){let d=l[f],p;for(let g=0;g<r.length;g++){let m=r[g];m.step==i-1&&d.eq(r[g].style)&&(p=m)}p?(p.to=c,p.step=i):r.push({style:d,from:Math.max(o,e),to:c,step:i})}}}),r.forEach(s=>t.step(new hr(s.from,s.to,s.style)))}function Iw(t,e,n,A=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),s=[],o=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),f=o+c.nodeSize,d=A.matchType(c.type);if(!d)s.push(new Wt(o,f,te.empty));else{A=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new hr(o,f,c.marks[p]));if(r&&c.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,m;for(;p=g.exec(c.text);)m||(m=new te(G.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Wt(o+p.index,o+p.index+p[0].length,m))}}o=f}if(!A.validEnd){let l=A.fillBefore(G.empty,!0);t.replace(o,o,new te(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function KO(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function na(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let A=t.depth;;--A){let r=t.$from.node(A),i=t.$from.index(A),s=t.$to.indexAfter(A);if(A<t.depth&&r.canReplace(i,s,n))return A;if(A==0||r.type.spec.isolating||!KO(r,i,s))break}return null}function GO(t,e,n){let{$from:A,$to:r,depth:i}=e,s=A.before(i+1),o=r.after(i+1),l=s,c=o,f=G.empty,d=0;for(let m=i,w=!1;m>n;m--)w||A.index(m)>0?(w=!0,f=G.from(A.node(m).copy(f)),d++):l--;let p=G.empty,g=0;for(let m=i,w=!1;m>n;m--)w||r.after(m+1)<r.end(m)?(w=!0,p=G.from(r.node(m).copy(p)),g++):c++;t.step(new Xt(l,c,s,o,new te(f.append(p),d,g),f.size-d,!0))}function Tw(t,e,n=null,A=t){let r=VO(t,e),i=r&&zO(A,e);return i?r.map(yS).concat({type:e,attrs:n}).concat(i.map(yS)):null}function yS(t){return{type:t,attrs:null}}function VO(t,e){let{parent:n,startIndex:A,endIndex:r}=t,i=n.contentMatchAt(A).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(A,r,s)?i:null}function zO(t,e){let{parent:n,startIndex:A,endIndex:r}=t,i=n.child(A),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=A;l&&c<r;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function WO(t,e,n){let A=G.empty;for(let s=n.length-1;s>=0;s--){if(A.size){let o=n[s].type.contentMatch.matchFragment(A);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}A=G.from(n[s].type.create(n[s].attrs,A))}let r=e.start,i=e.end;t.step(new Xt(r,i,r,i,new te(A,0,0),n.length,!0))}function jO(t,e,n,A,r){if(!A.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,o)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(A,l)&&XO(t.doc,t.mapping.slice(i).map(o),A)){let c=null;if(A.schema.linebreakReplacement){let g=A.whitespace=="pre",m=!!A.contentMatch.matchType(A.schema.linebreakReplacement);g&&!m?c=!1:!g&&m&&(c=!0)}c===!1&&dU(t,s,o,i),Iw(t,t.mapping.slice(i).map(o,1),A,void 0,c===null);let f=t.mapping.slice(i),d=f.map(o,1),p=f.map(o+s.nodeSize,1);return t.step(new Xt(d,p,d+1,p-1,new te(G.from(A.create(l,null,s.marks)),0,0),1,!0)),c===!0&&fU(t,s,o,i),!1}})}function fU(t,e,n,A){e.forEach((r,i)=>{if(r.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(r.text);){let l=t.mapping.slice(A).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function dU(t,e,n,A){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let s=t.mapping.slice(A).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function XO(t,e,n){let A=t.resolve(e),r=A.index();return A.parent.canReplaceWith(r,r+1,n)}function JO(t,e,n,A,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(A,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Xt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new te(G.from(s),0,0),1,!0))}function Fl(t,e,n=1,A){let r=t.resolve(e),i=r.depth-n,s=A&&A[A.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,f=n-2;c>i;c--,f--){let d=r.node(c),p=r.index(c);if(d.type.spec.isolating)return!1;let g=d.content.cutByIndex(p,d.childCount),m=A&&A[f+1];m&&(g=g.replaceChild(0,m.type.create(m.attrs)));let w=A&&A[f]||d;if(!d.canReplace(p+1,d.childCount)||!w.type.validContent(g))return!1}let o=r.indexAfter(i),l=A&&A[0];return r.node(i).canReplaceWith(o,o,l?l.type:r.node(i+1).type)}function YO(t,e,n=1,A){let r=t.doc.resolve(e),i=G.empty,s=G.empty;for(let o=r.depth,l=r.depth-n,c=n-1;o>l;o--,c--){i=G.from(r.node(o).copy(i));let f=A&&A[c];s=G.from(f?f.type.create(f.attrs,s):r.node(o).copy(s))}t.step(new Wt(e,e,new te(i.append(s),n,n),!0))}function Bs(t,e){let n=t.resolve(e),A=n.index();return hU(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(A,A+1)}function $O(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:A}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),s=i.type==A?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function hU(t,e){return!!(t&&e&&!t.isLeaf&&$O(t,e))}function tg(t,e,n=-1){let A=t.resolve(e);for(let r=A.depth;;r--){let i,s,o=A.index(r);if(r==A.depth?(i=A.nodeBefore,s=A.nodeAfter):n>0?(i=A.node(r+1),o++,s=A.node(r).maybeChild(o)):(i=A.node(r).maybeChild(o-1),s=A.node(r+1)),i&&!i.isTextblock&&hU(i,s)&&A.node(r).canReplace(o,o+1))return e;if(r==0)break;e=n<0?A.before(r):A.after(r)}}function qO(t,e,n){let A=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(r&&s.inlineContent){let f=s.whitespace=="pre",d=!!s.contentMatch.matchType(r);f&&!d?A=!1:!f&&d&&(A=!0)}let o=t.steps.length;if(A===!1){let f=t.doc.resolve(e+n);dU(t,f.node(),f.before(),o)}s.inlineContent&&Iw(t,e+n-1,s,i.node().contentMatchAt(i.index()),A==null);let l=t.mapping.slice(o),c=l.map(e-n);if(t.step(new Wt(c,l.map(e+n,-1),te.empty,!0)),A===!0){let f=t.doc.resolve(c);fU(t,f.node(),f.before(),t.steps.length)}return t}function ZO(t,e,n){let A=t.resolve(e);if(A.parent.canReplaceWith(A.index(),A.index(),n))return e;if(A.parentOffset==0)for(let r=A.depth-1;r>=0;r--){let i=A.index(r);if(A.node(r).canReplaceWith(i,i,n))return A.before(r+1);if(i>0)return null}if(A.parentOffset==A.parent.content.size)for(let r=A.depth-1;r>=0;r--){let i=A.indexAfter(r);if(A.node(r).canReplaceWith(i,i,n))return A.after(r+1);if(i<A.node(r).childCount)return null}return null}function pU(t,e,n){let A=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=A.depth;s>=0;s--){let o=s==A.depth?0:A.pos<=(A.start(s+1)+A.end(s+1))/2?-1:1,l=A.index(s)+(o>0?1:0),c=A.node(s),f=!1;if(i==1)f=c.canReplace(l,l,r);else{let d=c.contentMatchAt(l).findWrapping(r.firstChild.type);f=d&&c.canReplaceWith(l,l,d[0])}if(f)return o==0?A.pos:o<0?A.before(s+1):A.after(s+1)}return null}function ng(t,e,n=e,A=te.empty){if(e==n&&!A.size)return null;let r=t.resolve(e),i=t.resolve(n);return gU(r,i,A)?new Wt(e,n,A):new eD(r,i,A).fit()}function gU(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class eD{constructor(e,n,A){this.$from=e,this.$to=n,this.unplaced=A,this.frontier=[],this.placed=G.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=G.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,A=this.$from,r=this.close(e<0?this.$to:A.doc.resolve(e));if(!r)return null;let i=this.placed,s=A.depth,o=r.depth;for(;s&&o&&i.childCount==1;)i=i.firstChild.content,s--,o--;let l=new te(i,s,o);return e>-1?new Xt(A.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||A.pos!=this.$to.pos?new Wt(A.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,A=0,r=this.unplaced.openEnd;A<e;A++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=A){e=A;break}n=i.content}for(let n=1;n<=2;n++)for(let A=n==1?e:this.unplaced.openStart;A>=0;A--){let r,i=null;A?(i=xm(this.unplaced.content,A-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:c}=this.frontier[o],f,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(G.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:A,frontierDepth:o,parent:i,inject:d};if(n==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:A,frontierDepth:o,parent:i,wrap:f};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:A}=this.unplaced,r=xm(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(A,r.size+n>=e.size-A?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:A}=this.unplaced,r=xm(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new te(Xa(e,n-1,1),n-1,i?n-1:A)}else this.unplaced=new te(Xa(e,n,1),n,A)}placeNodes({sliceDepth:e,frontierDepth:n,parent:A,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let w=0;w<i.length;w++)this.openFrontierNode(i[w]);let s=this.unplaced,o=A?A.content:s.content,l=s.openStart-e,c=0,f=[],{match:d,type:p}=this.frontier[n];if(r){for(let w=0;w<r.childCount;w++)f.push(r.child(w));d=d.matchFragment(r)}let g=o.size+e-(s.content.size-s.openEnd);for(;c<o.childCount;){let w=o.child(c),F=d.matchType(w.type);if(!F)break;c++,(c>1||l==0||w.content.size)&&(d=F,f.push(mU(w.mark(p.allowedMarks(w.marks)),c==1?l:0,c==o.childCount?g:-1)))}let m=c==o.childCount;m||(g=-1),this.placed=Ja(this.placed,n,G.from(f)),this.frontier[n].match=d,m&&g<0&&A&&A.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,F=o;w<g;w++){let v=F.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),F=v.content}this.unplaced=m?e==0?te.empty:new te(Xa(s.content,e-1,1),e-1,g<0?s.openEnd:e-1):new te(Xa(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!km(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:A}=this.$to,r=this.$to.after(A);for(;A>1&&r==this.$to.end(--A);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:A,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=km(e,n,r,A,i);if(s){for(let o=n-1;o>=0;o--){let{match:l,type:c}=this.frontier[o],f=km(e,o,c,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ja(this.placed,n.depth,n.fit)),e=n.move;for(let A=n.depth+1;A<=e.depth;A++){let r=e.node(A),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(A));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,A){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Ja(this.placed,this.depth,G.from(e.create(n,A))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(G.empty,!0);n.childCount&&(this.placed=Ja(this.placed,this.frontier.length,n))}}function Xa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Xa(t.firstChild.content,e-1,n)))}function Ja(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ja(t.lastChild.content,e-1,n)))}function xm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function mU(t,e,n){if(e<=0)return t;let A=t.content;return e>1&&(A=A.replaceChild(0,mU(A.firstChild,e-1,A.childCount==1?n-1:0))),e>0&&(A=t.type.contentMatch.fillBefore(A).append(A),n<=0&&(A=A.append(t.type.contentMatch.matchFragment(A).fillBefore(G.empty,!0)))),t.copy(A)}function km(t,e,n,A,r){let i=t.node(e),s=r?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let o=A.fillBefore(i.content,!0,s);return o&&!tD(n,i.content,s)?o:null}function tD(t,e,n){for(let A=n;A<e.childCount;A++)if(!t.allowsMarks(e.child(A).marks))return!0;return!1}function nD(t){return t.spec.defining||t.spec.definingForContent}function AD(t,e,n,A){if(!A.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(gU(r,i,A))return t.step(new Wt(e,n,A));let s=yU(r,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let o=-(r.depth+1);s.unshift(o);for(let p=r.depth,g=r.pos-1;p>0;p--,g--){let m=r.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(p)>-1?o=p:r.before(p)==g&&s.splice(1,0,-p)}let l=s.indexOf(o),c=[],f=A.openStart;for(let p=A.content,g=0;;g++){let m=p.firstChild;if(c.push(m),g==A.openStart)break;p=m.content}for(let p=f-1;p>=0;p--){let g=c[p],m=nD(g.type);if(m&&!g.sameMarkup(r.node(Math.abs(o)-1)))f=p;else if(m||!g.type.isTextblock)break}for(let p=A.openStart;p>=0;p--){let g=(p+f+1)%(A.openStart+1),m=c[g];if(m)for(let w=0;w<s.length;w++){let F=s[(w+l)%s.length],v=!0;F<0&&(v=!1,F=-F);let E=r.node(F-1),C=r.index(F-1);if(E.canReplaceWith(C,C,m.type,m.marks))return t.replace(r.before(F),v?i.after(F):n,new te(BU(A.content,0,A.openStart,g),g,A.openEnd))}}let d=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,n,A),!(t.steps.length>d));p--){let g=s[p];g<0||(e=r.before(g),n=i.after(g))}}function BU(t,e,n,A,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(BU(i.content,e+1,n,A,i)))}if(e>A){let i=r.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(G.empty,!0))}return t}function rD(t,e,n,A){if(!A.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=ZO(t.doc,e,A.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new te(G.from(A),0,0))}function iD(t,e,n){let A=t.doc.resolve(e),r=t.doc.resolve(n),i=yU(A,r);for(let s=0;s<i.length;s++){let o=i[s],l=s==i.length-1;if(l&&o==0||A.node(o).type.contentMatch.validEnd)return t.delete(A.start(o),r.end(o));if(o>0&&(l||A.node(o-1).canReplace(A.index(o-1),r.indexAfter(o-1))))return t.delete(A.before(o),r.after(o))}for(let s=1;s<=A.depth&&s<=r.depth;s++)if(e-A.start(s)==A.depth-s&&n>A.end(s)&&r.end(s)-n!=r.depth-s&&A.start(s-1)==r.start(s-1)&&A.node(s-1).canReplace(A.index(s-1),r.index(s-1)))return t.delete(A.before(s),n);t.delete(e,n)}function yU(t,e){let n=[],A=Math.min(t.depth,e.depth);for(let r=A;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class El extends Fn{constructor(e,n,A){super(),this.pos=e,this.attr=n,this.value=A}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at attribute step's position");let A=Object.create(null);for(let i in n.attrs)A[i]=n.attrs[i];A[this.attr]=this.value;let r=n.type.create(A,null,n.marks);return kt.fromReplace(e,this.pos,this.pos+1,new te(G.from(r),0,n.isLeaf?0:1))}getMap(){return qn.empty}invert(e){return new El(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new El(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new El(n.pos,n.attr,n.value)}}Fn.jsonID("attr",El);class Xu extends Fn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let A=e.type.create(n,e.content,e.marks);return kt.ok(A)}getMap(){return qn.empty}invert(e){return new Xu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Xu(n.attr,n.value)}}Fn.jsonID("docAttr",Xu);let Rl=class extends Error{};Rl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Rl.prototype=Object.create(Error.prototype);Rl.prototype.constructor=Rl;Rl.prototype.name="TransformError";class sD{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Rl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,A=te.empty){let r=ng(this.doc,e,n,A);return r&&this.step(r),this}replaceWith(e,n,A){return this.replace(e,n,new te(G.from(A),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,A){return AD(this,e,n,A),this}replaceRangeWith(e,n,A){return rD(this,e,n,A),this}deleteRange(e,n){return iD(this,e,n),this}lift(e,n){return GO(this,e,n),this}join(e,n=1){return qO(this,e,n),this}wrap(e,n){return WO(this,e,n),this}setBlockType(e,n=e,A,r=null){return jO(this,e,n,A,r),this}setNodeMarkup(e,n,A=null,r){return JO(this,e,n,A,r),this}setNodeAttribute(e,n,A){return this.step(new El(e,n,A)),this}setDocAttribute(e,n){return this.step(new Xu(e,n)),this}addNodeMark(e,n){return this.step(new bi(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Je)){let A=this.doc.nodeAt(e);if(!A)throw new RangeError("No node at position "+e);if(n=n.isInSet(A.marks),!n)return this}return this.step(new Ll(e,n)),this}split(e,n=1,A){return YO(this,e,n,A),this}addMark(e,n,A){return RO(this,e,n,A),this}removeMark(e,n,A){return PO(this,e,n,A),this}clearIncompatible(e,n,A){return Iw(this,e,n,A),this}}const _m=Object.create(null);class Fe{constructor(e,n,A){this.$anchor=e,this.$head=n,this.ranges=A||[new oD(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let A=n.content.lastChild,r=null;for(let o=0;o<n.openEnd;o++)r=A,A=A.lastChild;let i=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:l,$to:c}=s[o],f=e.mapping.slice(i);e.replaceRange(f.map(l.pos),f.map(c.pos),o?te.empty:n),o==0&&vS(e,i,(A?A.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let A=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:o}=r[i],l=e.mapping.slice(A),c=l.map(s.pos),f=l.map(o.pos);i?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),vS(e,A,n.isInline?-1:1))}}static findFrom(e,n,A=!1){let r=e.parent.inlineContent?new ye(e):qo(e.node(0),e.parent,e.pos,e.index(),n,A);if(r)return r;for(let i=e.depth-1;i>=0;i--){let s=n<0?qo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,A):qo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,A);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new QA(e.node(0))}static atStart(e){return qo(e,e,0,0,1)||new QA(e)}static atEnd(e){return qo(e,e,e.content.size,e.childCount,-1)||new QA(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let A=_m[n.type];if(!A)throw new RangeError(`No selection type ${n.type} defined`);return A.fromJSON(e,n)}static jsonID(e,n){if(e in _m)throw new RangeError("Duplicate use of selection JSON ID "+e);return _m[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Fe.prototype.visible=!0;class oD{constructor(e,n){this.$from=e,this.$to=n}}let wS=!1;function CS(t){!wS&&!t.parent.inlineContent&&(wS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Fe{constructor(e,n=e){CS(e),CS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let A=e.resolve(n.map(this.head));if(!A.parent.inlineContent)return Fe.near(A);let r=e.resolve(n.map(this.anchor));return new ye(r.parent.inlineContent?r:A,A)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let A=this.$from.marksAcross(this.$to);A&&e.ensureMarks(A)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ag(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,A=n){let r=e.resolve(n);return new this(r,A==n?r:e.resolve(A))}static between(e,n,A){let r=e.pos-n.pos;if((!A||r)&&(A=r>=0?1:-1),!n.parent.inlineContent){let i=Fe.findFrom(n,A,!0)||Fe.findFrom(n,-A,!0);if(i)n=i.$head;else return Fe.near(n,A)}return e.parent.inlineContent||(r==0?e=n:(e=(Fe.findFrom(e,-A,!0)||Fe.findFrom(e,A,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new ye(e,n)}}Fe.jsonID("text",ye);class Ag{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ag(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Fe{constructor(e){let n=e.nodeAfter,A=e.node(0).resolve(e.pos+n.nodeSize);super(e,A),this.node=n}map(e,n){let{deleted:A,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return A?Fe.near(i):new pe(i)}content(){return new te(G.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Mw(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Fe.jsonID("node",pe);class Mw{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:A}=e.mapResult(this.anchor);return n?new Ag(A,A):new Mw(A)}resolve(e){let n=e.resolve(this.anchor),A=n.nodeAfter;return A&&pe.isSelectable(A)?new pe(n):Fe.near(n)}}class QA extends Fe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let A=Fe.atStart(e.doc);A.eq(e.selection)||e.setSelection(A)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new QA(e)}map(e){return new QA(e)}eq(e){return e instanceof QA}getBookmark(){return lD}}Fe.jsonID("all",QA);const lD={map(){return this},resolve(t){return new QA(t)}};function qo(t,e,n,A,r,i=!1){if(e.inlineContent)return ye.create(t,n);for(let s=A-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let o=e.child(s);if(o.isAtom){if(!i&&pe.isSelectable(o))return pe.create(t,n-(r<0?o.nodeSize:0))}else{let l=qo(t,o,n+r,r<0?o.childCount:0,r,i);if(l)return l}n+=o.nodeSize*r}return null}function vS(t,e,n){let A=t.steps.length-1;if(A<e)return;let r=t.steps[A];if(!(r instanceof Wt||r instanceof Xt))return;let i=t.mapping.maps[A],s;i.forEach((o,l,c,f)=>{s==null&&(s=f)}),t.setSelection(Fe.near(t.doc.resolve(s),n))}const SS=1,Lf=2,FS=4;class aD extends sD{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SS)&~Lf,this.storedMarks=null,this}get selectionSet(){return(this.updated&SS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Lf,this}ensureMarks(e){return Je.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Lf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Lf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let A=this.selection;return n&&(e=e.mark(this.storedMarks||(A.empty?A.$from.marks():A.$from.marksAcross(A.$to)||Je.none))),A.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,A){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(A==null&&(A=n),A=A??n,!e)return this.deleteRange(n,A);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=A==n?s.marks():s.marksAcross(this.doc.resolve(A))}return this.replaceRangeWith(n,A,r.text(e,i)),this.selection.empty||this.setSelection(Fe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=FS,this}get scrolledIntoView(){return(this.updated&FS)>0}}function ES(t,e){return!e||!t?t:t.bind(e)}class Ya{constructor(e,n,A){this.name=e,this.init=ES(n.init,A),this.apply=ES(n.apply,A)}}const uD=[new Ya("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ya("selection",{init(t,e){return t.selection||Fe.atStart(e.doc)},apply(t){return t.selection}}),new Ya("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,A){return A.selection.$cursor?t.storedMarks:null}}),new Ya("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Im{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=uD.slice(),n&&n.forEach(A=>{if(this.pluginsByKey[A.key])throw new RangeError("Adding different instances of a keyed plugin ("+A.key+")");this.plugins.push(A),this.pluginsByKey[A.key]=A,A.spec.state&&this.fields.push(new Ya(A.key,A.spec.state,A))})}}class hl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let A=0;A<this.config.plugins.length;A++)if(A!=n){let r=this.config.plugins[A];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],A=this.applyInner(e),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let l=r?r[s].n:0,c=r?r[s].state:this,f=l<n.length&&o.spec.appendTransaction.call(o,l?n.slice(l):n,c,A);if(f&&A.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<s?{state:A,n:n.length}:{state:this,n:0})}n.push(f),A=A.applyInner(f),i=!0}r&&(r[s]={state:A,n:n.length})}}if(!i)return{state:A,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new hl(this.config),A=this.config.fields;for(let r=0;r<A.length;r++){let i=A[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new aD(this)}static create(e){let n=new Im(e.doc?e.doc.type.schema:e.schema,e.plugins),A=new hl(n);for(let r=0;r<n.fields.length;r++)A[n.fields[r].name]=n.fields[r].init(e,A);return A}reconfigure(e){let n=new Im(this.schema,e.plugins),A=n.fields,r=new hl(n);for(let i=0;i<A.length;i++){let s=A[i].name;r[s]=this.hasOwnProperty(s)?this[s]:A[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(A=>A.toJSON())),e&&typeof e=="object")for(let A in e){if(A=="doc"||A=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[A],i=r.spec.state;i&&i.toJSON&&(n[A]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,A){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Im(e.schema,e.plugins),i=new hl(r);return r.fields.forEach(s=>{if(s.name=="doc")i.doc=Xi.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=Fe.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(A)for(let o in A){let l=A[o],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){i[s.name]=c.fromJSON.call(l,e,n[o],i);return}}i[s.name]=s.init(e,i)}}),i}}function wU(t,e,n){for(let A in t){let r=t[A];r instanceof Function?r=r.bind(e):A=="handleDOMEvents"&&(r=wU(r,e,{})),n[A]=r}return n}class jn{constructor(e){this.spec=e,this.props={},e.props&&wU(e.props,this,this.props),this.key=e.key?e.key.key:CU("plugin")}getState(e){return e[this.key]}}const Tm=Object.create(null);function CU(t){return t in Tm?t+"$"+ ++Tm[t]:(Tm[t]=0,t+"$")}class vr{constructor(e="key"){this.key=CU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const An=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ju=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let IB=null;const Nr=function(t,e,n){let A=IB||(IB=document.createRange());return A.setEnd(t,n??t.nodeValue.length),A.setStart(t,e||0),A},cD=function(){IB=null},co=function(t,e,n,A){return n&&(QS(t,e,n,A,-1)||QS(t,e,n,A,1))},fD=/^(img|br|input|textarea|hr)$/i;function QS(t,e,n,A,r){for(;;){if(t==n&&e==A)return!0;if(e==(r<0?0:wA(t))){let i=t.parentNode;if(!i||i.nodeType!=1||gc(t)||fD.test(t.nodeName)||t.contentEditable=="false")return!1;e=An(t)+(r<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?wA(t):0}else return!1}}function wA(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function dD(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=wA(t)}else if(t.parentNode&&!gc(t))e=An(t),t=t.parentNode;else return null}}function hD(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gc(t))e=An(t)+1,t=t.parentNode;else return null}}function pD(t,e,n){for(let A=e==0,r=e==wA(t);A||r;){if(t==n)return!0;let i=An(t);if(t=t.parentNode,!t)return!1;A=A&&i==0,r=r&&i==wA(t)}}function gc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const rg=function(t){return t.focusNode&&co(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ns(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function gD(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function mD(t,e,n){if(t.caretPositionFromPoint)try{let A=t.caretPositionFromPoint(e,n);if(A)return{node:A.offsetNode,offset:Math.min(wA(A.offsetNode),A.offset)}}catch{}if(t.caretRangeFromPoint){let A=t.caretRangeFromPoint(e,n);if(A)return{node:A.startContainer,offset:Math.min(wA(A.startContainer),A.startOffset)}}}const mr=typeof navigator<"u"?navigator:null,US=typeof document<"u"?document:null,ys=mr&&mr.userAgent||"",TB=/Edge\/(\d+)/.exec(ys),vU=/MSIE \d/.exec(ys),MB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ys),Wn=!!(vU||MB||TB),Yi=vU?document.documentMode:MB?+MB[1]:TB?+TB[1]:0,JA=!Wn&&/gecko\/(\d+)/i.test(ys);JA&&+(/Firefox\/(\d+)/.exec(ys)||[0,0])[1];const HB=!Wn&&/Chrome\/(\d+)/.exec(ys),Cn=!!HB,SU=HB?+HB[1]:0,kn=!Wn&&!!mr&&/Apple Computer/.test(mr.vendor),Pl=kn&&(/Mobile\/\w+/.test(ys)||!!mr&&mr.maxTouchPoints>2),gA=Pl||(mr?/Mac/.test(mr.platform):!1),BD=mr?/Win/.test(mr.platform):!1,Kr=/Android \d/.test(ys),mc=!!US&&"webkitFontSmoothing"in US.documentElement.style,yD=mc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wD(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Mr(t,e){return typeof t=="number"?t:t[e]}function CD(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,A=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*A}}function xS(t,e,n){let A=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Ju(s)){if(s.nodeType!=1)continue;let o=s,l=o==i.body,c=l?wD(i):CD(o),f=0,d=0;if(e.top<c.top+Mr(A,"top")?d=-(c.top-e.top+Mr(r,"top")):e.bottom>c.bottom-Mr(A,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Mr(r,"top")-c.top:e.bottom-c.bottom+Mr(r,"bottom")),e.left<c.left+Mr(A,"left")?f=-(c.left-e.left+Mr(r,"left")):e.right>c.right-Mr(A,"right")&&(f=e.right-c.right+Mr(r,"right")),f||d)if(l)i.defaultView.scrollBy(f,d);else{let p=o.scrollLeft,g=o.scrollTop;d&&(o.scrollTop+=d),f&&(o.scrollLeft+=f);let m=o.scrollLeft-p,w=o.scrollTop-g;e={left:e.left-m,top:e.top-w,right:e.right-m,bottom:e.bottom-w}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function vD(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),A,r;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let o=t.root.elementFromPoint(i,s);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=n-20){A=o,r=l.top;break}}return{refDOM:A,refTop:r,stack:FU(t.dom)}}function FU(t){let e=[],n=t.ownerDocument;for(let A=t;A&&(e.push({dom:A,top:A.scrollTop,left:A.scrollLeft}),t!=n);A=Ju(A));return e}function SD({refDOM:t,refTop:e,stack:n}){let A=t?t.getBoundingClientRect().top:0;EU(n,A==0?0:A-e)}function EU(t,e){for(let n=0;n<t.length;n++){let{dom:A,top:r,left:i}=t[n];A.scrollTop!=r+e&&(A.scrollTop=r+e),A.scrollLeft!=i&&(A.scrollLeft=i)}}let Vo=null;function FD(t){if(t.setActive)return t.setActive();if(Vo)return t.focus(Vo);let e=FU(t);t.focus(Vo==null?{get preventScroll(){return Vo={preventScroll:!0},!0}}:void 0),Vo||(Vo=!1,EU(e,0))}function QU(t,e){let n,A=2e8,r,i=0,s=e.top,o=e.top,l,c;for(let f=t.firstChild,d=0;f;f=f.nextSibling,d++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=Nr(f).getClientRects();else continue;for(let g=0;g<p.length;g++){let m=p[g];if(m.top<=s&&m.bottom>=o){s=Math.max(m.bottom,s),o=Math.min(m.top,o);let w=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(w<A){n=f,A=w,r=w&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,f.nodeType==1&&w&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=f,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,r=c,A=0),n&&n.nodeType==3?ED(n,r):!n||A&&n.nodeType==1?{node:t,offset:i}:QU(n,r)}function ED(t,e){let n=t.nodeValue.length,A=document.createRange();for(let r=0;r<n;r++){A.setEnd(t,r+1),A.setStart(t,r);let i=Ci(A,1);if(i.top!=i.bottom&&Hw(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Hw(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function QD(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function UD(t,e,n){let{node:A,offset:r}=QU(e,n),i=-1;if(A.nodeType==1&&!A.firstChild){let s=A.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(A,r,i)}function xD(t,e,n,A){let r=-1;for(let i=e,s=!1;i!=t.dom;){let o=t.docView.nearestDesc(i,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&(!s&&l.left>A.left||l.top>A.top?r=o.posBefore:(!s&&l.right<A.left||l.bottom<A.top)&&(r=o.posAfter),s=!0),!o.contentDOM&&r<0&&!o.node.isText))return(o.node.isBlock?A.top<(l.top+l.bottom)/2:A.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;i=o.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function UU(t,e,n){let A=t.childNodes.length;if(A&&n.top<n.bottom)for(let r=Math.max(0,Math.min(A-1,Math.floor(A*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let s=t.childNodes[i];if(s.nodeType==1){let o=s.getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(Hw(e,c))return UU(s,e,c)}}if((i=(i+1)%A)==r)break}return t}function kD(t,e){let n=t.dom.ownerDocument,A,r=0,i=mD(n,e.left,e.top);i&&({node:A,offset:r}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!Hw(e,c)||(s=UU(t.dom,e,c),!s))return null}if(kn)for(let c=s;A&&c;c=Ju(c))c.draggable&&(A=void 0);if(s=QD(s,e),A){if(JA&&A.nodeType==1&&(r=Math.min(r,A.childNodes.length),r<A.childNodes.length)){let f=A.childNodes[r],d;f.nodeName=="IMG"&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let c;mc&&r&&A.nodeType==1&&(c=A.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,A==t.dom&&r==A.childNodes.length-1&&A.lastChild.nodeType==1&&e.top>A.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(r==0||A.nodeType!=1||A.childNodes[r-1].nodeName!="BR")&&(o=xD(t,A,r,e))}o==null&&(o=UD(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function kS(t){return t.top<t.bottom||t.left<t.right}function Ci(t,e){let n=t.getClientRects();if(n.length){let A=n[e<0?0:n.length-1];if(kS(A))return A}return Array.prototype.find.call(n,kS)||t.getBoundingClientRect()}const _D=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xU(t,e,n){let{node:A,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=mc||JA;if(A.nodeType==3)if(s&&(_D.test(A.nodeValue)||(n<0?!r:r==A.nodeValue.length))){let l=Ci(Nr(A,r,r),n);if(JA&&r&&/\s/.test(A.nodeValue[r-1])&&r<A.nodeValue.length){let c=Ci(Nr(A,r-1,r-1),-1);if(c.top==l.top){let f=Ci(Nr(A,r,r+1),-1);if(f.top!=l.top)return Da(f,f.left<c.left)}}return l}else{let l=r,c=r,f=n<0?1:-1;return n<0&&!r?(c++,f=-1):n>=0&&r==A.nodeValue.length?(l--,f=1):n<0?l--:c++,Da(Ci(Nr(A,l,c),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==wA(A))){let l=A.childNodes[r-1];if(l.nodeType==1)return Mm(l.getBoundingClientRect(),!1)}if(i==null&&r<wA(A)){let l=A.childNodes[r];if(l.nodeType==1)return Mm(l.getBoundingClientRect(),!0)}return Mm(A.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==wA(A))){let l=A.childNodes[r-1],c=l.nodeType==3?Nr(l,wA(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Da(Ci(c,1),!1)}if(i==null&&r<wA(A)){let l=A.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Nr(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Da(Ci(c,-1),!0)}return Da(Ci(A.nodeType==3?Nr(A):A,-n),n>=0)}function Da(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Mm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function kU(t,e,n){let A=t.state,r=t.root.activeElement;A!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{A!=e&&t.updateState(A),r!=t.dom&&r&&r.focus()}}function ID(t,e,n){let A=e.selection,r=n=="up"?A.$from:A.$to;return kU(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(i,!0);if(!o)break;if(o.node.isBlock){i=o.contentDOM||o.dom;break}i=o.dom.parentNode}let s=xU(t,r.pos,1);for(let o=i.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=Nr(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(n=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const TD=/[\u0590-\u08ac]/;function MD(t,e,n){let{$head:A}=e.selection;if(!A.parent.isTextblock)return!1;let r=A.parentOffset,i=!r,s=r==A.parent.content.size,o=t.domSelection();return o?!TD.test(A.parent.textContent)||!o.modify?n=="left"||n=="backward"?i:s:kU(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:d}=t.domSelectionRange(),p=o.caretBidiLevel;o.modify("move",n,"character");let g=A.depth?t.docView.domAfterPos(A.before()):t.dom,{focusNode:m,focusOffset:w}=t.domSelectionRange(),F=m&&!g.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==w;try{o.collapse(f,d),l&&(l!=f||c!=d)&&o.extend&&o.extend(l,c)}catch{}return p!=null&&(o.caretBidiLevel=p),F}):A.pos==A.start()||A.pos==A.end()}let _S=null,IS=null,TS=!1;function HD(t,e,n){return _S==e&&IS==n?TS:(_S=e,IS=n,TS=n=="up"||n=="down"?ID(t,e,n):MD(t,e,n))}const UA=0,MS=1,Vs=2,Br=3;class Bc{constructor(e,n,A,r){this.parent=e,this.children=n,this.dom=A,this.contentDOM=r,this.dirty=UA,A.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,A){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,A=this.posAtStart;;n++){let r=this.children[n];if(r==e)return A;A+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,A){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(A<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>An(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??A>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let A=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),s;if(i&&(!n||i.node))if(A&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))A=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let A=n;A;A=A.parent)if(A==this)return n}posFromDOM(e,n,A){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,A)}return-1}descAt(e){for(let n=0,A=0;n<this.children.length;n++){let r=this.children[n],i=A+r.size;if(A==e&&i!=A){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let o=r.children[s];if(o.size){r=o;break}}return r}if(e<i)return r.descAt(e-A-r.border);A=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let A=0,r=0;for(let i=0;A<this.children.length;A++){let s=this.children[A],o=i+s.size;if(o>e||s instanceof IU){r=e-i;break}i=o}if(r)return this.children[A].domFromPos(r-this.children[A].border,n);for(let i;A&&!(i=this.children[A-1]).size&&i instanceof _U&&i.side>=0;A--);if(n<=0){let i,s=!0;for(;i=A?this.children[A-1]:null,!(!i||i.dom.parentNode==this.contentDOM);A--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?An(i.dom)+1:0}}else{let i,s=!0;for(;i=A<this.children.length?this.children[A]:null,!(!i||i.dom.parentNode==this.contentDOM);A++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?An(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,A=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let s=A,o=0;;o++){let l=this.children[o],c=s+l.size;if(r==-1&&e<=c){let f=s+l.border;if(e>=f&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=s;for(let d=o;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=An(p.dom)+1;break}e-=p.size}r==-1&&(r=0)}if(r>-1&&(c>n||o==this.children.length-1)){n=c;for(let f=o+1;f<this.children.length;f++){let d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=An(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:A}=this.domFromPos(e,0);if(n.nodeType!=1||A==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[A]}setSelection(e,n,A,r=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let g=0,m=0;g<this.children.length;g++){let w=this.children[g],F=m+w.size;if(i>m&&s<F)return w.setSelection(e-m-w.border,n-m-w.border,A,r);m=F}let o=this.domFromPos(e,e?-1:1),l=n==e?o:this.domFromPos(n,n?-1:1),c=A.root.getSelection(),f=A.domSelectionRange(),d=!1;if((JA||kn)&&e==n){let{node:g,offset:m}=o;if(g.nodeType==3){if(d=!!(m&&g.nodeValue[m-1]==`
`),d&&m==g.nodeValue.length)for(let w=g,F;w;w=w.parentNode){if(F=w.nextSibling){F.nodeName=="BR"&&(o=l={node:F.parentNode,offset:An(F)+1});break}let v=w.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let w=g.childNodes[m-1];d=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(JA&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(r=!0)}if(!(r||d&&kn)&&co(o.node,o.offset,f.anchorNode,f.anchorOffset)&&co(l.node,l.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==n)&&!d){c.collapse(o.node,o.offset);try{e!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let m=o;o=l,l=m}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let A=0,r=0;r<this.children.length;r++){let i=this.children[r],s=A+i.size;if(A==s?e<=s&&n>=A:e<s&&n>A){let o=A+i.border,l=s-i.border;if(e>=o&&n<=l){this.dirty=e==A||n==s?Vs:MS,e==o&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Br:i.markDirty(e-o,n-o);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Vs:Br}A=s}this.dirty=Vs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let A=e==1?Vs:MS;n.dirty<A&&(n.dirty=A)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class _U extends Bc{constructor(e,n,A,r){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(A,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let o=document.createElement("span");o.appendChild(s),s=o}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==UA&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bD extends Bc{constructor(e,n,A,r){super(e,[],n,null),this.textDOM=A,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class fo extends Bc{constructor(e,n,A,r,i){super(e,[],A,r),this.mark=n,this.spec=i}static create(e,n,A,r){let i=r.nodeViews[n.type.name],s=i&&i(n,r,A);return(!s||!s.dom)&&(s=Eo.renderSpec(document,n.type.spec.toDOM(n,A),null,n.attrs)),new fo(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Br&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=UA){let A=this.parent;for(;!A.node;)A=A.parent;A.dirty<this.dirty&&(A.dirty=this.dirty),this.dirty=UA}}slice(e,n,A){let r=fo.create(this.parent,this.mark,!0,A),i=this.children,s=this.size;n<s&&(i=OB(i,n,s,A)),e>0&&(i=OB(i,0,e,A));for(let o=0;o<i.length;o++)i[o].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class $i extends Bc{constructor(e,n,A,r,i,s,o,l,c){super(e,[],i,s),this.node=n,this.outerDeco=A,this.innerDeco=r,this.nodeDOM=o}static create(e,n,A,r,i,s){let o=i.nodeViews[n.type.name],l,c=o&&o(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},A,r),f=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:d}=Eo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=HU(f,A,n),c?l=new OD(e,n,A,r,f,d||null,p,c,i,s+1):n.isText?new ig(e,n,A,r,f,p,i):new $i(e,n,A,r,f,d||null,p,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let A=this.children[n];if(this.dom.contains(A.dom.parentNode)){e.contentElement=A.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,n,A){return this.dirty==UA&&e.eq(this.node)&&Ch(n,this.outerDeco)&&A.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let A=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,o=i&&i.pos<0,l=new ND(this,s&&s.node,e);PD(this.node,this.innerDeco,(c,f,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,A,e):c.type.side>=0&&!d&&l.syncToMarks(f==this.node.childCount?Je.none:this.node.child(f).marks,A,e),l.placeWidget(c,e,r)},(c,f,d,p)=>{l.syncToMarks(c.marks,A,e);let g;l.findNodeMatch(c,f,d,p)||o&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(g=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,f,d,g,e)||l.updateNextNode(c,f,d,e,p,r)||l.addNode(c,f,d,e,r),r+=c.nodeSize}),l.syncToMarks([],A,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Vs)&&(s&&this.protectLocalComposition(e,s),TU(this.contentDOM,this.children,e),Pl&&KD(this.dom))}localCompositionInfo(e,n){let{from:A,to:r}=e.state.selection;if(!(e.state.selection instanceof ye)||A<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,o=GD(this.node.content,s,A-n,r-n);return o<0?null:{node:i,pos:o,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:A,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new bD(this,i,n,r);e.input.compositionNodes.push(s),this.children=OB(this.children,A,A+r.length,e,s)}update(e,n,A,r){return this.dirty==Br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,A,r),!0)}updateInner(e,n,A,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=A,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=UA}updateOuterDeco(e){if(Ch(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,A=this.dom;this.dom=MU(this.dom,this.nodeDOM,bB(this.outerDeco,this.node,n),bB(e,this.node,n)),this.dom!=A&&(A.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function HS(t,e,n,A,r){HU(A,e,t);let i=new $i(void 0,t,e,n,A,A,A,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class ig extends $i{constructor(e,n,A,r,i,s,o){super(e,n,A,r,i,null,s,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,A,r){return this.dirty==Br||this.dirty!=UA&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=UA||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=UA,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,A){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,A)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,A){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new ig(this.parent,r,this.outerDeco,this.innerDeco,i,i,A)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class IU extends Bc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==UA&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OD extends $i{constructor(e,n,A,r,i,s,o,l,c,f){super(e,n,A,r,i,s,o,c,f),this.spec=l}update(e,n,A,r){if(this.dirty==Br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,A);return i&&this.updateInner(e,n,A,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,A,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,A,r){this.spec.setSelection?this.spec.setSelection(e,n,A.root):super.setSelection(e,n,A,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function TU(t,e,n){let A=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let s=e[i],o=s.dom;if(o.parentNode==t){for(;o!=A;)A=bS(A),r=!0;A=A.nextSibling}else r=!0,t.insertBefore(o,A);if(s instanceof fo){let l=A?A.previousSibling:t.lastChild;TU(s.contentDOM,s.children,n),A=l?l.nextSibling:t.firstChild}}for(;A;)A=bS(A),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const mu=function(t){t&&(this.nodeName=t)};mu.prototype=Object.create(null);const zs=[new mu];function bB(t,e,n){if(t.length==0)return zs;let A=n?zs[0]:new mu,r=[A];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&r.push(A=new mu(s.nodeName));for(let o in s){let l=s[o];l!=null&&(n&&r.length==1&&r.push(A=new mu(e.isInline?"span":"div")),o=="class"?A.class=(A.class?A.class+" ":"")+l:o=="style"?A.style=(A.style?A.style+";":"")+l:o!="nodeName"&&(A[o]=l))}}}return r}function MU(t,e,n,A){if(n==zs&&A==zs)return e;let r=e;for(let i=0;i<A.length;i++){let s=A[i],o=n[i];if(i){let l;o&&o.nodeName==s.nodeName&&r!=t&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),o=zs[0]),r=l}DD(r,o||zs[0],s)}return r}function DD(t,e,n){for(let A in e)A!="class"&&A!="style"&&A!="nodeName"&&!(A in n)&&t.removeAttribute(A);for(let A in n)A!="class"&&A!="style"&&A!="nodeName"&&n[A]!=e[A]&&t.setAttribute(A,n[A]);if(e.class!=n.class){let A=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<A.length;i++)r.indexOf(A[i])==-1&&t.classList.remove(A[i]);for(let i=0;i<r.length;i++)A.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let A=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=A.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function HU(t,e,n){return MU(t,t,zs,bB(e,n,t.nodeType!=1))}function Ch(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function bS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ND{constructor(e,n,A){this.lock=n,this.view=A,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=LD(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let A=e;A<n;A++)this.top.children[A].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,A){let r=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;r<s&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=UA,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=fo.create(this.top,e[i],n,A);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,A,r){let i=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,A))i=this.top.children.indexOf(s,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let c=this.top.children[o];if(c.matchesNode(e,n,A)&&!this.preMatch.matched.has(c)){i=o;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,A,r,i){let s=this.top.children[r];return s.dirty==Br&&s.dom==s.contentDOM&&(s.dirty=Vs),s.update(e,n,A,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let A=e.pmViewDesc;if(A){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==A)return r}return-1}e=n}}updateNextNode(e,n,A,r,i,s){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof $i){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let f=l.dom,d,p=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Br&&Ch(n,l.outerDeco));if(!p&&l.update(e,n,A,r))return this.destroyBetween(this.index,o),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,n,A,r,s)))return this.destroyBetween(this.index,o),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Vs,d.updateChildren(r,s+1),d.dirty=UA),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,A,r,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ch(A,e.outerDeco)||!r.eq(e.innerDeco))return null;let o=$i.create(this.top,n,A,r,i,s);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,n,A,r,i){let s=$i.create(this.top,e,n,A,r,i);s.contentDOM&&s.updateChildren(r,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,A){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new _U(this.top,e,n,A);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof fo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ig)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((kn||Cn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let A=document.createElement(e);e=="IMG"&&(A.className="ProseMirror-separator",A.alt=""),e=="BR"&&(A.className="ProseMirror-trailingBreak");let r=new IU(this.top,[],A,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function LD(t,e){let n=e,A=n.children.length,r=t.childCount,i=new Map,s=[];e:for(;r>0;){let o;for(;;)if(A){let c=n.children[A-1];if(c instanceof fo)n=c,A=c.children.length;else{o=c,A--;break}}else{if(n==e)break e;A=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=t.child(r-1))break;--r,i.set(o,r),s.push(o)}}return{index:r,matched:i,matches:s.reverse()}}function RD(t,e){return t.type.side-e.type.side}function PD(t,e,n,A){let r=e.locals(t),i=0;if(r.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);A(f,r,e.forChild(i,f),c),i+=f.nodeSize}return}let s=0,o=[],l=null;for(let c=0;;){let f,d;for(;s<r.length&&r[s].to==i;){let F=r[s++];F.widget&&(f?(d||(d=[f])).push(F):f=F)}if(f)if(d){d.sort(RD);for(let F=0;F<d.length;F++)n(d[F],c,!!l)}else n(f,c,!!l);let p,g;if(l)g=-1,p=l,l=null;else if(c<t.childCount)g=c,p=t.child(c++);else break;for(let F=0;F<o.length;F++)o[F].to<=i&&o.splice(F--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)o.push(r[s++]);let m=i+p.nodeSize;if(p.isText){let F=m;s<r.length&&r[s].from<F&&(F=r[s].from);for(let v=0;v<o.length;v++)o[v].to<F&&(F=o[v].to);F<m&&(l=p.cut(F-i),p=p.cut(0,F-i),m=F,g=-1)}else for(;s<r.length&&r[s].to<m;)s++;let w=p.isInline&&!p.isLeaf?o.filter(F=>!F.inline):o.slice();A(p,w,e.forChild(i,p),g),i=m}}function KD(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function GD(t,e,n,A){for(let r=0,i=0;r<t.childCount&&i<=A;){let s=t.child(r++),o=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<t.childCount;){let c=t.child(r++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=A&&l.slice(A-e.length-o,A-o)==e)return A-e.length;let c=o<A?l.lastIndexOf(e,A-o-1):-1;if(c>=0&&c+e.length+o>=n)return o+c;if(n==A&&l.length>=A+e.length-o&&l.slice(A-o,A-o+e.length)==e)return A}}return-1}function OB(t,e,n,A,r){let i=[];for(let s=0,o=0;s<t.length;s++){let l=t[s],c=o,f=o+=l.size;c>=n||f<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,A)),r&&(i.push(r),r=void 0),f>n&&i.push(l.slice(n-c,l.size,A)))}return i}function bw(t,e=null){let n=t.domSelectionRange(),A=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let o=A.resolve(s),l,c;if(rg(n)){for(l=s;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&pe.isSelectable(d)&&r.parent&&!(d.isInline&&pD(n.focusNode,n.focusOffset,r.dom))){let p=r.posBefore;c=new pe(s==p?o:A.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,p=s;for(let g=0;g<n.rangeCount;g++){let m=n.getRangeAt(g);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=p==t.state.selection.anchor?[p,d]:[d,p],o=A.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=A.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<o.pos&&!i?1:-1;c=Ow(t,f,o,d)}return c}function bU(t){return t.editable?t.hasFocus():DU(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jr(t,e=!1){let n=t.state.selection;if(OU(t,n),!!bU(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Cn){let A=t.domSelectionRange(),r=t.domObserver.currentSelection;if(A.anchorNode&&r.anchorNode&&co(A.anchorNode,A.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)zD(t);else{let{anchor:A,head:r}=n,i,s;OS&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(i=DS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=DS(t,n.to))),t.docView.setSelection(A,r,t,e),OS&&(i&&NS(i),s&&NS(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&VD(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const OS=kn||Cn&&SU<63;function DS(t,e){let{node:n,offset:A}=t.docView.domFromPos(e,0),r=A<n.childNodes.length?n.childNodes[A]:null,i=A?n.childNodes[A-1]:null;if(kn&&r&&r.contentEditable=="false")return Hm(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Hm(r);if(i)return Hm(i)}}function Hm(t){return t.contentEditable="true",kn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function NS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function VD(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),A=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=A||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bU(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function zD(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let A=t.cursorWrapper.dom,r=A.nodeName=="IMG";r?n.setStart(A.parentNode,An(A)+1):n.setStart(A,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Wn&&Yi<=11&&(A.disabled=!0,A.disabled=!1)}function OU(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(LS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else LS(t)}function LS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Ow(t,e,n,A){return t.someProp("createSelectionBetween",r=>r(t,e,n))||ye.between(e,n,A)}function RS(t){return t.editable&&!t.hasFocus()?!1:DU(t)}function DU(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function WD(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return co(e.node,e.offset,n.anchorNode,n.anchorOffset)}function DB(t,e){let{$anchor:n,$head:A}=t.selection,r=e>0?n.max(A):n.min(A),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&Fe.findFrom(i,e)}function Qi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function PS(t,e,n){let A=t.state.selection;if(A instanceof ye)if(n.indexOf("s")>-1){let{$head:r}=A,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Qi(t,new ye(A.$anchor,s))}else if(A.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=DB(t.state,e);return r&&r instanceof pe?Qi(t,r):!1}else if(!(gA&&n.indexOf("m")>-1)){let r=A.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!i||i.isText)return!1;let o=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(s=t.docView.descAt(o))&&!s.contentDOM?pe.isSelectable(i)?Qi(t,new pe(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):mc?Qi(t,new ye(t.state.doc.resolve(e<0?o:o+i.nodeSize))):!1:!1}}else return!1;else{if(A instanceof pe&&A.node.isInline)return Qi(t,new ye(e>0?A.$to:A.$from));{let r=DB(t.state,e);return r?Qi(t,r):!1}}}function vh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Bu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function zo(t,e){return e<0?jD(t):XD(t)}function jD(t){let e=t.domSelectionRange(),n=e.focusNode,A=e.focusOffset;if(!n)return;let r,i,s=!1;for(JA&&n.nodeType==1&&A<vh(n)&&Bu(n.childNodes[A],-1)&&(s=!0);;)if(A>0){if(n.nodeType!=1)break;{let o=n.childNodes[A-1];if(Bu(o,-1))r=n,i=--A;else if(o.nodeType==3)n=o,A=n.nodeValue.length;else break}}else{if(NU(n))break;{let o=n.previousSibling;for(;o&&Bu(o,-1);)r=n.parentNode,i=An(o),o=o.previousSibling;if(o)n=o,A=vh(n);else{if(n=n.parentNode,n==t.dom)break;A=0}}}s?NB(t,n,A):r&&NB(t,r,i)}function XD(t){let e=t.domSelectionRange(),n=e.focusNode,A=e.focusOffset;if(!n)return;let r=vh(n),i,s;for(;;)if(A<r){if(n.nodeType!=1)break;let o=n.childNodes[A];if(Bu(o,1))i=n,s=++A;else break}else{if(NU(n))break;{let o=n.nextSibling;for(;o&&Bu(o,1);)i=o.parentNode,s=An(o)+1,o=o.nextSibling;if(o)n=o,A=0,r=vh(n);else{if(n=n.parentNode,n==t.dom)break;A=r=0}}}i&&NB(t,i,s)}function NU(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function JD(t,e){for(;t&&e==t.childNodes.length&&!gc(t);)e=An(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function YD(t,e){for(;t&&!e&&!gc(t);)e=An(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function NB(t,e,n){if(e.nodeType!=3){let i,s;(s=JD(e,n))?(e=s,n=0):(i=YD(e,n))&&(e=i,n=i.nodeValue.length)}let A=t.domSelection();if(!A)return;if(rg(A)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),A.removeAllRanges(),A.addRange(i)}else A.extend&&A.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&jr(t)},50)}function KS(t,e){let n=t.state.doc.resolve(e);if(!(Cn||BD)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function GS(t,e,n){let A=t.state.selection;if(A instanceof ye&&!A.empty||n.indexOf("s")>-1||gA&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=A;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=DB(t.state,e);if(s&&s instanceof pe)return Qi(t,s)}if(!r.parent.inlineContent){let s=e<0?r:i,o=A instanceof QA?Fe.near(s,e):Fe.findFrom(s,e);return o?Qi(t,o):!1}return!1}function VS(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:A,empty:r}=t.state.selection;if(!n.sameParent(A))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function zS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $D(t){if(!kn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let A=e.firstChild;zS(t,A,"true"),setTimeout(()=>zS(t,A,"false"),20)}return!1}function qD(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ZD(t,e){let n=e.keyCode,A=qD(e);if(n==8||gA&&n==72&&A=="c")return VS(t,-1)||zo(t,-1);if(n==46&&!e.shiftKey||gA&&n==68&&A=="c")return VS(t,1)||zo(t,1);if(n==13||n==27)return!0;if(n==37||gA&&n==66&&A=="c"){let r=n==37?KS(t,t.state.selection.from)=="ltr"?-1:1:-1;return PS(t,r,A)||zo(t,r)}else if(n==39||gA&&n==70&&A=="c"){let r=n==39?KS(t,t.state.selection.from)=="ltr"?1:-1:1;return PS(t,r,A)||zo(t,r)}else{if(n==38||gA&&n==80&&A=="c")return GS(t,-1,A)||zo(t,-1);if(n==40||gA&&n==78&&A=="c")return $D(t)||GS(t,1,A)||zo(t,1);if(A==(gA?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Dw(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:A,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&A.childCount==1&&A.firstChild.childCount==1;){r--,i--;let g=A.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),A=g.content}let s=t.someProp("clipboardSerializer")||Eo.fromSchema(t.state.schema),o=VU(),l=o.createElement("div");l.appendChild(s.serializeFragment(A,{document:o}));let c=l.firstChild,f,d=0;for(;c&&c.nodeType==1&&(f=GU[c.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let m=o.createElement(f[g]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function LU(t,e,n,A,r){let i=r.parent.type.spec.code,s,o;if(!n&&!e)return null;let l=e&&(A||i||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,i||A,t)}),i)return e?new te(G.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let d=t.someProp("clipboardTextParser",p=>p(e,r,A,t));if(d)o=d;else{let p=r.marks(),{schema:g}=t.state,m=Eo.fromSchema(g);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let F=s.appendChild(document.createElement("p"));w&&F.appendChild(m.serializeNode(g.text(w,p)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=AN(n),mc&&rN(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let d=+f[3];d>0;d--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||Ji.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!eN.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)o=iN(WS(o,+f[1],+f[2]),f[4]);else if(o=te.maxOpen(tN(o.content,r),!0),o.openStart||o.openEnd){let d=0,p=0;for(let g=o.content.firstChild;d<o.openStart&&!g.type.spec.isolating;d++,g=g.firstChild);for(let g=o.content.lastChild;p<o.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);o=WS(o,d,p)}return t.someProp("transformPasted",d=>{o=d(o,t)}),o}const eN=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function tN(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(o=>{if(!s)return;let l=r.findWrapping(o.type),c;if(!l)return s=null;if(c=s.length&&i.length&&PU(l,i,o,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=KU(s[s.length-1],i.length));let f=RU(o,l);s.push(f),r=r.matchType(f.type),i=l}}),s)return G.from(s)}return t}function RU(t,e,n=0){for(let A=e.length-1;A>=n;A--)t=e[A].create(null,G.from(t));return t}function PU(t,e,n,A,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=PU(t,e,n,A.lastChild,r+1);if(i)return A.copy(A.content.replaceChild(A.childCount-1,i));if(A.contentMatchAt(A.childCount).matchType(r==t.length-1?n.type:t[r+1]))return A.copy(A.content.append(G.from(RU(n,t,r+1))))}}function KU(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,KU(t.lastChild,e-1)),A=t.contentMatchAt(t.childCount).fillBefore(G.empty,!0);return t.copy(n.append(A))}function LB(t,e,n,A,r,i){let s=e<0?t.firstChild:t.lastChild,o=s.content;return t.childCount>1&&(i=0),r<A-1&&(o=LB(o,e,n,A,r+1,i)),r>=n&&(o=e<0?s.contentMatchAt(0).fillBefore(o,i<=r).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(G.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(o))}function WS(t,e,n){return e<t.openStart&&(t=new te(LB(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(LB(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const GU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let jS=null;function VU(){return jS||(jS=document.implementation.createHTMLDocument("title"))}let bm=null;function nN(t){let e=window.trustedTypes;return e?(bm||(bm=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),bm.createHTML(t)):t}function AN(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=VU().createElement("div"),A=/<([a-z][^>\s]+)/i.exec(t),r;if((r=A&&GU[A[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=nN(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function rN(t){let e=t.querySelectorAll(Cn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let A=e[n];A.childNodes.length==1&&A.textContent==""&&A.parentNode&&A.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),A)}}function iN(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,A;try{A=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:s}=t;for(let o=A.length-2;o>=0;o-=2){let l=n.nodes[A[o]];if(!l||l.hasRequiredAttrs())break;r=G.from(l.create(A[o+1],r)),i++,s++}return new te(r,i,s)}const _n={},In={},sN={touchstart:!0,touchmove:!0};class oN{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function lN(t){for(let e in _n){let n=_n[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=A=>{uN(t,A)&&!Nw(t,A)&&(t.editable||!(A.type in In))&&n(t,A)},sN[e]?{passive:!0}:void 0)}kn&&t.dom.addEventListener("input",()=>null),RB(t)}function Oi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function aN(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function RB(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=A=>Nw(t,A))})}function Nw(t,e){return t.someProp("handleDOMEvents",n=>{let A=n[e.type];return A?A(t,e)||e.defaultPrevented:!1})}function uN(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function cN(t,e){!Nw(t,e)&&_n[e.type]&&(t.editable||!(e.type in In))&&_n[e.type](t,e)}In.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!WU(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Kr&&Cn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Pl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let A=Date.now();t.input.lastIOSEnter=A,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==A&&(t.someProp("handleKeyDown",r=>r(t,Ns(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",A=>A(t,n))||ZD(t,n)?n.preventDefault():Oi(t,"key")};In.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};In.keypress=(t,e)=>{let n=e;if(WU(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gA&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let A=t.state.selection;if(!(A instanceof ye)||!A.$from.sameParent(A.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",i=>i(t,A.$from.pos,A.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function sg(t){return{left:t.clientX,top:t.clientY}}function fN(t,e){let n=e.x-t.clientX,A=e.y-t.clientY;return n*n+A*A<100}function Lw(t,e,n,A,r){if(A==-1)return!1;let i=t.state.doc.resolve(A);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,o=>s>i.depth?o(t,n,i.nodeAfter,i.before(s),r,!0):o(t,n,i.node(s),i.before(s),r,!1)))return!0;return!1}function Ql(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let A=t.state.tr.setSelection(e);n=="pointer"&&A.setMeta("pointer",!0),t.dispatch(A)}function dN(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),A=n.nodeAfter;return A&&A.isAtom&&pe.isSelectable(A)?(Ql(t,new pe(n),"pointer"),!0):!1}function hN(t,e){if(e==-1)return!1;let n=t.state.selection,A,r;n instanceof pe&&(A=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s);if(pe.isSelectable(o)){A&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(s);break}}return r!=null?(Ql(t,pe.create(t.state.doc,r),"pointer"),!0):!1}function pN(t,e,n,A,r){return Lw(t,"handleClickOn",e,n,A)||t.someProp("handleClick",i=>i(t,e,A))||(r?hN(t,n):dN(t,n))}function gN(t,e,n,A){return Lw(t,"handleDoubleClickOn",e,n,A)||t.someProp("handleDoubleClick",r=>r(t,e,A))}function mN(t,e,n,A){return Lw(t,"handleTripleClickOn",e,n,A)||t.someProp("handleTripleClick",r=>r(t,e,A))||BN(t,n,A)}function BN(t,e,n){if(n.button!=0)return!1;let A=t.state.doc;if(e==-1)return A.inlineContent?(Ql(t,ye.create(A,0,A.content.size),"pointer"),!0):!1;let r=A.resolve(e);for(let i=r.depth+1;i>0;i--){let s=i>r.depth?r.nodeAfter:r.node(i),o=r.before(i);if(s.inlineContent)Ql(t,ye.create(A,o+1,o+1+s.content.size),"pointer");else if(pe.isSelectable(s))Ql(t,pe.create(A,o),"pointer");else continue;return!0}}function Rw(t){return Sh(t)}const zU=gA?"metaKey":"ctrlKey";_n.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let A=Rw(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&fN(n,t.input.lastClick)&&!n[zU]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let s=t.posAtCoords(sg(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new yN(t,s,n,!!A)):(i=="doubleClick"?gN:mN)(t,s.pos,s.inside,n)?n.preventDefault():Oi(t,"pointer"))};class yN{constructor(e,n,A,r){this.view=e,this.pos=n,this.event=A,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!A[zU],this.allowDefault=A.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let f=e.state.doc.resolve(n.pos);i=f.parent,s=f.depth?f.before():0}const o=r?null:A.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(A.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof pe&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&JA&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Oi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(sg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Oi(this.view,"pointer"):pN(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||kn&&this.mightDrag&&!this.mightDrag.node.isAtom||Cn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ql(this.view,Fe.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Oi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Oi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_n.touchstart=t=>{t.input.lastTouch=Date.now(),Rw(t),Oi(t,"pointer")};_n.touchmove=t=>{t.input.lastTouch=Date.now(),Oi(t,"pointer")};_n.contextmenu=t=>Rw(t);function WU(t,e){return t.composing?!0:kn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const wN=Kr?5e3:-1;In.compositionstart=In.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(A=>A.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sh(t,!0),t.markCursor=null;else if(Sh(t,!e.selection.empty),JA&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let A=t.domSelectionRange();for(let r=A.focusNode,i=A.focusOffset;r&&r.nodeType==1&&i!=0;){let s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(s.nodeType==3){let o=t.domSelection();o&&o.collapse(s,s.nodeValue.length);break}else r=s,i=-1}}t.input.composing=!0}jU(t,wN)};In.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,jU(t,20))};function jU(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sh(t),e))}function XU(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=vN());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function CN(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=dD(e.focusNode,e.focusOffset),A=hD(e.focusNode,e.focusOffset);if(n&&A&&n!=A){let r=A.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||A==i)return i;if(!r||!r.isText(A.nodeValue))return A;if(t.input.compositionNode==A){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return A}}return n||A}function vN(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sh(t,e=!1){if(!(Kr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),XU(t),e||t.docView&&t.docView.dirty){let n=bw(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function SN(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let A=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),A.removeAllRanges(),A.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Yu=Wn&&Yi<15||Pl&&yD<604;_n.copy=In.cut=(t,e)=>{let n=e,A=t.state.selection,r=n.type=="cut";if(A.empty)return;let i=Yu?null:n.clipboardData,s=A.content(),{dom:o,text:l}=Dw(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",o.innerHTML),i.setData("text/plain",l)):SN(t,o),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function FN(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function EN(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,A=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(A.contentEditable="true"),A.style.cssText="position: fixed; left: -10000px; top: 10px",A.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),A.parentNode&&A.parentNode.removeChild(A),n?$u(t,A.value,null,r,e):$u(t,A.textContent,A.innerHTML,r,e)},50)}function $u(t,e,n,A,r){let i=LU(t,e,n,A,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,i||te.empty)))return!0;if(!i)return!1;let s=FN(i),o=s?t.state.tr.replaceSelectionWith(s,A):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function JU(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}In.paste=(t,e)=>{let n=e;if(t.composing&&!Kr)return;let A=Yu?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;A&&$u(t,JU(A),A.getData("text/html"),r,n)?n.preventDefault():EN(t,n)};class YU{constructor(e,n,A){this.slice=e,this.move=n,this.node=A}}const $U=gA?"altKey":"ctrlKey";_n.dragstart=(t,e)=>{let n=e,A=t.input.mouseDown;if(A&&A.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(sg(n)),s;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof pe?r.to-1:r.to))){if(A&&A.mightDrag)s=pe.create(t.state.doc,A.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=pe.create(t.state.doc,d.posBefore))}}let o=(s||t.state.selection).content(),{dom:l,text:c,slice:f}=Dw(t,o);(!n.dataTransfer.files.length||!Cn||SU>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Yu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Yu||n.dataTransfer.setData("text/plain",c),t.dragging=new YU(f,!n[$U],s)};_n.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};In.dragover=In.dragenter=(t,e)=>e.preventDefault();In.drop=(t,e)=>{let n=e,A=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(sg(n));if(!r)return;let i=t.state.doc.resolve(r.pos),s=A&&A.slice;s?t.someProp("transformPasted",m=>{s=m(s,t)}):s=LU(t,JU(n.dataTransfer),Yu?null:n.dataTransfer.getData("text/html"),!1,i);let o=!!(A&&!n[$U]);if(t.someProp("handleDrop",m=>m(t,n,s||te.empty,o))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?pU(t.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(o){let{node:m}=A;m?m.replace(c):c.deleteSelection()}let f=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(p))return;let g=c.doc.resolve(f);if(d&&pe.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new pe(g));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((w,F,v,E)=>m=E),c.setSelection(Ow(t,g,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};_n.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&jr(t)},20))};_n.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_n.beforeinput=(t,e)=>{if(Cn&&Kr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:A}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=A||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Ns(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in In)_n[t]=In[t];function qu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Fh{constructor(e,n){this.toDOM=e,this.spec=n||qs,this.side=this.spec.side||0}map(e,n,A,r){let{pos:i,deleted:s}=e.mapResult(n.from+r,this.side<0?-1:1);return s?null:new vA(i-A,i-A,this)}valid(){return!0}eq(e){return this==e||e instanceof Fh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&qu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qi{constructor(e,n){this.attrs=e,this.spec=n||qs}map(e,n,A,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-A,s=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-A;return i>=s?null:new vA(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof qi&&qu(this.attrs,e.attrs)&&qu(this.spec,e.spec)}static is(e){return e.type instanceof qi}destroy(){}}class Pw{constructor(e,n){this.attrs=e,this.spec=n||qs}map(e,n,A,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let s=e.mapResult(n.to+r,-1);return s.deleted||s.pos<=i.pos?null:new vA(i.pos-A,s.pos-A,this)}valid(e,n){let{index:A,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(A)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof Pw&&qu(this.attrs,e.attrs)&&qu(this.spec,e.spec)}destroy(){}}class vA{constructor(e,n,A){this.from=e,this.to=n,this.type=A}copy(e,n){return new vA(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,A){return this.type.map(e,this,n,A)}static widget(e,n,A){return new vA(e,e,new Fh(n,A))}static inline(e,n,A,r){return new vA(e,n,new qi(A,r))}static node(e,n,A,r){return new vA(e,n,new Pw(A,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof qi}get widget(){return this.type instanceof Fh}}const Zo=[],qs={};class Ht{constructor(e,n){this.local=e.length?e:Zo,this.children=n.length?n:Zo}static create(e,n){return n.length?Eh(n,e,0,qs):Bn}find(e,n,A){let r=[];return this.findInner(e??0,n??1e9,r,0,A),r}findInner(e,n,A,r,i){for(let s=0;s<this.local.length;s++){let o=this.local[s];o.from<=n&&o.to>=e&&(!i||i(o.spec))&&A.push(o.copy(o.from+r,o.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let o=this.children[s]+1;this.children[s+2].findInner(e-o,n-o,A,r+o,i)}}map(e,n,A){return this==Bn||e.maps.length==0?this:this.mapInner(e,n,0,0,A||qs)}mapInner(e,n,A,r,i){let s;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,A,r);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[o].spec)}return this.children.length?QN(this.children,s||[],e,n,A,r,i):s?new Ht(s.sort(Zs),Zo):Bn}add(e,n){return n.length?this==Bn?Ht.create(e,n):this.addInner(e,n,0):this}addInner(e,n,A){let r,i=0;e.forEach((o,l)=>{let c=l+A,f;if(f=ZU(n,o,c)){for(r||(r=this.children.slice());i<r.length&&r[i]<l;)i+=3;r[i]==l?r[i+2]=r[i+2].addInner(o,f,c+1):r.splice(i,0,l,l+o.nodeSize,Eh(f,o,c+1,qs)),i+=3}});let s=qU(i?ex(n):n,-A);for(let o=0;o<s.length;o++)s[o].type.valid(e,s[o])||s.splice(o--,1);return new Ht(s.length?this.local.concat(s).sort(Zs):this.local,r||this.children)}remove(e){return e.length==0||this==Bn?this:this.removeInner(e,0)}removeInner(e,n){let A=this.children,r=this.local;for(let i=0;i<A.length;i+=3){let s,o=A[i]+n,l=A[i+1]+n;for(let f=0,d;f<e.length;f++)(d=e[f])&&d.from>o&&d.to<l&&(e[f]=null,(s||(s=[])).push(d));if(!s)continue;A==this.children&&(A=this.children.slice());let c=A[i+2].removeInner(s,o+1);c!=Bn?A[i+2]=c:(A.splice(i,3),i-=3)}if(r.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let o=0;o<r.length;o++)r[o].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(o--,1))}return A==this.children&&r==this.local?this:r.length||A.length?new Ht(r,A):Bn}forChild(e,n){if(this==Bn)return this;if(n.isLeaf)return Ht.empty;let A,r;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(A=this.children[o+2]);break}let i=e+1,s=i+n.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<s&&l.to>i&&l.type instanceof qi){let c=Math.max(i,l.from)-i,f=Math.min(s,l.to)-i;c<f&&(r||(r=[])).push(l.copy(c,f))}}if(r){let o=new Ht(r.sort(Zs),Zo);return A?new Ii([o,A]):o}return A||Bn}eq(e){if(this==e)return!0;if(!(e instanceof Ht)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Kw(this.localsInner(e))}localsInner(e){if(this==Bn)return Zo;if(e.inlineContent||!this.local.some(qi.is))return this.local;let n=[];for(let A=0;A<this.local.length;A++)this.local[A].type instanceof qi||n.push(this.local[A]);return n}forEachSet(e){e(this)}}Ht.empty=new Ht([],[]);Ht.removeOverlap=Kw;const Bn=Ht.empty;class Ii{constructor(e){this.members=e}map(e,n){const A=this.members.map(r=>r.map(e,n,qs));return Ii.from(A)}forChild(e,n){if(n.isLeaf)return Ht.empty;let A=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=Bn&&(i instanceof Ii?A=A.concat(i.members):A.push(i))}return Ii.from(A)}eq(e){if(!(e instanceof Ii)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,A=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{A&&(n=n.slice(),A=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?Kw(A?n:n.sort(Zs)):Zo}static from(e){switch(e.length){case 0:return Bn;case 1:return e[0];default:return new Ii(e.every(n=>n instanceof Ht)?e:e.reduce((n,A)=>n.concat(A instanceof Ht?A:A.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function QN(t,e,n,A,r,i,s){let o=t.slice();for(let c=0,f=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,g,m,w)=>{let F=w-m-(g-p);for(let v=0;v<o.length;v+=3){let E=o[v+1];if(E<0||p>E+f-d)continue;let C=o[v]+f-d;g>=C?o[v+1]=p<=C?-2:-1:p>=f&&F&&(o[v]+=F,o[v+1]+=F)}d+=F}),f=n.maps[c].map(f,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){l=!0,o[c+1]=-1;continue}let f=n.map(t[c]+i),d=f-r;if(d<0||d>=A.content.size){l=!0;continue}let p=n.map(t[c+1]+i,-1),g=p-r,{index:m,offset:w}=A.content.findIndex(d),F=A.maybeChild(m);if(F&&w==d&&w+F.nodeSize==g){let v=o[c+2].mapInner(n,F,f+1,t[c]+i+1,s);v!=Bn?(o[c]=d,o[c+1]=g,o[c+2]=v):(o[c+1]=-2,l=!0)}else l=!0}if(l){let c=UN(o,t,e,n,r,i,s),f=Eh(c,A,0,s);e=f.local;for(let d=0;d<o.length;d+=3)o[d+1]<0&&(o.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let g=f.children[d];for(;p<o.length&&o[p]<g;)p+=3;o.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new Ht(e.sort(Zs),o)}function qU(t,e){if(!e||!t.length)return t;let n=[];for(let A=0;A<t.length;A++){let r=t[A];n.push(new vA(r.from+e,r.to+e,r.type))}return n}function UN(t,e,n,A,r,i,s){function o(l,c){for(let f=0;f<l.local.length;f++){let d=l.local[f].map(A,r,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)o(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+i+1);return n}function ZU(t,e,n){if(e.isLeaf)return null;let A=n+e.nodeSize,r=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<A&&((r||(r=[])).push(s),t[i]=null);return r}function ex(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Eh(t,e,n,A){let r=[],i=!1;e.forEach((o,l)=>{let c=ZU(t,o,l+n);if(c){i=!0;let f=Eh(c,o,n+l+1,A);f!=Bn&&r.push(l,l+o.nodeSize,f)}});let s=qU(i?ex(t):t,-n).sort(Zs);for(let o=0;o<s.length;o++)s[o].type.valid(e,s[o])||(A.onRemove&&A.onRemove(s[o].spec),s.splice(o--,1));return s.length||r.length?new Ht(s,r):Bn}function Zs(t,e){return t.from-e.from||t.to-e.to}function Kw(t){let e=t;for(let n=0;n<e.length-1;n++){let A=e[n];if(A.from!=A.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==A.from){i.to!=A.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,A.to),XS(e,r+1,i.copy(A.to,i.to)));continue}else{i.from<A.to&&(e==t&&(e=t.slice()),e[n]=A.copy(A.from,i.from),XS(e,r,A.copy(i.from,A.to)));break}}}return e}function XS(t,e,n){for(;e<t.length&&Zs(n,t[e])>0;)e++;t.splice(e,0,n)}function Om(t){let e=[];return t.someProp("decorations",n=>{let A=n(t.state);A&&A!=Bn&&e.push(A)}),t.cursorWrapper&&e.push(Ht.create(t.state.doc,[t.cursorWrapper.deco])),Ii.from(e)}const xN={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},kN=Wn&&Yi<=11;class _N{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class IN{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _N,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(A=>{for(let r=0;r<A.length;r++)this.queue.push(A[r]);Wn&&Yi<=11&&A.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),kN&&(this.onCharData=A=>{this.queue.push({target:A.target,type:"characterData",oldValue:A.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xN)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RS(this.view)){if(this.suppressingSelectionUpdates)return jr(this.view);if(Wn&&Yi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&co(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,A;for(let i=e.focusNode;i;i=Ju(i))n.add(i);for(let i=e.anchorNode;i;i=Ju(i))if(n.has(i)){A=i;break}let r=A&&this.view.docView.nearestDesc(A);if(r&&r.ignoreMutation({type:"selection",target:A.nodeType==3?A.parentNode:A}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let A=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(A)&&RS(e)&&!this.ignoreSelectionChange(A),i=-1,s=-1,o=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let d=this.registerMutation(n[f],l);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(o=!0))}if(JA&&l.length){let f=l.filter(d=>d.nodeName=="BR");if(f.length==2){let[d,p]=f;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of f){let g=p.parentNode;g&&g.nodeName=="LI"&&(!d||HN(e,d)!=g)&&p.remove()}}}let c=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&rg(A)&&(c=bw(e))&&c.eq(Fe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jr(e),this.currentSelection.set(A)):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,s),TN(e)),this.handleDOMChange(i,s,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(A)||jr(e),this.currentSelection.set(A))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let A=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(A==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!A||A.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let d=e.addedNodes[f];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(A.contentDOM&&A.contentDOM!=A.dom&&!A.contentDOM.contains(e.target))return{from:A.posBefore,to:A.posAfter};let r=e.previousSibling,i=e.nextSibling;if(Wn&&Yi<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:d,nextSibling:p}=e.addedNodes[f];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let s=r&&r.parentNode==e.target?An(r)+1:0,o=A.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?An(i):e.target.childNodes.length,c=A.localPosFromDOM(e.target,l,1);return{from:o,to:c}}else return e.type=="attributes"?{from:A.posAtStart-A.border,to:A.posAtEnd+A.border}:(this.lastChangedTextNode=e.target,{from:A.posAtStart,to:A.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let JS=new WeakMap,YS=!1;function TN(t){if(!JS.has(t)&&(JS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=JA,YS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),YS=!0}}function $S(t,e){let n=e.startContainer,A=e.startOffset,r=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return co(s.node,s.offset,r,i)&&([n,A,r,i]=[r,i,n,A]),{anchorNode:n,anchorOffset:A,focusNode:r,focusOffset:i}}function MN(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return $S(t,r)}let n;function A(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",A,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",A,!0),n?$S(t,n):null}function HN(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let A=t.docView.nearestDesc(n,!0);if(A&&A.node.isBlock)return n}return null}function bN(t,e,n){let{node:A,fromOffset:r,toOffset:i,from:s,to:o}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],rg(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Cn&&t.input.lastKeyCode===8)for(let F=i;F>r;F--){let v=A.childNodes[F-1],E=v.pmViewDesc;if(v.nodeName=="BR"&&!E){i=F;break}if(!E||E.size)break}let d=t.state.doc,p=t.someProp("domParser")||Ji.fromSchema(t.state.schema),g=d.resolve(s),m=null,w=p.parse(A,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:r,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:ON,context:g});if(c&&c[0].pos!=null){let F=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=F),m={anchor:F+s,head:v+s}}return{doc:w,sel:m,from:s,to:o}}function ON(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(kn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||kn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NN(t,e,n,A,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=bw(t,T);if(I&&!t.state.selection.eq(I)){if(Cn&&Kr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",P=>P(t,Ns(13,"Enter"))))return;let H=t.state.tr.setSelection(I);T=="pointer"?H.setMeta("pointer",!0):T=="key"&&H.scrollIntoView(),i&&H.setMeta("composition",i),t.dispatch(H)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(n);e=s.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,c=bN(t,e,n),f=t.state.doc,d=f.slice(c.from,c.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let m=PN(d.content,c.doc.content,c.from,p,g);if(m&&t.input.domChangeCount++,(Pl&&t.input.lastIOSEnter>Date.now()-225||Kr)&&r.some(T=>T.nodeType==1&&!DN.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,Ns(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(A&&l instanceof ye&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let T=qS(t,t.state.doc,c.sel);if(T&&!T.eq(t.state.selection)){let I=t.state.tr.setSelection(T);i&&I.setMeta("composition",i),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof ye&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Wn&&Yi<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let w=c.doc.resolveNoCache(m.start-c.from),F=c.doc.resolveNoCache(m.endB-c.from),v=f.resolve(m.start),E=w.sameParent(F)&&w.parent.inlineContent&&v.end()>=m.endA,C;if((Pl&&t.input.lastIOSEnter>Date.now()-225&&(!E||r.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!E&&w.pos<c.doc.content.size&&!w.sameParent(F)&&(C=Fe.findFrom(c.doc.resolve(w.pos+1),1,!0))&&C.head==F.pos)&&t.someProp("handleKeyDown",T=>T(t,Ns(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&RN(f,m.start,m.endA,w,F)&&t.someProp("handleKeyDown",T=>T(t,Ns(8,"Backspace")))){Kr&&Cn&&t.domObserver.suppressSelectionUpdates();return}Cn&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Kr&&!E&&w.start()!=F.start()&&F.parentOffset==0&&w.depth==F.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,F=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Ns(13,"Enter"))})},20));let Q=m.start,U=m.endA,x,M,k;if(E){if(w.pos==F.pos)Wn&&Yi<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>jr(t),20)),x=t.state.tr.delete(Q,U),M=f.resolve(m.start).marksAcross(f.resolve(m.endA));else if(m.endA==m.endB&&(k=LN(w.parent.content.cut(w.parentOffset,F.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))x=t.state.tr,k.type=="add"?x.addMark(Q,U,k.mark):x.removeMark(Q,U,k.mark);else if(w.parent.child(w.index()).isText&&w.index()==F.index()-(F.textOffset?0:1)){let T=w.parent.textBetween(w.parentOffset,F.parentOffset);if(t.someProp("handleTextInput",I=>I(t,Q,U,T)))return;x=t.state.tr.insertText(T,Q,U)}}if(x||(x=t.state.tr.replace(Q,U,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let T=qS(t,x.doc,c.sel);T&&!(Cn&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==Q||T.head==x.mapping.map(U)-1)||Wn&&T.empty&&T.head==Q)&&x.setSelection(T)}M&&x.ensureMarks(M),i&&x.setMeta("composition",i),t.dispatch(x.scrollIntoView())}function qS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ow(t,e.resolve(n.anchor),e.resolve(n.head))}function LN(t,e){let n=t.firstChild.marks,A=e.firstChild.marks,r=n,i=A,s,o,l;for(let f=0;f<A.length;f++)r=A[f].removeFromSet(r);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(r.length==1&&i.length==0)o=r[0],s="add",l=f=>f.mark(o.addToSet(f.marks));else if(r.length==0&&i.length==1)o=i[0],s="remove",l=f=>f.mark(o.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(G.from(c).eq(t))return{mark:o,type:s}}function RN(t,e,n,A,r){if(n-e<=r.pos-A.pos||Dm(A,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!A.parent.isTextblock){let o=i.nodeAfter;return o!=null&&n==e+o.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Dm(i,!0,!0));return!s.parent.isTextblock||s.pos>n||Dm(s,!0,!1)<n?!1:A.parent.content.cut(A.parentOffset).eq(s.parent.content)}function Dm(t,e,n){let A=t.depth,r=e?t.end():t.pos;for(;A>0&&(e||t.indexAfter(A)==t.node(A).childCount);)A--,r++,e=!1;if(n){let i=t.node(A).maybeChild(t.indexAfter(A));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function PN(t,e,n,A,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let l=Math.max(0,i-Math.min(s,o));A-=s+l-i}if(s<i&&t.size<e.size){let l=A<=i&&A>=s?i-A:0;i-=l,i&&i<e.size&&ZS(e.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-s),s=i}else if(o<i){let l=A<=i&&A>=o?i-A:0;i-=l,i&&i<t.size&&ZS(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-o),o=i}return{start:i,endA:s,endB:o}}function ZS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class KN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new oN,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rF),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nF(this),tF(this),this.nodeViews=AF(this),this.docView=HS(this.state.doc,eF(this),Om(this),this.dom,this),this.domObserver=new IN(this,(A,r,i,s)=>NN(this,A,r,i,s)),this.domObserver.start(),lN(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&RB(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rF),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let A in this._props)n[A]=this._props[A];n.state=this.state;for(let A in e)n[A]=e[A];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var A;let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(XU(this),s=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=AF(this);VN(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&RB(this),this.editable=nF(this),tF(this);let l=Om(this),c=eF(this),f=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(r.selection))&&(s=!0);let p=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&vD(this);if(s){this.domObserver.stop();let g=d&&(Wn||Cn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&GN(r.selection,e.selection);if(d){let m=Cn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=CN(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=HS(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WD(this))?jr(this,g):(OU(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((A=this.dragging)===null||A===void 0)&&A.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&SD(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&xS(this,n.getBoundingClientRect(),e)}else xS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let A=this.directPlugins[n];A.spec.view&&this.pluginViews.push(A.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let A=this.state.plugins[n];A.spec.view&&this.pluginViews.push(A.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let A=this.pluginViews[n];A.update&&A.update(this,e)}}updateDraggedNode(e,n){let A=e.node,r=-1;if(this.state.doc.nodeAt(A.from)==A.node)r=A.from;else{let i=A.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==A.node&&(r=i)}this.dragging=new YU(e.slice,e.move,r<0?void 0:pe.create(this.state.doc,r))}someProp(e,n){let A=this._props&&this._props[e],r;if(A!=null&&(r=n?n(A):A))return r;for(let s=0;s<this.directPlugins.length;s++){let o=this.directPlugins[s].props[e];if(o!=null&&(r=n?n(o):o))return r}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let o=i[s].props[e];if(o!=null&&(r=n?n(o):o))return r}}hasFocus(){if(Wn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&FD(this.dom),jr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return kD(this,e)}coordsAtPos(e,n=1){return xU(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,A=-1){let r=this.docView.posFromDOM(e,n,A);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return HD(this,n||this.state,e)}pasteHTML(e,n){return $u(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $u(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Dw(this,e)}destroy(){this.docView&&(aN(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Om(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,cD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return cN(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?kn&&this.root.nodeType===11&&gD(this.dom.ownerDocument)==this.dom&&MN(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function eF(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let A in n)A=="class"?e.class+=" "+n[A]:A=="style"?e.style=(e.style?e.style+";":"")+n[A]:!e[A]&&A!="contenteditable"&&A!="nodeName"&&(e[A]=String(n[A]))}),e.translate||(e.translate="no"),[vA.node(0,t.state.doc.content.size,e)]}function tF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vA.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function nF(t){return!t.someProp("editable",e=>e(t.state)===!1)}function GN(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function AF(t){let e=Object.create(null);function n(A){for(let r in A)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=A[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function VN(t,e){let n=0,A=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)A++;return n!=A}function rF(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var is={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zN=typeof navigator<"u"&&/Mac/.test(navigator.platform),WN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rn=0;rn<10;rn++)is[48+rn]=is[96+rn]=String(rn);for(var rn=1;rn<=24;rn++)is[rn+111]="F"+rn;for(var rn=65;rn<=90;rn++)is[rn]=String.fromCharCode(rn+32),Qh[rn]=String.fromCharCode(rn);for(var Nm in is)Qh.hasOwnProperty(Nm)||(Qh[Nm]=is[Nm]);function jN(t){var e=zN&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||WN&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Qh:is)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const XN=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function JN(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let A,r,i,s;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))A=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))XN?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return A&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function YN(t){let e=Object.create(null);for(let n in t)e[JN(n)]=t[n];return e}function Lm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function $N(t){return new jn({props:{handleKeyDown:tx(t)}})}function tx(t){let e=YN(t);return function(n,A){let r=jN(A),i,s=e[Lm(r,A)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(A.shiftKey){let o=e[Lm(r,A,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((A.shiftKey||A.altKey||A.metaKey||r.charCodeAt(0)>127)&&(i=is[A.keyCode])&&i!=r){let o=e[Lm(i,A)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}const qN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function nx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const ZN=(t,e,n)=>{let A=nx(t,n);if(!A)return!1;let r=Gw(A);if(!r){let s=A.blockRange(),o=s&&na(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)}let i=r.nodeBefore;if(sx(t,r,e,-1))return!0;if(A.parent.content.size==0&&(Kl(i,"end")||pe.isSelectable(i)))for(let s=A.depth;;s--){let o=ng(t.doc,A.before(s),A.after(s),te.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Kl(i,"end")?Fe.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):pe.create(l.doc,r.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||A.node(s-1).childCount>1)break}return i.isAtom&&r.depth==A.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},eL=(t,e,n)=>{let A=nx(t,n);if(!A)return!1;let r=Gw(A);return r?Ax(t,r,e):!1},tL=(t,e,n)=>{let A=rx(t,n);if(!A)return!1;let r=Vw(A);return r?Ax(t,r,e):!1};function Ax(t,e,n){let A=e.nodeBefore,r=A,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let f=r.lastChild;if(!f)return!1;r=f}let s=e.nodeAfter,o=s,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let f=o.firstChild;if(!f)return!1;o=f}let c=ng(t.doc,i,l,te.empty);if(!c||c.from!=i||c instanceof Wt&&c.slice.size>=l-i)return!1;if(n){let f=t.tr.step(c);f.setSelection(ye.create(f.doc,i)),n(f.scrollIntoView())}return!0}function Kl(t,e,n=!1){for(let A=t;A;A=e=="start"?A.firstChild:A.lastChild){if(A.isTextblock)return!0;if(n&&A.childCount!=1)return!1}return!1}const nL=(t,e,n)=>{let{$head:A,empty:r}=t.selection,i=A;if(!r)return!1;if(A.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):A.parentOffset>0)return!1;i=Gw(A)}let s=i&&i.nodeBefore;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function Gw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function rx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const AL=(t,e,n)=>{let A=rx(t,n);if(!A)return!1;let r=Vw(A);if(!r)return!1;let i=r.nodeAfter;if(sx(t,r,e,1))return!0;if(A.parent.content.size==0&&(Kl(i,"start")||pe.isSelectable(i))){let s=ng(t.doc,A.before(),A.after(),te.empty);if(s&&s.slice.size<s.to-s.from){if(e){let o=t.tr.step(s);o.setSelection(Kl(i,"start")?Fe.findFrom(o.doc.resolve(o.mapping.map(r.pos)),1):pe.create(o.doc,o.mapping.map(r.pos))),e(o.scrollIntoView())}return!0}}return i.isAtom&&r.depth==A.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},rL=(t,e,n)=>{let{$head:A,empty:r}=t.selection,i=A;if(!r)return!1;if(A.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):A.parentOffset<A.parent.content.size)return!1;i=Vw(A)}let s=i&&i.nodeAfter;return!s||!pe.isSelectable(s)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,i.pos)).scrollIntoView()),!0)};function Vw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const iL=(t,e)=>{let n=t.selection,A=n instanceof pe,r;if(A){if(n.node.isTextblock||!Bs(t.doc,n.from))return!1;r=n.from}else if(r=tg(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);A&&i.setSelection(pe.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},sL=(t,e)=>{let n=t.selection,A;if(n instanceof pe){if(n.node.isTextblock||!Bs(t.doc,n.to))return!1;A=n.to}else if(A=tg(t.doc,n.to,1),A==null)return!1;return e&&e(t.tr.join(A).scrollIntoView()),!0},oL=(t,e)=>{let{$from:n,$to:A}=t.selection,r=n.blockRange(A),i=r&&na(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},lL=(t,e)=>{let{$head:n,$anchor:A}=t.selection;return!n.parent.type.spec.code||!n.sameParent(A)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ix(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const aL=(t,e)=>{let{$head:n,$anchor:A}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(A))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=ix(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(e){let o=n.after(),l=t.tr.replaceWith(o,o,s.createAndFill());l.setSelection(Fe.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},uL=(t,e)=>{let n=t.selection,{$from:A,$to:r}=n;if(n instanceof QA||A.parent.inlineContent||r.parent.inlineContent)return!1;let i=ix(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!A.parentOffset&&r.index()<r.parent.childCount?A:r).pos,o=t.tr.insert(s,i.createAndFill());o.setSelection(ye.create(o.doc,s+1)),e(o.scrollIntoView())}return!0},cL=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Fl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let A=n.blockRange(),r=A&&na(A);return r==null?!1:(e&&e(t.tr.lift(A,r).scrollIntoView()),!0)},fL=(t,e)=>{let{$from:n,to:A}=t.selection,r,i=n.sharedDepth(A);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(pe.create(t.doc,r))),!0)};function dL(t,e,n){let A=e.nodeBefore,r=e.nodeAfter,i=e.index();return!A||!r||!A.type.compatibleContent(r.type)?!1:!A.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-A.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Bs(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sx(t,e,n,A){let r=e.nodeBefore,i=e.nodeAfter,s,o,l=r.type.spec.isolating||i.type.spec.isolating;if(!l&&dL(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,m=G.empty;for(let v=s.length-1;v>=0;v--)m=G.from(s[v].create(null,m));m=G.from(r.copy(m));let w=t.tr.step(new Xt(e.pos-1,g,e.pos,g,new te(m,1,0),s.length,!0)),F=w.doc.resolve(g+2*s.length);F.nodeAfter&&F.nodeAfter.type==r.type&&Bs(w.doc,F.pos)&&w.join(F.pos),n(w.scrollIntoView())}return!0}let f=i.type.spec.isolating||A>0&&l?null:Fe.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),p=d&&na(d);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&Kl(i,"start",!0)&&Kl(r,"end")){let g=r,m=[];for(;m.push(g),!g.isTextblock;)g=g.lastChild;let w=i,F=1;for(;!w.isTextblock;w=w.firstChild)F++;if(g.canReplace(g.childCount,g.childCount,w.content)){if(n){let v=G.empty;for(let C=m.length-1;C>=0;C--)v=G.from(m[C].copy(v));let E=t.tr.step(new Xt(e.pos-m.length,e.pos+i.nodeSize,e.pos+F,e.pos+i.nodeSize-F,new te(v,m.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function ox(t){return function(e,n){let A=e.selection,r=t<0?A.$from:A.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const hL=ox(-1),pL=ox(1);function gL(t,e=null){return function(n,A){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),o=s&&Tw(s,t,e);return o?(A&&A(n.tr.wrap(s,o).scrollIntoView()),!0):!1}}function iF(t,e=null){return function(n,A){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:s},$to:{pos:o}}=n.selection.ranges[i];n.doc.nodesBetween(s,o,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)r=!0;else{let f=n.doc.resolve(c),d=f.index();r=f.parent.canReplaceWith(d,d+1,t)}})}if(!r)return!1;if(A){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(o,l,t,e)}A(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mL(t,e=null){return function(n,A){let{$from:r,$to:i}=n.selection,s=r.blockRange(i);if(!s)return!1;let o=A?n.tr:null;return BL(o,s,t,e)?(A&&A(o.scrollIntoView()),!0):!1}}function BL(t,e,n,A=null){let r=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);i=new yh(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new yh(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let o=Tw(i,n,A,e);return o?(t&&yL(t,e,o,r,n),!0):!1}function yL(t,e,n,A,r){let i=G.empty;for(let f=n.length-1;f>=0;f--)i=G.from(n[f].type.create(n[f].attrs,i));t.step(new Xt(e.start-(A?2:0),e.end,e.start,e.end,new te(i,0,0),n.length,!0));let s=0;for(let f=0;f<n.length;f++)n[f].type==r&&(s=f+1);let o=n.length-s,l=e.start+n.length-(A?2:0),c=e.parent;for(let f=e.startIndex,d=e.endIndex,p=!0;f<d;f++,p=!1)!p&&Fl(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=c.child(f).nodeSize;return t}function wL(t){return function(e,n){let{$from:A,$to:r}=e.selection,i=A.blockRange(r,s=>s.childCount>0&&s.firstChild.type==t);return i?n?A.node(i.depth-1).type==t?CL(e,n,t,i):vL(e,n,i):!0:!1}}function CL(t,e,n,A){let r=t.tr,i=A.end,s=A.$to.end(A.depth);i<s&&(r.step(new Xt(i-1,s,i,s,new te(G.from(n.create(null,A.parent.copy())),1,0),1,!0)),A=new yh(r.doc.resolve(A.$from.pos),r.doc.resolve(s),A.depth));const o=na(A);if(o==null)return!1;r.lift(A,o);let l=r.mapping.map(i,-1)-1;return Bs(r.doc,l)&&r.join(l),e(r.scrollIntoView()),!0}function vL(t,e,n){let A=t.tr,r=n.parent;for(let g=n.end,m=n.endIndex-1,w=n.startIndex;m>w;m--)g-=r.child(m).nodeSize,A.delete(g-1,g+1);let i=A.doc.resolve(n.start),s=i.nodeAfter;if(A.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,l=n.endIndex==r.childCount,c=i.node(-1),f=i.index(-1);if(!c.canReplace(f+(o?0:1),f+1,s.content.append(l?G.empty:G.from(r))))return!1;let d=i.pos,p=d+s.nodeSize;return A.step(new Xt(d-(o?1:0),p+(l?1:0),d+1,p-1,new te((o?G.empty:G.from(r.copy(G.empty))).append(l?G.empty:G.from(r.copy(G.empty))),o?0:1,l?0:1),o?0:1)),e(A.scrollIntoView()),!0}function SL(t){return function(e,n){let{$from:A,$to:r}=e.selection,i=A.blockRange(r,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let o=i.parent,l=o.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==o.type,f=G.from(c?t.create():null),d=new te(G.from(t.create(null,G.from(o.type.create(null,f)))),c?3:1,0),p=i.start,g=i.end;n(e.tr.step(new Xt(p-(c?3:1),g,p,g,d,1,!0)).scrollIntoView())}return!0}}function og(t){const{state:e,transaction:n}=t;let{selection:A}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return A},get doc(){return r},get tr(){return A=n.selection,r=n.doc,i=n.storedMarks,n}}}class lg{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:A}=this,{view:r}=n,{tr:i}=A,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...f)=>{const d=l(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:A,editor:r,state:i}=this,{view:s}=r,o=[],l=!!e,c=e||i.tr,f=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),o.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(A).map(([p,g])=>[p,(...w)=>{const F=this.buildProps(c,n),v=g(...w)(F);return o.push(v),d}])),run:f};return d}createCan(e){const{rawCommands:n,state:A}=this,r=!1,i=e||A.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>c(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,n=!0){const{rawCommands:A,editor:r,state:i}=this,{view:s}=r,o={tr:e,editor:r,view:s,state:og({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(A).map(([l,c])=>[l,(...f)=>c(...f)(o)]))}};return o}}class FL{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const A=this.callbacks[e];return A&&A.forEach(r=>r.apply(this,n)),this}off(e,n){const A=this.callbacks[e];return A&&(n?this.callbacks[e]=A.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const A=(...r)=>{this.off(e,A),n.apply(this,r)};return this.on(e,A)}removeAllListeners(){this.callbacks={}}}function le(t,e,n){return t.config[e]===void 0&&t.parent?le(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?le(t.parent,e,n):null}):t.config[e]}function ag(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),A=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:A}}function lx(t){const e=[],{nodeExtensions:n,markExtensions:A}=ag(t),r=[...n,...A],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage,extensions:r},l=le(s,"addGlobalAttributes",o);if(!l)return;l().forEach(f=>{f.types.forEach(d=>{Object.entries(f.attributes).forEach(([p,g])=>{e.push({type:d,name:p,attribute:{...i,...g}})})})})}),r.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage},l=le(s,"addAttributes",o);if(!l)return;const c=l();Object.entries(c).forEach(([f,d])=>{const p={...i,...d};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:f,attribute:p})})}),e}function Yt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function an(...t){return t.filter(e=>!!e).reduce((e,n)=>{const A={...e};return Object.entries(n).forEach(([r,i])=>{if(!A[r]){A[r]=i;return}if(r==="class"){const o=i?String(i).split(" "):[],l=A[r]?A[r].split(" "):[],c=o.filter(f=>!l.includes(f));A[r]=[...l,...c].join(" ")}else if(r==="style"){const o=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],l=A[r]?A[r].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[d,p]=f.split(":").map(g=>g.trim());c.set(d,p)}),o.forEach(f=>{const[d,p]=f.split(":").map(g=>g.trim());c.set(d,p)}),A[r]=Array.from(c.entries()).map(([f,d])=>`${f}: ${d}`).join("; ")}else A[r]=i}),A},{})}function PB(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,A)=>an(n,A),{})}function ax(t){return typeof t=="function"}function Ue(t,e=void 0,...n){return ax(t)?e?t.bind(e)(...n):t(...n):t}function EL(t={}){return Object.keys(t).length===0&&t.constructor===Object}function QL(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function sF(t,e){return"style"in t?t:{...t,getAttrs:n=>{const A=t.getAttrs?t.getAttrs(n):t.attrs;if(A===!1)return!1;const r=e.reduce((i,s)=>{const o=s.attribute.parseHTML?s.attribute.parseHTML(n):QL(n.getAttribute(s.name));return o==null?i:{...i,[s.name]:o}},{});return{...A,...r}}}}function oF(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&EL(n)?!1:n!=null))}function UL(t,e){var n;const A=lx(t),{nodeExtensions:r,markExtensions:i}=ag(t),s=(n=r.find(c=>le(c,"topNode")))===null||n===void 0?void 0:n.name,o=Object.fromEntries(r.map(c=>{const f=A.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((v,E)=>{const C=le(E,"extendNodeSchema",d);return{...v,...C?C(c):{}}},{}),g=oF({...p,content:Ue(le(c,"content",d)),marks:Ue(le(c,"marks",d)),group:Ue(le(c,"group",d)),inline:Ue(le(c,"inline",d)),atom:Ue(le(c,"atom",d)),selectable:Ue(le(c,"selectable",d)),draggable:Ue(le(c,"draggable",d)),code:Ue(le(c,"code",d)),whitespace:Ue(le(c,"whitespace",d)),linebreakReplacement:Ue(le(c,"linebreakReplacement",d)),defining:Ue(le(c,"defining",d)),isolating:Ue(le(c,"isolating",d)),attrs:Object.fromEntries(f.map(v=>{var E;return[v.name,{default:(E=v==null?void 0:v.attribute)===null||E===void 0?void 0:E.default}]}))}),m=Ue(le(c,"parseHTML",d));m&&(g.parseDOM=m.map(v=>sF(v,f)));const w=le(c,"renderHTML",d);w&&(g.toDOM=v=>w({node:v,HTMLAttributes:PB(v,f)}));const F=le(c,"renderText",d);return F&&(g.toText=F),[c.name,g]})),l=Object.fromEntries(i.map(c=>{const f=A.filter(F=>F.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((F,v)=>{const E=le(v,"extendMarkSchema",d);return{...F,...E?E(c):{}}},{}),g=oF({...p,inclusive:Ue(le(c,"inclusive",d)),excludes:Ue(le(c,"excludes",d)),group:Ue(le(c,"group",d)),spanning:Ue(le(c,"spanning",d)),code:Ue(le(c,"code",d)),attrs:Object.fromEntries(f.map(F=>{var v;return[F.name,{default:(v=F==null?void 0:F.attribute)===null||v===void 0?void 0:v.default}]}))}),m=Ue(le(c,"parseHTML",d));m&&(g.parseDOM=m.map(F=>sF(F,f)));const w=le(c,"renderHTML",d);return w&&(g.toDOM=F=>w({mark:F,HTMLAttributes:PB(F,f)})),[c.name,g]}));return new rU({topNode:s,nodes:o,marks:l})}function Rm(t,e){return e.nodes[t]||e.marks[t]||null}function lF(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function zw(t,e){const n=Eo.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const xL=(t,e=500)=>{let n="";const A=t.parentOffset;return t.parent.nodesBetween(Math.max(0,A-e),A,(r,i,s,o)=>{var l,c;const f=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:i,parent:s,index:o}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?f:f.slice(0,Math.max(0,A-i))}),n};function Ww(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class ug{constructor(e){this.find=e.find,this.handler=e.handler}}const kL=(t,e)=>{if(Ww(e))return e.exec(t);const n=e(t);if(!n)return null;const A=[n.text];return A.index=n.index,A.input=t,A.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),A.push(n.replaceWith)),A};function Rf(t){var e;const{editor:n,from:A,to:r,text:i,rules:s,plugin:o}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(A);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const d=xL(c)+i;return s.forEach(p=>{if(f)return;const g=kL(d,p.find);if(!g)return;const m=l.state.tr,w=og({state:l.state,transaction:m}),F={from:A-(g[0].length-i.length),to:r},{commands:v,chain:E,can:C}=new lg({editor:n,state:w});p.handler({state:w,range:F,match:g,commands:v,chain:E,can:C})===null||!m.steps.length||(m.setMeta(o,{transform:m,from:A,to:r,text:i}),l.dispatch(m),f=!0)}),f}function _L(t){const{editor:e,rules:n}=t,A=new jn({state:{init(){return null},apply(r,i,s){const o=r.getMeta(A);if(o)return o;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=zw(G.from(f),s.schema);const{from:d}=l,p=d+f.length;Rf({editor:e,from:d,to:p,text:f,rules:n,plugin:A})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,s,o){return Rf({editor:e,from:i,to:s,text:o,rules:n,plugin:A})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Rf({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:A})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?Rf({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:A}):!1}},isInputRules:!0});return A}function IL(t){return Object.prototype.toString.call(t).slice(8,-1)}function Pf(t){return IL(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function cg(t,e){const n={...t};return Pf(t)&&Pf(e)&&Object.keys(e).forEach(A=>{Pf(e[A])&&Pf(t[A])?n[A]=cg(t[A],e[A]):n[A]=e[A]}),n}class yr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(le(this,"addOptions",{name:this.name}))),this.storage=Ue(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>cg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new yr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ue(le(n,"addOptions",{name:n.name})),n.storage=Ue(le(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:A}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&A.removeStoredMark(l),A.insertText(" ",r.pos),e.view.dispatch(A),!0}return!1}}function TL(t){return typeof t=="number"}class ML{constructor(e){this.find=e.find,this.handler=e.handler}}const HL=(t,e,n)=>{if(Ww(e))return[...t.matchAll(e)];const A=e(t,n);return A?A.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function bL(t){const{editor:e,state:n,from:A,to:r,rule:i,pasteEvent:s,dropEvent:o}=t,{commands:l,chain:c,can:f}=new lg({editor:e,state:n}),d=[];return n.doc.nodesBetween(A,r,(g,m)=>{if(!g.isTextblock||g.type.spec.code)return;const w=Math.max(A,m),F=Math.min(r,m+g.content.size),v=g.textBetween(w-m,F-m,void 0,"");HL(v,i.find,s).forEach(C=>{if(C.index===void 0)return;const Q=w+C.index+1,U=Q+C[0].length,x={from:n.tr.mapping.map(Q),to:n.tr.mapping.map(U)},M=i.handler({state:n,range:x,match:C,commands:l,chain:c,can:f,pasteEvent:s,dropEvent:o});d.push(M)})}),d.every(g=>g!==null)}let Kf=null;const OL=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function DL(t){const{editor:e,rules:n}=t;let A=null,r=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:f,from:d,to:p,rule:g,pasteEvt:m})=>{const w=f.tr,F=og({state:f,transaction:w});if(!(!bL({editor:e,state:F,from:Math.max(d-1,0),to:p.b-1,rule:g,pasteEvent:m,dropEvent:o})||!w.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new jn({view(d){const p=m=>{var w;A=!((w=d.dom.parentElement)===null||w===void 0)&&w.contains(m.target)?d.dom.parentElement:null,A&&(Kf=e)},g=()=>{Kf&&(Kf=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(d,p)=>{if(i=A===d.dom.parentElement,o=p,!i){const g=Kf;g&&setTimeout(()=>{const m=g.state.selection;m&&g.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,p)=>{var g;const m=(g=p.clipboardData)===null||g===void 0?void 0:g.getData("text/html");return s=p,r=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,p,g)=>{const m=d[0],w=m.getMeta("uiEvent")==="paste"&&!r,F=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),E=!!v;if(!w&&!F&&!E)return;if(E){let{text:U}=v;typeof U=="string"?U=U:U=zw(G.from(U),g.schema);const{from:x}=v,M=x+U.length,k=OL(U);return l({rule:f,state:g,from:x,to:{b:M},pasteEvt:k})}const C=p.doc.content.findDiffStart(g.doc.content),Q=p.doc.content.findDiffEnd(g.doc.content);if(!(!TL(C)||!Q||C===Q.b))return l({rule:f,state:g,from:C,to:Q,pasteEvt:s})}}))}function NL(t){const e=t.filter((n,A)=>t.indexOf(n)!==A);return Array.from(new Set(e))}class pl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=pl.resolve(e),this.schema=UL(this.extensions,n),this.setupExtensions()}static resolve(e){const n=pl.sort(pl.flatten(e)),A=NL(n.map(r=>r.name));return A.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${A.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const A={name:n.name,options:n.options,storage:n.storage},r=le(n,"addExtensions",A);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((A,r)=>{const i=le(A,"priority")||100,s=le(r,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const A={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Rm(n.name,this.schema)},r=le(n,"addCommands",A);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=pl.sort([...this.extensions].reverse()),A=[],r=[],i=n.map(s=>{const o={name:s.name,options:s.options,storage:s.storage,editor:e,type:Rm(s.name,this.schema)},l=[],c=le(s,"addKeyboardShortcuts",o);let f={};if(s.type==="mark"&&le(s,"exitable",o)&&(f.ArrowRight=()=>yr.handleExit({editor:e,mark:s})),c){const w=Object.fromEntries(Object.entries(c()).map(([F,v])=>[F,()=>v({editor:e})]));f={...f,...w}}const d=$N(f);l.push(d);const p=le(s,"addInputRules",o);lF(s,e.options.enableInputRules)&&p&&A.push(...p());const g=le(s,"addPasteRules",o);lF(s,e.options.enablePasteRules)&&g&&r.push(...g());const m=le(s,"addProseMirrorPlugins",o);if(m){const w=m();l.push(...w)}return l}).flat();return[_L({editor:e,rules:A}),...DL({editor:e,rules:r}),...i]}get attributes(){return lx(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ag(this.extensions);return Object.fromEntries(n.filter(A=>!!le(A,"addNodeView")).map(A=>{const r=this.attributes.filter(l=>l.type===A.name),i={name:A.name,options:A.options,storage:A.storage,editor:e,type:Yt(A.name,this.schema)},s=le(A,"addNodeView",i);if(!s)return[];const o=(l,c,f,d,p)=>{const g=PB(l,r);return s()({node:l,view:c,getPos:f,decorations:d,innerDecorations:p,editor:e,extension:A,HTMLAttributes:g})};return[A.name,o]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const A={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Rm(e.name,this.schema)};e.type==="mark"&&(!((n=Ue(le(e,"keepOnSplit",A)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=le(e,"onBeforeCreate",A),i=le(e,"onCreate",A),s=le(e,"onUpdate",A),o=le(e,"onSelectionUpdate",A),l=le(e,"onTransaction",A),c=le(e,"onFocus",A),f=le(e,"onBlur",A),d=le(e,"onDestroy",A);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),s&&this.editor.on("update",s),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),d&&this.editor.on("destroy",d)})}}class Dt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(le(this,"addOptions",{name:this.name}))),this.storage=Ue(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>cg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Dt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ue(le(n,"addOptions",{name:n.name})),n.storage=Ue(le(n,"addStorage",{name:n.name,options:n.options})),n}}function ux(t,e,n){const{from:A,to:r}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let o="";return t.nodesBetween(A,r,(l,c,f,d)=>{var p;l.isBlock&&c>A&&(o+=i);const g=s==null?void 0:s[l.type.name];if(g)return f&&(o+=g({node:l,pos:c,parent:f,index:d,range:e})),!1;l.isText&&(o+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(A,c)-c,r-c))}),o}function cx(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const LL=Dt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jn({key:new vr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:A,selection:r}=e,{ranges:i}=r,s=Math.min(...i.map(f=>f.$from.pos)),o=Math.max(...i.map(f=>f.$to.pos)),l=cx(n);return ux(A,{from:s,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),RL=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),PL=(t=!1)=>({commands:e})=>e.setContent("",t),KL=()=>({state:t,tr:e,dispatch:n})=>{const{selection:A}=e,{ranges:r}=A;return n&&r.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(o,l)=>{if(o.type.isText)return;const{doc:c,mapping:f}=e,d=c.resolve(f.map(l)),p=c.resolve(f.map(l+o.nodeSize)),g=d.blockRange(p);if(!g)return;const m=na(g);if(o.type.isTextblock){const{defaultType:w}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(g.start,w)}(m||m===0)&&e.lift(g,m)})}),!0},GL=t=>e=>t(e),VL=()=>({state:t,dispatch:e})=>uL(t,e),zL=(t,e)=>({editor:n,tr:A})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);A.deleteRange(t.from,t.to);const s=A.mapping.map(e);return A.insert(s,i.content),A.setSelection(new ye(A.doc.resolve(s-1))),!0},WL=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,A=n.$anchor.node();if(A.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===A.type){if(e){const o=r.before(i),l=r.after(i);t.delete(o,l).scrollIntoView()}return!0}return!1},jL=t=>({tr:e,state:n,dispatch:A})=>{const r=Yt(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r){if(A){const l=i.before(s),c=i.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},XL=t=>({tr:e,dispatch:n})=>{const{from:A,to:r}=t;return n&&e.delete(A,r),!0},JL=()=>({state:t,dispatch:e})=>qN(t,e),YL=()=>({commands:t})=>t.keyboardShortcut("Enter"),$L=()=>({state:t,dispatch:e})=>aL(t,e);function Uh(t,e,n={strict:!0}){const A=Object.keys(e);return A.length?A.every(r=>n.strict?e[r]===t[r]:Ww(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function fx(t,e,n={}){return t.find(A=>A.type===e&&Uh(Object.fromEntries(Object.keys(n).map(r=>[r,A.attrs[r]])),n))}function aF(t,e,n={}){return!!fx(t,e,n)}function jw(t,e,n){var A;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===e)||(n=n||((A=r.node.marks[0])===null||A===void 0?void 0:A.attrs),!fx([...r.node.marks],e,n)))return;let s=r.index,o=t.start()+r.offset,l=s+1,c=o+r.node.nodeSize;for(;s>0&&aF([...t.parent.child(s-1).marks],e,n);)s-=1,o-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&aF([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:c}}function ws(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const qL=(t,e={})=>({tr:n,state:A,dispatch:r})=>{const i=ws(t,A.schema),{doc:s,selection:o}=n,{$from:l,from:c,to:f}=o;if(r){const d=jw(l,i,e);if(d&&d.from<=c&&d.to>=f){const p=ye.create(s,d.from,d.to);n.setSelection(p)}}return!0},ZL=t=>e=>{const n=typeof t=="function"?t(e):t;for(let A=0;A<n.length;A+=1)if(n[A](e))return!0;return!1};function dx(t){return t instanceof ye}function Ws(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function hx(t,e=null){if(!e)return null;const n=Fe.atStart(t),A=Fe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return A;const r=n.from,i=A.to;return e==="all"?ye.create(t,Ws(0,r,i),Ws(t.content.size,r,i)):ye.create(t,Ws(e,r,i),Ws(e,r,i))}function eR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Xw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const tR=(t=null,e={})=>({editor:n,view:A,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(Xw()||eR())&&A.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(A.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(A.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!dx(n.state.selection))return s(),!0;const o=hx(r.doc,t)||n.state.selection,l=n.state.selection.eq(o);return i&&(l||r.setSelection(o),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},nR=(t,e)=>n=>t.every((A,r)=>e(A,{...n,index:r})),AR=(t,e)=>({tr:n,commands:A})=>A.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),px=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const A=e[n];A.nodeType===3&&A.nodeValue&&/^(\n\s\s|\n)$/.test(A.nodeValue)?t.removeChild(A):A.nodeType===1&&px(A)}return t};function Gf(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return px(n)}function xh(t,e,n){if(t instanceof Xi||t instanceof G)return t;n={slice:!0,parseOptions:{},...n};const A=typeof t=="object"&&t!==null,r=typeof t=="string";if(A)try{if(Array.isArray(t)&&t.length>0)return G.fromArray(t.map(o=>e.nodeFromJSON(o)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),xh("",e,n)}if(r){if(n.errorOnInvalidContent){let s=!1,o="";const l=new rU({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Ji.fromSchema(l).parseSlice(Gf(t),n.parseOptions):Ji.fromSchema(l).parse(Gf(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const i=Ji.fromSchema(e);return n.slice?i.parseSlice(Gf(t),n.parseOptions).content:i.parse(Gf(t),n.parseOptions)}return xh("",e,n)}function rR(t,e,n){const A=t.steps.length-1;if(A<e)return;const r=t.steps[A];if(!(r instanceof Wt||r instanceof Xt))return;const i=t.mapping.maps[A];let s=0;i.forEach((o,l,c,f)=>{s===0&&(s=f)}),t.setSelection(Fe.near(t.doc.resolve(s),n))}const iR=t=>!("type"in t),sR=(t,e,n)=>({tr:A,dispatch:r,editor:i})=>{var s;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;try{o=xh(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,d=!0;if((iR(o)?o:[o]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=A.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let g;if(f){if(Array.isArray(e))g=e.map(m=>m.text||"").join("");else if(e instanceof G){let m="";e.forEach(w=>{w.text&&(m+=w.text)}),g=m}else typeof e=="object"&&e&&e.text?g=e.text:g=e;A.insertText(g,l,c)}else g=o,A.replaceWith(l,c,g);n.updateSelection&&rR(A,A.steps.length-1,-1),n.applyInputRules&&A.setMeta("applyInputRules",{from:l,text:g}),n.applyPasteRules&&A.setMeta("applyPasteRules",{from:l,text:g})}return!0},oR=()=>({state:t,dispatch:e})=>iL(t,e),lR=()=>({state:t,dispatch:e})=>sL(t,e),aR=()=>({state:t,dispatch:e})=>ZN(t,e),uR=()=>({state:t,dispatch:e})=>AL(t,e),cR=()=>({state:t,dispatch:e,tr:n})=>{try{const A=tg(t.doc,t.selection.$from.pos,-1);return A==null?!1:(n.join(A,2),e&&e(n),!0)}catch{return!1}},fR=()=>({state:t,dispatch:e,tr:n})=>{try{const A=tg(t.doc,t.selection.$from.pos,1);return A==null?!1:(n.join(A,2),e&&e(n),!0)}catch{return!1}},dR=()=>({state:t,dispatch:e})=>eL(t,e),hR=()=>({state:t,dispatch:e})=>tL(t,e);function gx(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pR(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let A,r,i,s;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))A=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Xw()||gx()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return A&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const gR=t=>({editor:e,view:n,tr:A,dispatch:r})=>{const i=pR(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,o))});return l==null||l.steps.forEach(c=>{const f=c.map(A.mapping);f&&r&&A.maybeStep(f)}),!0};function Zu(t,e,n={}){const{from:A,to:r,empty:i}=t.selection,s=e?Yt(e,t.schema):null,o=[];t.doc.nodesBetween(A,r,(d,p)=>{if(d.isText)return;const g=Math.max(A,p),m=Math.min(r,p+d.nodeSize);o.push({node:d,from:g,to:m})});const l=r-A,c=o.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Uh(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}const mR=(t,e={})=>({state:n,dispatch:A})=>{const r=Yt(t,n.schema);return Zu(n,r,e)?oL(n,A):!1},BR=()=>({state:t,dispatch:e})=>cL(t,e),yR=t=>({state:e,dispatch:n})=>{const A=Yt(t,e.schema);return wL(A)(e,n)},wR=()=>({state:t,dispatch:e})=>lL(t,e);function fg(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function uF(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((A,r)=>(n.includes(r)||(A[r]=t[r]),A),{})}const CR=(t,e)=>({tr:n,state:A,dispatch:r})=>{let i=null,s=null;const o=fg(typeof t=="string"?t:t.name,A.schema);return o?(o==="node"&&(i=Yt(t,A.schema)),o==="mark"&&(s=ws(t,A.schema)),r&&n.selection.ranges.forEach(l=>{A.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,f)=>{i&&i===c.type&&n.setNodeMarkup(f,void 0,uF(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(f,f+c.nodeSize,s.create(uF(d.attrs,e)))})})}),!0):!1},vR=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),SR=()=>({tr:t,dispatch:e})=>{if(e){const n=new QA(t.doc);t.setSelection(n)}return!0},FR=()=>({state:t,dispatch:e})=>nL(t,e),ER=()=>({state:t,dispatch:e})=>rL(t,e),QR=()=>({state:t,dispatch:e})=>fL(t,e),UR=()=>({state:t,dispatch:e})=>pL(t,e),xR=()=>({state:t,dispatch:e})=>hL(t,e);function KB(t,e,n={},A={}){return xh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:A.errorOnInvalidContent})}const kR=(t,e=!1,n={},A={})=>({editor:r,tr:i,dispatch:s,commands:o})=>{var l,c;const{doc:f}=i;if(n.preserveWhitespace!=="full"){const d=KB(t,r.schema,n,{errorOnInvalidContent:(l=A.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return s&&i.replaceWith(0,f.content.size,d).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),o.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=A.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function mx(t,e){const n=ws(e,t.schema),{from:A,to:r,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(A,r,l=>{s.push(...l.marks)});const o=s.find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function _R(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function IR(t,e){for(let n=t.depth;n>0;n-=1){const A=t.node(n);if(e(A))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:A}}}function Jw(t){return e=>IR(e.$from,t)}function TR(t,e){const n={from:0,to:t.content.size};return ux(t,n,e)}function MR(t,e){const n=Yt(e,t.schema),{from:A,to:r}=t.selection,i=[];t.doc.nodesBetween(A,r,o=>{i.push(o)});const s=i.reverse().find(o=>o.type.name===n.name);return s?{...s.attrs}:{}}function HR(t,e){const n=fg(typeof e=="string"?e:e.name,t.schema);return n==="node"?MR(t,e):n==="mark"?mx(t,e):{}}function Bx(t,e,n){const A=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),s=jw(i,r.type);s&&A.push({mark:r,...s})}):n.nodesBetween(t,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||A.push(...r.marks.map(s=>({from:i,to:i+r.nodeSize,mark:s})))}),A}function _d(t,e,n){return Object.fromEntries(Object.entries(n).filter(([A])=>{const r=t.find(i=>i.type===e&&i.name===A);return r?r.attribute.keepOnSplit:!1}))}function GB(t,e,n={}){const{empty:A,ranges:r}=t.selection,i=e?ws(e,t.schema):null;if(A)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Uh(d.attrs,n,{strict:!1}));let s=0;const o=[];if(r.forEach(({$from:d,$to:p})=>{const g=d.pos,m=p.pos;t.doc.nodesBetween(g,m,(w,F)=>{if(!w.isText&&!w.marks.length)return;const v=Math.max(g,F),E=Math.min(m,F+w.nodeSize),C=E-v;s+=C,o.push(...w.marks.map(Q=>({mark:Q,from:v,to:E})))})}),s===0)return!1;const l=o.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Uh(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=o.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=s}function bR(t,e,n={}){if(!e)return Zu(t,null,n)||GB(t,null,n);const A=fg(e,t.schema);return A==="node"?Zu(t,e,n):A==="mark"?GB(t,e,n):!1}function cF(t,e){const{nodeExtensions:n}=ag(e),A=n.find(s=>s.name===t);if(!A)return!1;const r={name:A.name,options:A.options,storage:A.storage},i=Ue(le(A,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function Yw(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var A;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((A=t.text)!==null&&A!==void 0?A:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(Yw(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function OR(t){return t instanceof pe}function DR(t,e,n){var A;const{selection:r}=e;let i=null;if(dx(r)&&(i=r.$cursor),i){const o=(A=t.storedMarks)!==null&&A!==void 0?A:i.marks();return!!n.isInSet(o)||!o.some(l=>l.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:o,$to:l})=>{let c=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,l.pos,(f,d,p)=>{if(c)return!1;if(f.isInline){const g=!p||p.type.allowsMarkType(n),m=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));c=g&&m}return!c}),c})}const NR=(t,e={})=>({tr:n,state:A,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:o}=i,l=ws(t,A.schema);if(r)if(s){const c=mx(A,l);n.addStoredMark(l.create({...c,...e}))}else o.forEach(c=>{const f=c.$from.pos,d=c.$to.pos;A.doc.nodesBetween(f,d,(p,g)=>{const m=Math.max(g,f),w=Math.min(g+p.nodeSize,d);p.marks.find(v=>v.type===l)?p.marks.forEach(v=>{l===v.type&&n.addMark(m,w,l.create({...v.attrs,...e}))}):n.addMark(m,w,l.create(e))})});return DR(A,n,l)},LR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),RR=(t,e={})=>({state:n,dispatch:A,chain:r})=>{const i=Yt(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:o})=>iF(i,{...s,...e})(n)?!0:o.clearNodes()).command(({state:o})=>iF(i,{...s,...e})(o,A)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},PR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:A}=e,r=Ws(t,0,A.content.size),i=pe.create(A,r);e.setSelection(i)}return!0},KR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:A}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,s=ye.atStart(A).from,o=ye.atEnd(A).to,l=Ws(r,s,o),c=Ws(i,s,o),f=ye.create(A,l,c);e.setSelection(f)}return!0},GR=t=>({state:e,dispatch:n})=>{const A=Yt(t,e.schema);return SL(A)(e,n)};function fF(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const A=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(A)}}const VR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:A,editor:r})=>{const{selection:i,doc:s}=e,{$from:o,$to:l}=i,c=r.extensionManager.attributes,f=_d(c,o.node().type.name,o.node().attrs);if(i instanceof pe&&i.node.isBlock)return!o.parentOffset||!Fl(s,o.pos)?!1:(A&&(t&&fF(n,r.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=o.depth===0?void 0:_R(o.node(-1).contentMatchAt(o.indexAfter(-1)));let g=d&&p?[{type:p,attrs:f}]:void 0,m=Fl(e.doc,e.mapping.map(o.pos),1,g);if(!g&&!m&&Fl(e.doc,e.mapping.map(o.pos),1,p?[{type:p}]:void 0)&&(m=!0,g=p?[{type:p,attrs:f}]:void 0),A){if(m&&(i instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,g),p&&!d&&!o.parentOffset&&o.parent.type!==p)){const w=e.mapping.map(o.before()),F=e.doc.resolve(w);o.node(-1).canReplaceWith(F.index(),F.index()+1,p)&&e.setNodeMarkup(e.mapping.map(o.before()),p)}t&&fF(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return m},zR=(t,e={})=>({tr:n,state:A,dispatch:r,editor:i})=>{var s;const o=Yt(t,A.schema),{$from:l,$to:c}=A.selection,f=A.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==o)return!1;const p=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let v=G.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let k=l.depth-E;k>=l.depth-3;k-=1)v=G.from(l.node(k).copy(v));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,Q={..._d(p,l.node().type.name,l.node().attrs),...e},U=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(Q))||void 0;v=v.append(G.from(o.createAndFill(null,U)||void 0));const x=l.before(l.depth-(E-1));n.replace(x,l.after(-C),new te(v,4-E,0));let M=-1;n.doc.nodesBetween(x,n.doc.content.size,(k,T)=>{if(M>-1)return!1;k.isTextblock&&k.content.size===0&&(M=T+1)}),M>-1&&n.setSelection(ye.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const g=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={..._d(p,d.type.name,d.attrs),...e},w={..._d(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const F=g?[{type:o,attrs:m},{type:g,attrs:w}]:[{type:o,attrs:m}];if(!Fl(n.doc,l.pos,2))return!1;if(r){const{selection:v,storedMarks:E}=A,{splittableMarks:C}=i.extensionManager,Q=E||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,F).scrollIntoView(),!Q||!r)return!0;const U=Q.filter(x=>C.includes(x.type.name));n.ensureMarks(U)}return!0},Pm=(t,e)=>{const n=Jw(s=>s.type===e)(t.selection);if(!n)return!0;const A=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(A===void 0)return!0;const r=t.doc.nodeAt(A);return n.node.type===(r==null?void 0:r.type)&&Bs(t.doc,n.pos)&&t.join(n.pos),!0},Km=(t,e)=>{const n=Jw(s=>s.type===e)(t.selection);if(!n)return!0;const A=t.doc.resolve(n.start).after(n.depth);if(A===void 0)return!0;const r=t.doc.nodeAt(A);return n.node.type===(r==null?void 0:r.type)&&Bs(t.doc,A)&&t.join(A),!0},WR=(t,e,n,A={})=>({editor:r,tr:i,state:s,dispatch:o,chain:l,commands:c,can:f})=>{const{extensions:d,splittableMarks:p}=r.extensionManager,g=Yt(t,s.schema),m=Yt(e,s.schema),{selection:w,storedMarks:F}=s,{$from:v,$to:E}=w,C=v.blockRange(E),Q=F||w.$to.parentOffset&&w.$from.marks();if(!C)return!1;const U=Jw(x=>cF(x.type.name,d))(w);if(C.depth>=1&&U&&C.depth-U.depth<=1){if(U.node.type===g)return c.liftListItem(m);if(cF(U.node.type.name,d)&&g.validContent(U.node.content)&&o)return l().command(()=>(i.setNodeMarkup(U.pos,g),!0)).command(()=>Pm(i,g)).command(()=>Km(i,g)).run()}return!n||!Q||!o?l().command(()=>f().wrapInList(g,A)?!0:c.clearNodes()).wrapInList(g,A).command(()=>Pm(i,g)).command(()=>Km(i,g)).run():l().command(()=>{const x=f().wrapInList(g,A),M=Q.filter(k=>p.includes(k.type.name));return i.ensureMarks(M),x?!0:c.clearNodes()}).wrapInList(g,A).command(()=>Pm(i,g)).command(()=>Km(i,g)).run()},jR=(t,e={},n={})=>({state:A,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=ws(t,A.schema);return GB(A,s,e)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,e)},XR=(t,e,n={})=>({state:A,commands:r})=>{const i=Yt(t,A.schema),s=Yt(e,A.schema),o=Zu(A,i,n);let l;return A.selection.$anchor.sameParent(A.selection.$head)&&(l=A.selection.$anchor.parent.attrs),o?r.setNode(s,l):r.setNode(i,{...l,...n})},JR=(t,e={})=>({state:n,commands:A})=>{const r=Yt(t,n.schema);return Zu(n,r,e)?A.lift(r):A.wrapIn(r,e)},YR=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let A=0;A<n.length;A+=1){const r=n[A];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const s=t.tr,o=i.transform;for(let l=o.steps.length-1;l>=0;l-=1)s.step(o.steps[l].invert(o.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},$R=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:A,ranges:r}=n;return A||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},qR=(t,e={})=>({tr:n,state:A,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:o}=n,l=ws(t,A.schema),{$from:c,empty:f,ranges:d}=o;if(!r)return!0;if(f&&s){let{from:p,to:g}=o;const m=(i=c.marks().find(F=>F.type===l))===null||i===void 0?void 0:i.attrs,w=jw(c,l,m);w&&(p=w.from,g=w.to),n.removeMark(p,g,l)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},ZR=(t,e={})=>({tr:n,state:A,dispatch:r})=>{let i=null,s=null;const o=fg(typeof t=="string"?t:t.name,A.schema);return o?(o==="node"&&(i=Yt(t,A.schema)),o==="mark"&&(s=ws(t,A.schema)),r&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,f=l.$to.pos;let d,p,g,m;n.selection.empty?A.doc.nodesBetween(c,f,(w,F)=>{i&&i===w.type&&(g=Math.max(F,c),m=Math.min(F+w.nodeSize,f),d=F,p=w)}):A.doc.nodesBetween(c,f,(w,F)=>{F<c&&i&&i===w.type&&(g=Math.max(F,c),m=Math.min(F+w.nodeSize,f),d=F,p=w),F>=c&&F<=f&&(i&&i===w.type&&n.setNodeMarkup(F,void 0,{...w.attrs,...e}),s&&w.marks.length&&w.marks.forEach(v=>{if(s===v.type){const E=Math.max(F,c),C=Math.min(F+w.nodeSize,f);n.addMark(E,C,s.create({...v.attrs,...e}))}}))}),p&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...p.attrs,...e}),s&&p.marks.length&&p.marks.forEach(w=>{s===w.type&&n.addMark(g,m,s.create({...w.attrs,...e}))}))}),!0):!1},eP=(t,e={})=>({state:n,dispatch:A})=>{const r=Yt(t,n.schema);return gL(r,e)(n,A)},tP=(t,e={})=>({state:n,dispatch:A})=>{const r=Yt(t,n.schema);return mL(r,e)(n,A)};var nP=Object.freeze({__proto__:null,blur:RL,clearContent:PL,clearNodes:KL,command:GL,createParagraphNear:VL,cut:zL,deleteCurrentNode:WL,deleteNode:jL,deleteRange:XL,deleteSelection:JL,enter:YL,exitCode:$L,extendMarkRange:qL,first:ZL,focus:tR,forEach:nR,insertContent:AR,insertContentAt:sR,joinBackward:aR,joinDown:lR,joinForward:uR,joinItemBackward:cR,joinItemForward:fR,joinTextblockBackward:dR,joinTextblockForward:hR,joinUp:oR,keyboardShortcut:gR,lift:mR,liftEmptyBlock:BR,liftListItem:yR,newlineInCode:wR,resetAttributes:CR,scrollIntoView:vR,selectAll:SR,selectNodeBackward:FR,selectNodeForward:ER,selectParentNode:QR,selectTextblockEnd:UR,selectTextblockStart:xR,setContent:kR,setMark:NR,setMeta:LR,setNode:RR,setNodeSelection:PR,setTextSelection:KR,sinkListItem:GR,splitBlock:VR,splitListItem:zR,toggleList:WR,toggleMark:jR,toggleNode:XR,toggleWrap:JR,undoInputRule:YR,unsetAllMarks:$R,unsetMark:qR,updateAttributes:ZR,wrapIn:eP,wrapInList:tP});const AP=Dt.create({name:"commands",addCommands(){return{...nP}}}),rP=Dt.create({name:"drop",addProseMirrorPlugins(){return[new jn({key:new vr("tiptapDrop"),props:{handleDrop:(t,e,n,A)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:A})}}})]}}),iP=Dt.create({name:"editable",addProseMirrorPlugins(){return[new jn({key:new vr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sP=Dt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jn({key:new vr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const A=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(A),!1},blur:(e,n)=>{t.isFocused=!1;const A=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(A),!1}}}})]}}),oP=Dt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:o})=>{const{selection:l,doc:c}=o,{empty:f,$anchor:d}=l,{pos:p,parent:g}=d,m=d.parent.isTextblock&&p>0?o.doc.resolve(p-1):d,w=m.parent.type.spec.isolating,F=d.pos-d.parentOffset,v=w&&m.parent.childCount===1?F===d.pos:Fe.atStart(c).from===p;return!f||!g.type.isTextblock||g.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),A={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...A},i={...A,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Xw()||gx()?i:r},addProseMirrorPlugins(){return[new jn({key:new vr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const A=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),r=t.some(w=>w.getMeta("preventClearDocument"));if(!A||r)return;const{empty:i,from:s,to:o}=e.selection,l=Fe.atStart(e.doc).from,c=Fe.atEnd(e.doc).to;if(i||!(s===l&&o===c)||!Yw(n.doc))return;const p=n.tr,g=og({state:n,transaction:p}),{commands:m}=new lg({editor:this.editor,state:g});if(m.clearNodes(),!!p.steps.length)return p}})]}}),lP=Dt.create({name:"paste",addProseMirrorPlugins(){return[new jn({key:new vr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),aP=Dt.create({name:"tabindex",addProseMirrorPlugins(){return[new jn({key:new vr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ls{get name(){return this.node.type.name}constructor(e,n,A=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=A,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,A=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,A=this.to-1}this.editor.commands.insertContentAt({from:n,to:A},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ls(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ls(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ls(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,A)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+A+(i?0:1),o=this.resolvedPos.doc.resolve(s);if(!r&&o.depth<=this.depth)return;const l=new Ls(o,this.editor,r,r?n:null);r&&(l.actualDepth=this.depth+1),e.push(new Ls(o,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let A=null,r=this.parent;for(;r&&!A;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,s=Object.keys(n);for(let o=0;o<s.length;o+=1){const l=s[o];if(i[l]!==n[l])break}}else A=r;r=r.parent}return A}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},A=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(s=>{A&&r.length>0||(s.node.type.name===e&&i.every(l=>n[l]===s.node.attrs[l])&&r.push(s),!(A&&r.length>0)&&(r=r.concat(s.querySelectorAll(e,n,A))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const uP=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function cP(t,e,n){const A=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(A!==null)return A;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class fP extends FL{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:A,moved:r})=>this.options.onDrop(n,A,r)),this.on("paste",({event:n,slice:A})=>this.options.onPaste(n,A)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=cP(uP,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const A=ax(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:A});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let A=n;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;A=n.filter(o=>!o.key.startsWith(s))}),n.length===A.length)return;const r=this.state.reconfigure({plugins:A});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[iP,LL.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),AP,sP,oP,aP,rP,lP].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new pl(r,this)}createCommandManager(){this.commandManager=new lg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=KB(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),n=KB(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const A=hx(n,this.options.autofocus);this.view=new KN(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:hl.create({doc:n,selection:A||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var o;return(o=this.capturedTransaction)===null||o===void 0?void 0:o.step(s)});return}const n=this.state.apply(e),A=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),A&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return HR(this.state,e)}isActive(e,n){const A=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return bR(this.state,A,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:A={}}=e||{};return TR(this.state.doc,{blockSeparator:n,textSerializers:{...cx(this.schema),...A}})}get isEmpty(){return Yw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var A;return((A=this.$doc)===null||A===void 0?void 0:A.querySelector(e,n))||null}$nodes(e,n){var A;return((A=this.$doc)===null||A===void 0?void 0:A.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ls(n,this)}get $doc(){return this.$pos(0)}}function Gl(t){return new ug({find:t.find,handler:({state:e,range:n,match:A})=>{const r=Ue(t.getAttributes,void 0,A);if(r===!1||r===null)return null;const{tr:i}=e,s=A[A.length-1],o=A[0];if(s){const l=o.search(/\S/),c=n.from+o.indexOf(s),f=c+s.length;if(Bx(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(w=>w===t.type&&w!==g.mark.type)).filter(g=>g.to>c).length)return null;f<n.to&&i.delete(f,n.to),c>n.from&&i.delete(n.from+l,c);const p=n.from+l+s.length;i.addMark(n.from+l,p,t.type.create(r||{})),i.removeStoredMark(t.type)}}})}function dP(t){return new ug({find:t.find,handler:({state:e,range:n,match:A})=>{const r=Ue(t.getAttributes,void 0,A)||{},{tr:i}=e,s=n.from;let o=n.to;const l=t.type.create(r);if(A[1]){const c=A[0].lastIndexOf(A[1]);let f=s+c;f>o?f=o:o=f+A[1].length;const d=A[0][A[0].length-1];i.insertText(d,s+A[0].length-1),i.replaceWith(f,o,l)}else if(A[0]){const c=t.type.isInline?s:s-1;i.insert(c,t.type.create(r)).delete(i.mapping.map(s),i.mapping.map(o))}i.scrollIntoView()}})}function VB(t){return new ug({find:t.find,handler:({state:e,range:n,match:A})=>{const r=e.doc.resolve(n.from),i=Ue(t.getAttributes,void 0,A)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function ec(t){return new ug({find:t.find,handler:({state:e,range:n,match:A,chain:r})=>{const i=Ue(t.getAttributes,void 0,A)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&Tw(l,t.type,i);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,m=p||d.$to.parentOffset&&d.$from.marks();if(m){const w=m.filter(F=>g.includes(F.type.name));s.ensureMarks(w)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(d,i).run()}const f=s.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Bs(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(A,f))&&s.join(n.from-1)}})}let $A=class zB{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ue(le(this,"addOptions",{name:this.name}))),this.storage=Ue(le(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zB(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>cg(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new zB(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ue(le(n,"addOptions",{name:n.name})),n.storage=Ue(le(n,"addStorage",{name:n.name,options:n.options})),n}};function Vl(t){return new ML({find:t.find,handler:({state:e,range:n,match:A,pasteEvent:r})=>{const i=Ue(t.getAttributes,void 0,A,r);if(i===!1||i===null)return null;const{tr:s}=e,o=A[A.length-1],l=A[0];let c=n.to;if(o){const f=l.search(/\S/),d=n.from+l.indexOf(o),p=d+o.length;if(Bx(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(F=>F===t.type&&F!==m.mark.type)).filter(m=>m.to>d).length)return null;p<n.to&&s.delete(p,n.to),d>n.from&&s.delete(n.from+f,d),c=n.from+f+o.length,s.addMark(n.from+f,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function hP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yx={exports:{}},Gm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dF;function pP(){if(dF)return Gm;dF=1;var t=Ke;function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:e,A=t.useState,r=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(d,p){var g=p(),m=A({inst:{value:g,getSnapshot:p}}),w=m[0].inst,F=m[1];return i(function(){w.value=g,w.getSnapshot=p,l(w)&&F({inst:w})},[d,g,p]),r(function(){return l(w)&&F({inst:w}),d(function(){l(w)&&F({inst:w})})},[d]),s(g),g}function l(d){var p=d.getSnapshot;d=d.value;try{var g=p();return!n(d,g)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return Gm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Gm}yx.exports=pP();var $w=yx.exports;const gP=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},mP=({contentComponent:t})=>{const e=$w.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ke.createElement(Ke.Fragment,null,Object.values(e))};function BP(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,A){e={...e,[n]:T_.createPortal(A.reactElement,A.element,n)},t.forEach(r=>r())},removeRenderer(n){const A={...e};delete A[n],e=A,t.forEach(r=>r())}}}class yP extends Ke.Component{constructor(e){var n;super(e),this.editorContentRef=Ke.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=BP(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(A=>A.hasContentComponentInitialized?A:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...A}=this.props;return Ke.createElement(Ke.Fragment,null,Ke.createElement("div",{ref:gP(n,this.editorContentRef),...A}),(e==null?void 0:e.contentComponent)&&Ke.createElement(mP,{contentComponent:e.contentComponent}))}}const wP=ae.forwardRef((t,e)=>{const n=Ke.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ke.createElement(yP,{key:n,innerRef:e,...t})}),CP=Ke.memo(wP);var vP=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var A,r,i;if(Array.isArray(e)){if(A=e.length,A!=n.length)return!1;for(r=A;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(A=e.length,A!=n.length)return!1;for(r=A;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),A=i.length,A!==Object.keys(n).length)return!1;for(r=A;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=A;r--!==0;){var s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},SP=hP(vP),wx={exports:{}},Vm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF;function FP(){if(hF)return Vm;hF=1;var t=Ke,e=$w;function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var A=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return Vm.useSyncExternalStoreWithSelector=function(c,f,d,p,g){var m=i(null);if(m.current===null){var w={hasValue:!1,value:null};m.current=w}else w=m.current;m=o(function(){function v(x){if(!E){if(E=!0,C=x,x=p(x),g!==void 0&&w.hasValue){var M=w.value;if(g(M,x))return Q=M}return Q=x}if(M=Q,A(C,x))return M;var k=p(x);return g!==void 0&&g(M,k)?M:(C=x,Q=k)}var E=!1,C,Q,U=d===void 0?null:d;return[function(){return v(f())},U===null?void 0:function(){return v(U())}]},[f,d,p,g]);var F=r(c,m[0],m[1]);return s(function(){w.hasValue=!0,w.value=F},[F]),l(F),F},Vm}wx.exports=FP();var EP=wx.exports;const QP=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;class UP{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},A=this.editor;return A.on("transaction",n),()=>{A.off("transaction",n)}}}}function xP(t){var e;const[n]=ae.useState(()=>new UP(t.editor)),A=EP.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:SP);return QP(()=>n.watch(t.editor),[t.editor,n]),ae.useDebugValue(A),A}const kP=!1,WB=typeof window>"u",_P=WB||!!(typeof window<"u"&&window.next);class qw{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return WB||_P?null:this.createEditor();if(this.options.current.immediatelyRender&&WB&&kP)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...A)=>{var r,i;return(i=(r=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(r,...A)},onBlur:(...A)=>{var r,i;return(i=(r=this.options.current).onBlur)===null||i===void 0?void 0:i.call(r,...A)},onCreate:(...A)=>{var r,i;return(i=(r=this.options.current).onCreate)===null||i===void 0?void 0:i.call(r,...A)},onDestroy:(...A)=>{var r,i;return(i=(r=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(r,...A)},onFocus:(...A)=>{var r,i;return(i=(r=this.options.current).onFocus)===null||i===void 0?void 0:i.call(r,...A)},onSelectionUpdate:(...A)=>{var r,i;return(i=(r=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(r,...A)},onTransaction:(...A)=>{var r,i;return(i=(r=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(r,...A)},onUpdate:(...A)=>{var r,i;return(i=(r=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(r,...A)},onContentError:(...A)=>{var r,i;return(i=(r=this.options.current).onContentError)===null||i===void 0?void 0:i.call(r,...A)},onDrop:(...A)=>{var r,i;return(i=(r=this.options.current).onDrop)===null||i===void 0?void 0:i.call(r,...A)},onPaste:(...A)=>{var r,i;return(i=(r=this.options.current).onPaste)===null||i===void 0?void 0:i.call(r,...A)}};return new fP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(A=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(A)?!0:A==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,i)=>{var s;return r===((s=n.extensions)===null||s===void 0?void 0:s[i])}):e[A]===n[A])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?qw.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((A,r)=>A===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function IP(t={},e=[]){const n=ae.useRef(t);n.current=t;const[A]=ae.useState(()=>new qw(n)),r=$w.useSyncExternalStore(A.subscribe,A.getEditor,A.getServerSnapshot);return ae.useDebugValue(r),ae.useEffect(A.onRender(e)),xP({editor:r,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),r}const TP=ae.createContext({editor:null});TP.Consumer;const MP=ae.createContext({onDragStart:void 0}),HP=()=>ae.useContext(MP);Ke.forwardRef((t,e)=>{const{onDragStart:n}=HP(),A=t.as||"div";return Ke.createElement(A,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const bP=/^\s*>\s$/,OP=$A.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ec({find:bP,type:this.type})]}}),DP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,NP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,LP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,RP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,PP=yr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gl({find:DP,type:this.type}),Gl({find:LP,type:this.type})]},addPasteRules(){return[Vl({find:NP,type:this.type}),Vl({find:RP,type:this.type})]}}),KP="listItem",pF="textStyle",gF=/^\s*([-+*])\s$/,GP=$A.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KP,this.editor.getAttributes(pF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ec({find:gF,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ec({find:gF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pF),editor:this.editor})),[t]}}),VP=/(^|[^`])`([^`]+)`(?!`)/,zP=/(^|[^`])`([^`]+)`(?!`)/g,WP=yr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Gl({find:VP,type:this.type})]},addPasteRules(){return[Vl({find:zP,type:this.type})]}}),jP=/^```([a-z]+)?[\s\n]$/,XP=/^~~~([a-z]+)?[\s\n]$/,JP=$A.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",an(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:A,empty:r}=n;if(!r||A.parent.type!==this.type)return!1;const i=A.parentOffset===A.parent.nodeSize-2,s=A.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:o})=>(o.delete(A.pos-2,A.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:A}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const o=r.after();return o===void 0?!1:A.nodeAt(o)?t.commands.command(({tr:c})=>(c.setSelection(Fe.near(A.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[VB({find:jP,type:this.type,getAttributes:t=>({language:t[1]})}),VB({find:XP,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jn({key:new vr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),A=e.clipboardData.getData("vscode-editor-data"),r=A?JSON.parse(A):void 0,i=r==null?void 0:r.mode;if(!n||!i)return!1;const{tr:s,schema:o}=t.state,l=o.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(ye.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),YP=$A.create({name:"doc",topNode:!0,content:"block+"});function $P(t={}){return new jn({view(e){return new qP(e,t)}})}class qP{constructor(e,n){var A;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(A=n.width)!==null&&A!==void 0?A:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,A;if(n){let o=e.nodeBefore,l=e.nodeAfter;if(o||l){let c=this.editorView.nodeDOM(this.cursorPos-(o?o.nodeSize:0));if(c){let f=c.getBoundingClientRect(),d=o?f.bottom:f.top;o&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),A={left:f.left,right:f.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!A){let o=this.editorView.coordsAtPos(this.cursorPos);A={left:o.left-this.width/2,right:o.left+this.width/2,top:o.top,bottom:o.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let o=r.getBoundingClientRect();i=o.left-r.scrollLeft,s=o.top-r.scrollTop}this.element.style.left=A.left-i+"px",this.element.style.top=A.top-s+"px",this.element.style.width=A.right-A.left+"px",this.element.style.height=A.bottom-A.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),A=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=A&&A.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=pU(this.editorView.state.doc,s,this.editorView.dragging.slice);o!=null&&(s=o)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const ZP=Dt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$P(this.options)]}});class Bt extends Fe{constructor(e){super(e,e)}map(e,n){let A=e.resolve(n.map(this.head));return Bt.valid(A)?new Bt(A):Fe.near(A)}content(){return te.empty}eq(e){return e instanceof Bt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Bt(e.resolve(n.pos))}getBookmark(){return new Zw(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!eK(e)||!tK(e))return!1;let A=n.type.spec.allowGapCursor;if(A!=null)return A;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,A=!1){e:for(;;){if(!A&&Bt.valid(e))return e;let r=e.pos,i=null;for(let s=e.depth;;s--){let o=e.node(s);if(n>0?e.indexAfter(s)<o.childCount:e.index(s)>0){i=o.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=n;let l=e.doc.resolve(r);if(Bt.valid(l))return l}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!pe.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),A=!1;continue e}break}i=s,r+=n;let o=e.doc.resolve(r);if(Bt.valid(o))return o}return null}}}Bt.prototype.visible=!1;Bt.findFrom=Bt.findGapCursorFrom;Fe.jsonID("gapcursor",Bt);class Zw{constructor(e){this.pos=e}map(e){return new Zw(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Bt.valid(n)?new Bt(n):Fe.near(n)}}function eK(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),A=t.node(e);if(n==0){if(A.type.spec.isolating)return!0;continue}for(let r=A.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function tK(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),A=t.node(e);if(n==A.childCount){if(A.type.spec.isolating)return!0;continue}for(let r=A.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function nK(){return new jn({props:{decorations:sK,createSelectionBetween(t,e,n){return e.pos==n.pos&&Bt.valid(n)?new Bt(n):null},handleClick:rK,handleKeyDown:AK,handleDOMEvents:{beforeinput:iK}}})}const AK=tx({ArrowLeft:Vf("horiz",-1),ArrowRight:Vf("horiz",1),ArrowUp:Vf("vert",-1),ArrowDown:Vf("vert",1)});function Vf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(A,r,i){let s=A.selection,o=e>0?s.$to:s.$from,l=s.empty;if(s instanceof ye){if(!i.endOfTextblock(n)||o.depth==0)return!1;l=!1,o=A.doc.resolve(e>0?o.after():o.before())}let c=Bt.findGapCursorFrom(o,e,l);return c?(r&&r(A.tr.setSelection(new Bt(c))),!0):!1}}function rK(t,e,n){if(!t||!t.editable)return!1;let A=t.state.doc.resolve(e);if(!Bt.valid(A))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Bt(A))),!0)}function iK(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Bt))return!1;let{$from:n}=t.state.selection,A=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!A)return!1;let r=G.empty;for(let s=A.length-1;s>=0;s--)r=G.from(A[s].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new te(r,0,0));return i.setSelection(ye.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function sK(t){if(!(t.selection instanceof Bt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ht.create(t.doc,[vA.widget(t.selection.head,e,{key:"gapcursor"})])}const oK=Dt.create({name:"gapCursor",addProseMirrorPlugins(){return[nK()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ue(le(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),lK=$A.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",an(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:A})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:i}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:o}=A.extensionManager,l=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&s){const d=l.filter(p=>o.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aK=$A.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,an(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>VB({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var kh=200,Jt=function(){};Jt.prototype.append=function(e){return e.length?(e=Jt.from(e),!this.length&&e||e.length<kh&&this.leafAppend(e)||this.length<kh&&e.leafPrepend(this)||this.appendInner(e)):this};Jt.prototype.prepend=function(e){return e.length?Jt.from(e).append(this):this};Jt.prototype.appendInner=function(e){return new uK(this,e)};Jt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Jt.prototype.forEach=function(e,n,A){n===void 0&&(n=0),A===void 0&&(A=this.length),n<=A?this.forEachInner(e,n,A,0):this.forEachInvertedInner(e,n,A,0)};Jt.prototype.map=function(e,n,A){n===void 0&&(n=0),A===void 0&&(A=this.length);var r=[];return this.forEach(function(i,s){return r.push(e(i,s))},n,A),r};Jt.from=function(e){return e instanceof Jt?e:e&&e.length?new Cx(e):Jt.empty};var Cx=function(t){function e(A){t.call(this),this.values=A}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,s,o){for(var l=i;l<s;l++)if(r(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){for(var l=i-1;l>=s;l--)if(r(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=kh)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=kh)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Jt);Jt.empty=new Cx([]);var uK=function(t){function e(n,A){t.call(this),this.left=n,this.right=A,this.length=n.length+A.length,this.depth=Math.max(n.depth,A.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(A){return A<this.left.length?this.left.get(A):this.right.get(A-this.left.length)},e.prototype.forEachInner=function(A,r,i,s){var o=this.left.length;if(r<o&&this.left.forEachInner(A,r,Math.min(i,o),s)===!1||i>o&&this.right.forEachInner(A,Math.max(r-o,0),Math.min(this.length,i)-o,s+o)===!1)return!1},e.prototype.forEachInvertedInner=function(A,r,i,s){var o=this.left.length;if(r>o&&this.right.forEachInvertedInner(A,r-o,Math.max(i,o)-o,s+o)===!1||i<o&&this.left.forEachInvertedInner(A,Math.min(r,o),i,s)===!1)return!1},e.prototype.sliceInner=function(A,r){if(A==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(A,r):A>=i?this.right.slice(A-i,r-i):this.left.slice(A,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(A){var r=this.right.leafAppend(A);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(A){var r=this.left.leafPrepend(A);if(r)return new e(r,this.right)},e.prototype.appendInner=function(A){return this.left.depth>=Math.max(this.right.depth,A.depth)+1?new e(this.left,new e(this.right,A)):new e(this,A)},e}(Jt);const cK=500;class VA{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let A=this.items.length;for(;;A--)if(this.items.get(A-1).selection){--A;break}let r,i;n&&(r=this.remapping(A,this.items.length),i=r.maps.length);let s=e.tr,o,l,c=[],f=[];return this.items.forEach((d,p)=>{if(!d.step){r||(r=this.remapping(A,p+1),i=r.maps.length),i--,f.push(d);return}if(r){f.push(new cr(d.map));let g=d.step.map(r.slice(i)),m;g&&s.maybeStep(g).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new cr(m,void 0,void 0,c.length+f.length))),i--,m&&r.appendMap(m,i)}else s.maybeStep(d.step);if(d.selection)return o=r?d.selection.map(r.slice(i)):d.selection,l=new VA(this.items.slice(0,A).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:o}}addTransform(e,n,A,r){let i=[],s=this.eventCount,o=this.items,l=!r&&o.length?o.get(o.length-1):null;for(let f=0;f<e.steps.length;f++){let d=e.steps[f].invert(e.docs[f]),p=new cr(e.mapping.maps[f],d,n),g;(g=l&&l.merge(p))&&(p=g,f?i.pop():o=o.slice(0,o.length-1)),i.push(p),n&&(s++,n=void 0),r||(l=p)}let c=s-A.depth;return c>dK&&(o=fK(o,c),s-=c),new VA(o.append(i),s)}remapping(e,n){let A=new Sl;return this.items.forEach((r,i)=>{let s=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?A.maps.length-r.mirrorOffset:void 0;A.appendMap(r.map,s)},e,n),A}addMaps(e){return this.eventCount==0?this:new VA(this.items.append(e.map(n=>new cr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let A=[],r=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,o=this.eventCount;this.items.forEach(p=>{p.selection&&o--},r);let l=n;this.items.forEach(p=>{let g=i.getMirror(--l);if(g==null)return;s=Math.min(s,g);let m=i.maps[g];if(p.step){let w=e.steps[g].invert(e.docs[g]),F=p.selection&&p.selection.map(i.slice(l+1,g));F&&o++,A.push(new cr(m,w,F))}else A.push(new cr(m))},r);let c=[];for(let p=n;p<s;p++)c.push(new cr(i.maps[p]));let f=this.items.slice(0,r).append(c).append(A),d=new VA(f,o);return d.emptyItemCount()>cK&&(d=d.compress(this.items.length-A.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),A=n.maps.length,r=[],i=0;return this.items.forEach((s,o)=>{if(o>=e)r.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(A)),c=l&&l.getMap();if(A--,c&&n.appendMap(c,A),l){let f=s.selection&&s.selection.map(n.slice(A));f&&i++;let d=new cr(c.invert(),l,f),p,g=r.length-1;(p=r.length&&r[g].merge(d))?r[g]=p:r.push(d)}}else s.map&&A--},this.items.length,0),new VA(Jt.from(r.reverse()),i)}}VA.empty=new VA(Jt.empty,0);function fK(t,e){let n;return t.forEach((A,r)=>{if(A.selection&&e--==0)return n=r,!1}),t.slice(n)}class cr{constructor(e,n,A,r){this.map=e,this.step=n,this.selection=A,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cr(n.getMap().invert(),n,this.selection)}}}class Ui{constructor(e,n,A,r,i){this.done=e,this.undone=n,this.prevRanges=A,this.prevTime=r,this.prevComposition=i}}const dK=20;function hK(t,e,n,A){let r=n.getMeta(eo),i;if(r)return r.historyState;n.getMeta(mK)&&(t=new Ui(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(eo))return s.getMeta(eo).redo?new Ui(t.done.addTransform(n,void 0,A,Id(e)),t.undone,mF(n.mapping.maps),t.prevTime,t.prevComposition):new Ui(t.done,t.undone.addTransform(n,void 0,A,Id(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-A.newGroupDelay||!pK(n,t.prevRanges)),c=s?zm(t.prevRanges,n.mapping):mF(n.mapping.maps);return new Ui(t.done.addTransform(n,l?e.selection.getBookmark():void 0,A,Id(e)),VA.empty,c,n.time,o??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Ui(t.done.rebased(n,i),t.undone.rebased(n,i),zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ui(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function pK(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((A,r)=>{for(let i=0;i<e.length;i+=2)A<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function mF(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((A,r,i,s)=>e.push(i,s));return e}function zm(t,e){if(!t)return null;let n=[];for(let A=0;A<t.length;A+=2){let r=e.map(t[A],1),i=e.map(t[A+1],-1);r<=i&&n.push(r,i)}return n}function gK(t,e,n){let A=Id(e),r=eo.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,A);if(!i)return null;let s=i.selection.resolve(i.transform.doc),o=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,A),l=new Ui(n?o:i.remaining,n?i.remaining:o,null,0,-1);return i.transform.setSelection(s).setMeta(eo,{redo:n,historyState:l})}let Wm=!1,BF=null;function Id(t){let e=t.plugins;if(BF!=e){Wm=!1,BF=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Wm=!0;break}}return Wm}const eo=new vr("history"),mK=new vr("closeHistory");function BK(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jn({key:eo,state:{init(){return new Ui(VA.empty,VA.empty,null,0,-1)},apply(e,n,A){return hK(n,A,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let A=n.inputType,r=A=="historyUndo"?Sx:A=="historyRedo"?Fx:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function vx(t,e){return(n,A)=>{let r=eo.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(A){let i=gK(r,n,t);i&&A(e?i.scrollIntoView():i)}return!0}}const Sx=vx(!1,!0),Fx=vx(!0,!0),yK=Dt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Sx(t,e),redo:()=>({state:t,dispatch:e})=>Fx(t,e)}},addProseMirrorPlugins(){return[BK(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),wK=$A.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",an(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:A,$to:r}=n,i=t();return A.parentOffset===0?i.insertContentAt({from:Math.max(A.pos-1,0),to:r.pos},{type:this.name}):OR(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:o})=>{var l;if(o){const{$to:c}=s.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(ye.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(pe.create(s.doc,c.pos)):s.setSelection(ye.create(s.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(s.insert(f,d),s.setSelection(ye.create(s.doc,f+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[dP({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),CK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,SK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EK=yr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Gl({find:CK,type:this.type}),Gl({find:SK,type:this.type})]},addPasteRules(){return[Vl({find:vK,type:this.type}),Vl({find:FK,type:this.type})]}}),QK=$A.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",an(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UK="listItem",yF="textStyle",wF=/^(\d+)\.\s$/,xK=$A.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",an(this.options.HTMLAttributes,n),0]:["ol",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(UK,this.editor.getAttributes(yF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ec({find:wF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ec({find:wF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yF)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),kK=$A.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),_K=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,IK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,TK=yr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Gl({find:_K,type:this.type})]},addPasteRules(){return[Vl({find:IK,type:this.type})]}}),MK=$A.create({name:"text",group:"inline"}),HK=Dt.create({name:"starterKit",addExtensions(){var t,e,n,A,r,i,s,o,l,c,f,d,p,g,m,w,F,v;const E=[];return this.options.bold!==!1&&E.push(PP.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&E.push(OP.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&E.push(GP.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&E.push(WP.configure((A=this.options)===null||A===void 0?void 0:A.code)),this.options.codeBlock!==!1&&E.push(JP.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&E.push(YP.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&E.push(ZP.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&E.push(oK.configure((o=this.options)===null||o===void 0?void 0:o.gapcursor)),this.options.hardBreak!==!1&&E.push(lK.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&E.push(aK.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&E.push(yK.configure((f=this.options)===null||f===void 0?void 0:f.history)),this.options.horizontalRule!==!1&&E.push(wK.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&E.push(EK.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&E.push(QK.configure((g=this.options)===null||g===void 0?void 0:g.listItem)),this.options.orderedList!==!1&&E.push(xK.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&E.push(kK.configure((w=this.options)===null||w===void 0?void 0:w.paragraph)),this.options.strike!==!1&&E.push(TK.configure((F=this.options)===null||F===void 0?void 0:F.strike)),this.options.text!==!1&&E.push(MK.configure((v=this.options)===null||v===void 0?void 0:v.text)),E}}),bK=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var A,r;const i=n.getAttribute("style"),s=(r=(A=n.parentElement)===null||A===void 0?void 0:A.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${s};${i}`)})},OK=yr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&bK(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",an(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,A)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(i=>!!i))||t.removeMark(A,A+n.nodeSize,this.type)}),!0}}}}),DK=Dt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),NK=Dt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),LK=Dt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),RK=yr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jB=function(t,e){return jB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,A){n.__proto__=A}||function(n,A){for(var r in A)Object.prototype.hasOwnProperty.call(A,r)&&(n[r]=A[r])},jB(t,e)};function qA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jB(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var XB=function(){return XB=Object.assign||function(e){for(var n,A=1,r=arguments.length;A<r;A++){n=arguments[A];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},XB.apply(this,arguments)};function Qn(t,e,n,A){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(f){try{c(A.next(f))}catch(d){s(d)}}function l(f){try{c(A.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):r(f.value).then(o,l)}c((A=A.apply(t,e||[])).next())})}function mn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},A,r,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(f){return l([c,f])}}function l(c){if(A)throw new TypeError("Generator is already executing.");for(;n;)try{if(A=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],r=0}finally{A=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zf(t,e,n){if(n||arguments.length===2)for(var A=0,r=e.length,i;A<r;A++)(i||!(A in e))&&(i||(i=Array.prototype.slice.call(e,0,A)),i[A]=e[A]);return t.concat(i||e)}var ei=function(){function t(e,n,A,r){this.left=e,this.top=n,this.width=A,this.height=r}return t.prototype.add=function(e,n,A,r){return new t(this.left+e,this.top+n,this.width+A,this.height+r)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var A=Array.from(n).find(function(r){return r.width!==0});return A?new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),dg=function(t,e){return ei.fromClientRect(t,e.getBoundingClientRect())},PK=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var A=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),r=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new ei(0,0,A,r)},hg=function(t){for(var e=[],n=0,A=t.length;n<A;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((r&1023)<<10)+(i&1023)+65536):(e.push(r),n--)}else e.push(r)}return e},St=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var s=t[r];s<=65535?A.push(s):(s-=65536,A.push((s>>10)+55296,s%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},CF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wf=0;Wf<CF.length;Wf++)KK[CF.charCodeAt(Wf)]=Wf;var vF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$a=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jf=0;jf<vF.length;jf++)$a[vF.charCodeAt(jf)]=jf;var GK=function(t){var e=t.length*.75,n=t.length,A,r=0,i,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(A=0;A<n;A+=4)i=$a[t.charCodeAt(A)],s=$a[t.charCodeAt(A+1)],o=$a[t.charCodeAt(A+2)],l=$a[t.charCodeAt(A+3)],f[r++]=i<<2|s>>4,f[r++]=(s&15)<<4|o>>2,f[r++]=(o&3)<<6|l&63;return c},VK=function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n},zK=function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n},to=5,eC=6+5,jm=2,WK=eC-to,Ex=65536>>to,jK=1<<to,Xm=jK-1,XK=1024>>to,JK=Ex+XK,YK=JK,$K=32,qK=YK+$K,ZK=65536>>eC,eG=1<<WK,tG=eG-1,SF=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},nG=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},AG=function(t,e){var n=GK(t),A=Array.isArray(n)?zK(n):new Uint32Array(n),r=Array.isArray(n)?VK(n):new Uint16Array(n),i=24,s=SF(r,i/2,A[4]/2),o=A[5]===2?SF(r,(i+A[4])/2):nG(A,Math.ceil((i+A[4])/4));return new rG(A[0],A[1],A[2],A[3],s,o)},rG=function(){function t(e,n,A,r,i,s){this.initialValue=e,this.errorValue=n,this.highStart=A,this.highValueIndex=r,this.index=i,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>to],n=(n<<jm)+(e&Xm),this.data[n];if(e<=65535)return n=this.index[Ex+(e-55296>>to)],n=(n<<jm)+(e&Xm),this.data[n];if(e<this.highStart)return n=qK-ZK+(e>>eC),n=this.index[n],n+=e>>to&tG,n=this.index[n],n=(n<<jm)+(e&Xm),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),FF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xf=0;Xf<FF.length;Xf++)iG[FF.charCodeAt(Xf)]=Xf;var sG="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",EF=50,oG=1,Qx=2,Ux=3,lG=4,aG=5,QF=7,xx=8,UF=9,Di=10,JB=11,xF=12,YB=13,uG=14,qa=15,$B=16,Jf=17,Na=18,cG=19,kF=20,qB=21,La=22,Jm=23,Wo=24,Yn=25,Za=26,eu=27,jo=28,fG=29,Rs=30,dG=31,Yf=32,$f=33,ZB=34,ey=35,ty=36,tc=37,ny=38,Td=39,Md=40,Ym=41,kx=42,hG=43,pG=[9001,65288],_x="!",Te="",qf="",Ay=AG(sG),Hr=[Rs,ty],ry=[oG,Qx,Ux,aG],Ix=[Di,xx],_F=[eu,Za],gG=ry.concat(Ix),IF=[ny,Td,Md,ZB,ey],mG=[qa,YB],BG=function(t,e){e===void 0&&(e="strict");var n=[],A=[],r=[];return t.forEach(function(i,s){var o=Ay.get(i);if(o>EF?(r.push(!0),o-=EF):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return A.push(s),n.push($B);if(o===lG||o===JB){if(s===0)return A.push(s),n.push(Rs);var l=n[s-1];return gG.indexOf(l)===-1?(A.push(A[s-1]),n.push(l)):(A.push(s),n.push(Rs))}if(A.push(s),o===dG)return n.push(e==="strict"?qB:tc);if(o===kx||o===fG)return n.push(Rs);if(o===hG)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(tc):n.push(Rs);n.push(o)}),[A,n,r]},$m=function(t,e,n,A){var r=A[n];if(Array.isArray(t)?t.indexOf(r)!==-1:t===r)for(var i=n;i<=A.length;){i++;var s=A[i];if(s===e)return!0;if(s!==Di)break}if(r===Di)for(var i=n;i>0;){i--;var o=A[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=A.length;){l++;var s=A[l];if(s===e)return!0;if(s!==Di)break}if(o!==Di)break}return!1},TF=function(t,e){for(var n=t;n>=0;){var A=e[n];if(A===Di)n--;else return A}return 0},yG=function(t,e,n,A,r){if(n[A]===0)return Te;var i=A-1;if(Array.isArray(r)&&r[i]===!0)return Te;var s=i-1,o=i+1,l=e[i],c=s>=0?e[s]:0,f=e[o];if(l===Qx&&f===Ux)return Te;if(ry.indexOf(l)!==-1)return _x;if(ry.indexOf(f)!==-1||Ix.indexOf(f)!==-1)return Te;if(TF(i,e)===xx)return qf;if(Ay.get(t[i])===JB||(l===Yf||l===$f)&&Ay.get(t[o])===JB||l===QF||f===QF||l===UF||[Di,YB,qa].indexOf(l)===-1&&f===UF||[Jf,Na,cG,Wo,jo].indexOf(f)!==-1||TF(i,e)===La||$m(Jm,La,i,e)||$m([Jf,Na],qB,i,e)||$m(xF,xF,i,e))return Te;if(l===Di)return qf;if(l===Jm||f===Jm)return Te;if(f===$B||l===$B)return qf;if([YB,qa,qB].indexOf(f)!==-1||l===uG||c===ty&&mG.indexOf(l)!==-1||l===jo&&f===ty||f===kF||Hr.indexOf(f)!==-1&&l===Yn||Hr.indexOf(l)!==-1&&f===Yn||l===eu&&[tc,Yf,$f].indexOf(f)!==-1||[tc,Yf,$f].indexOf(l)!==-1&&f===Za||Hr.indexOf(l)!==-1&&_F.indexOf(f)!==-1||_F.indexOf(l)!==-1&&Hr.indexOf(f)!==-1||[eu,Za].indexOf(l)!==-1&&(f===Yn||[La,qa].indexOf(f)!==-1&&e[o+1]===Yn)||[La,qa].indexOf(l)!==-1&&f===Yn||l===Yn&&[Yn,jo,Wo].indexOf(f)!==-1)return Te;if([Yn,jo,Wo,Jf,Na].indexOf(f)!==-1)for(var d=i;d>=0;){var p=e[d];if(p===Yn)return Te;if([jo,Wo].indexOf(p)!==-1)d--;else break}if([eu,Za].indexOf(f)!==-1)for(var d=[Jf,Na].indexOf(l)!==-1?s:i;d>=0;){var p=e[d];if(p===Yn)return Te;if([jo,Wo].indexOf(p)!==-1)d--;else break}if(ny===l&&[ny,Td,ZB,ey].indexOf(f)!==-1||[Td,ZB].indexOf(l)!==-1&&[Td,Md].indexOf(f)!==-1||[Md,ey].indexOf(l)!==-1&&f===Md||IF.indexOf(l)!==-1&&[kF,Za].indexOf(f)!==-1||IF.indexOf(f)!==-1&&l===eu||Hr.indexOf(l)!==-1&&Hr.indexOf(f)!==-1||l===Wo&&Hr.indexOf(f)!==-1||Hr.concat(Yn).indexOf(l)!==-1&&f===La&&pG.indexOf(t[o])===-1||Hr.concat(Yn).indexOf(f)!==-1&&l===Na)return Te;if(l===Ym&&f===Ym){for(var g=n[i],m=1;g>0&&(g--,e[g]===Ym);)m++;if(m%2!==0)return Te}return l===Yf&&f===$f?Te:qf},wG=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=BG(t,e.lineBreak),A=n[0],r=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Yn,Rs,kx].indexOf(o)!==-1?tc:o}));var s=e.wordBreak==="keep-all"?i.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[A,r,s]},CG=function(){function t(e,n,A,r){this.codePoints=e,this.required=n===_x,this.start=A,this.end=r}return t.prototype.slice=function(){return St.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),vG=function(t,e){var n=hg(t),A=wG(n,e),r=A[0],i=A[1],s=A[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var f=Te;c<o&&(f=yG(n,i,r,++c,s))===Te;);if(f!==Te||c===o){var d=new CG(n,f,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},SG=1,FG=2,yc=4,MF=8,_h=10,HF=47,yu=92,EG=9,QG=32,Zf=34,Ra=61,UG=35,xG=36,kG=37,ed=39,td=40,Pa=41,_G=95,Rn=45,IG=33,TG=60,MG=62,HG=64,bG=91,OG=93,DG=61,NG=123,nd=63,LG=125,bF=124,RG=126,PG=128,OF=65533,qm=42,js=43,KG=44,GG=58,VG=59,nc=46,zG=0,WG=8,jG=11,XG=14,JG=31,YG=127,ar=-1,Tx=48,Mx=97,Hx=101,$G=102,qG=117,ZG=122,bx=65,Ox=69,Dx=70,eV=85,tV=90,yn=function(t){return t>=Tx&&t<=57},nV=function(t){return t>=55296&&t<=57343},Xo=function(t){return yn(t)||t>=bx&&t<=Dx||t>=Mx&&t<=$G},AV=function(t){return t>=Mx&&t<=ZG},rV=function(t){return t>=bx&&t<=tV},iV=function(t){return AV(t)||rV(t)},sV=function(t){return t>=PG},Ad=function(t){return t===_h||t===EG||t===QG},Ih=function(t){return iV(t)||sV(t)||t===_G},DF=function(t){return Ih(t)||yn(t)||t===Rn},oV=function(t){return t>=zG&&t<=WG||t===jG||t>=XG&&t<=JG||t===YG},xi=function(t,e){return t!==yu?!1:e!==_h},rd=function(t,e,n){return t===Rn?Ih(e)||xi(e,n):Ih(t)?!0:!!(t===yu&&xi(t,e))},Zm=function(t,e,n){return t===js||t===Rn?yn(e)?!0:e===nc&&yn(n):yn(t===nc?e:t)},lV=function(t){var e=0,n=1;(t[e]===js||t[e]===Rn)&&(t[e]===Rn&&(n=-1),e++);for(var A=[];yn(t[e]);)A.push(t[e++]);var r=A.length?parseInt(St.apply(void 0,A),10):0;t[e]===nc&&e++;for(var i=[];yn(t[e]);)i.push(t[e++]);var s=i.length,o=s?parseInt(St.apply(void 0,i),10):0;(t[e]===Ox||t[e]===Hx)&&e++;var l=1;(t[e]===js||t[e]===Rn)&&(t[e]===Rn&&(l=-1),e++);for(var c=[];yn(t[e]);)c.push(t[e++]);var f=c.length?parseInt(St.apply(void 0,c),10):0;return n*(r+o*Math.pow(10,-s))*Math.pow(10,l*f)},aV={type:2},uV={type:3},cV={type:4},fV={type:13},dV={type:8},hV={type:21},pV={type:9},gV={type:10},mV={type:11},BV={type:12},yV={type:14},id={type:23},wV={type:1},CV={type:25},vV={type:24},SV={type:26},FV={type:27},EV={type:28},QV={type:29},UV={type:31},iy={type:32},Nx=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(hg(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==iy;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Zf:return this.consumeStringToken(Zf);case UG:var n=this.peekCodePoint(0),A=this.peekCodePoint(1),r=this.peekCodePoint(2);if(DF(n)||xi(A,r)){var i=rd(n,A,r)?FG:SG,s=this.consumeName();return{type:5,value:s,flags:i}}break;case xG:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),fV;break;case ed:return this.consumeStringToken(ed);case td:return aV;case Pa:return uV;case qm:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),yV;break;case js:if(Zm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case KG:return cV;case Rn:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Zm(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rd(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Rn&&c===MG)return this.consumeCodePoint(),this.consumeCodePoint(),vV;break;case nc:if(Zm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case HF:if(this.peekCodePoint(0)===qm)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===qm&&(f=this.consumeCodePoint(),f===HF))return this.consumeToken();if(f===ar)return this.consumeToken()}break;case GG:return SV;case VG:return FV;case TG:if(this.peekCodePoint(0)===IG&&this.peekCodePoint(1)===Rn&&this.peekCodePoint(2)===Rn)return this.consumeCodePoint(),this.consumeCodePoint(),CV;break;case HG:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(rd(d,p,g)){var s=this.consumeName();return{type:7,value:s}}break;case bG:return EV;case yu:if(xi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case OG:return QV;case DG:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),dV;break;case NG:return mV;case LG:return BV;case qG:case eV:var m=this.peekCodePoint(0),w=this.peekCodePoint(1);return m===js&&(Xo(w)||w===nd)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bF:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),pV;if(this.peekCodePoint(0)===bF)return this.consumeCodePoint(),hV;break;case RG:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),gV;break;case ar:return iy}return Ad(e)?(this.consumeWhiteSpace(),UV):yn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ih(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:St(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Xo(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var A=!1;n===nd&&e.length<6;)e.push(n),n=this.consumeCodePoint(),A=!0;if(A){var r=parseInt(St.apply(void 0,e.map(function(l){return l===nd?Tx:l})),16),i=parseInt(St.apply(void 0,e.map(function(l){return l===nd?Dx:l})),16);return{type:30,start:r,end:i}}var s=parseInt(St.apply(void 0,e),16);if(this.peekCodePoint(0)===Rn&&Xo(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];Xo(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var i=parseInt(St.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===td?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===td?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ar)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===ed||n===Zf){var A=this.consumeStringToken(this.consumeCodePoint());return A.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ar||this.peekCodePoint(0)===Pa)?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),id)}for(;;){var r=this.consumeCodePoint();if(r===ar||r===Pa)return{type:22,value:St.apply(void 0,e)};if(Ad(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ar||this.peekCodePoint(0)===Pa?(this.consumeCodePoint(),{type:22,value:St.apply(void 0,e)}):(this.consumeBadUrlRemnants(),id);if(r===Zf||r===ed||r===td||oV(r))return this.consumeBadUrlRemnants(),id;if(r===yu)if(xi(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),id;else e.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;Ad(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Pa||e===ar)return;xi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,A="";e>0;){var r=Math.min(n,e);A+=St.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),A},t.prototype.consumeStringToken=function(e){var n="",A=0;do{var r=this._value[A];if(r===ar||r===void 0||r===e)return n+=this.consumeStringSlice(A),{type:0,value:n};if(r===_h)return this._value.splice(0,A),wV;if(r===yu){var i=this._value[A+1];i!==ar&&i!==void 0&&(i===_h?(n+=this.consumeStringSlice(A),A=-1,this._value.shift()):xi(r,i)&&(n+=this.consumeStringSlice(A),n+=St(this.consumeEscapedCodePoint()),A=-1))}A++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=yc,A=this.peekCodePoint(0);for((A===js||A===Rn)&&e.push(this.consumeCodePoint());yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(A===nc&&yn(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=MF;yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((A===Ox||A===Hx)&&((r===js||r===Rn)&&yn(i)||yn(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=MF;yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[lV(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],A=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(rd(r,i,s)){var o=this.consumeName();return{type:15,number:n,flags:A,unit:o}}return r===kG?(this.consumeCodePoint(),{type:16,number:n,flags:A}):{type:17,number:n,flags:A}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Xo(e)){for(var n=St(e);Xo(this.peekCodePoint(0))&&n.length<6;)n+=St(this.consumeCodePoint());Ad(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(n,16);return A===0||nV(A)||A>1114111?OF:A}return e===ar?OF:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(DF(n))e+=St(n);else if(xi(n,this.peekCodePoint(0)))e+=St(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),Lx=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new Nx;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},A=this.consumeToken();;){if(A.type===32||kV(A,e))return n;this.reconsumeToken(A),n.values.push(this.consumeComponentValue()),A=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var A=this.consumeToken();if(A.type===32||A.type===3)return n;this.reconsumeToken(A),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?iy:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),wc=function(t){return t.type===15},Aa=function(t){return t.type===17},We=function(t){return t.type===20},xV=function(t){return t.type===0},sy=function(t,e){return We(t)&&t.value===e},Rx=function(t){return t.type!==31},zl=function(t){return t.type!==31&&t.type!==4},Sr=function(t){var e=[],n=[];return t.forEach(function(A){if(A.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}A.type!==31&&n.push(A)}),n.length&&e.push(n),e},kV=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ss=function(t){return t.type===17||t.type===15},Ut=function(t){return t.type===16||ss(t)},Px=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},sn={type:17,number:0,flags:yc},tC={type:16,number:50,flags:yc},Ni={type:16,number:100,flags:yc},tu=function(t,e,n){var A=t[0],r=t[1];return[Ze(A,e),Ze(typeof r<"u"?r:A,n)]},Ze=function(t,e){if(t.type===16)return t.number/100*e;if(wc(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Kx="deg",Gx="grad",Vx="rad",zx="turn",pg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Kx:return Math.PI*e.number/180;case Gx:return Math.PI/200*e.number;case Vx:return e.number;case zx:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Wx=function(t){return t.type===15&&(t.unit===Kx||t.unit===Gx||t.unit===Vx||t.unit===zx)},jx=function(t){var e=t.filter(We).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sn,sn];case"to top":case"bottom":return SA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sn,Ni];case"to right":case"left":return SA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ni,Ni];case"to bottom":case"top":return SA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ni,sn];case"to left":case"right":return SA(270)}return 0},SA=function(t){return Math.PI*t/180},Zi={name:"color",parse:function(t,e){if(e.type===18){var n=_V[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var A=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);return Li(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(e.value.length===4){var A=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3),s=e.value.substring(3,4);return Li(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(e.value.length===6){var A=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6);return Li(parseInt(A,16),parseInt(r,16),parseInt(i,16),1)}if(e.value.length===8){var A=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return Li(parseInt(A,16),parseInt(r,16),parseInt(i,16),parseInt(s,16)/255)}}if(e.type===20){var o=Xr[e.value.toUpperCase()];if(typeof o<"u")return o}return Xr.TRANSPARENT}},es=function(t){return(255&t)===0},Vt=function(t){var e=255&t,n=255&t>>8,A=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+A+","+n+","+e/255+")":"rgb("+r+","+A+","+n+")"},Li=function(t,e,n,A){return(t<<24|e<<16|n<<8|Math.round(A*255)<<0)>>>0},NF=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},LF=function(t,e){var n=e.filter(zl);if(n.length===3){var A=n.map(NF),r=A[0],i=A[1],s=A[2];return Li(r,i,s,1)}if(n.length===4){var o=n.map(NF),r=o[0],i=o[1],s=o[2],l=o[3];return Li(r,i,s,l)}return 0};function e1(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var RF=function(t,e){var n=e.filter(zl),A=n[0],r=n[1],i=n[2],s=n[3],o=(A.type===17?SA(A.number):pg.parse(t,A))/(Math.PI*2),l=Ut(r)?r.number/100:0,c=Ut(i)?i.number/100:0,f=typeof s<"u"&&Ut(s)?Ze(s,1):1;if(l===0)return Li(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,p=c*2-d,g=e1(p,d,o+1/3),m=e1(p,d,o),w=e1(p,d,o-1/3);return Li(g*255,m*255,w*255,f)},_V={hsl:RF,hsla:RF,rgb:LF,rgba:LF},wu=function(t,e){return Zi.parse(t,Lx.create(e).parseComponentValue())},Xr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},IV={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(We(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},TV={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gg=function(t,e){var n=Zi.parse(t,e[0]),A=e[1];return A&&Ut(A)?{color:n,stop:A}:{color:n,stop:null}},PF=function(t,e){var n=t[0],A=t[t.length-1];n.stop===null&&(n.stop=sn),A.stop===null&&(A.stop=Ni);for(var r=[],i=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var l=Ze(o,e);l>i?r.push(l):r.push(i),i=l}else r.push(null)}for(var c=null,s=0;s<r.length;s++){var f=r[s];if(f===null)c===null&&(c=s);else if(c!==null){for(var d=s-c,p=r[c-1],g=(f-p)/(d+1),m=1;m<=d;m++)r[c+m-1]=g*m;c=null}}return t.map(function(w,F){var v=w.color;return{color:v,stop:Math.max(Math.min(1,r[F]/e),0)}})},MV=function(t,e,n){var A=e/2,r=n/2,i=Ze(t[0],e)-A,s=r-Ze(t[1],n);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},HV=function(t,e,n){var A=typeof t=="number"?t:MV(t,e,n),r=Math.abs(e*Math.sin(A))+Math.abs(n*Math.cos(A)),i=e/2,s=n/2,o=r/2,l=Math.sin(A-Math.PI/2)*o,c=Math.cos(A-Math.PI/2)*o;return[r,i-c,i+c,s-l,s+l]},NA=function(t,e){return Math.sqrt(t*t+e*e)},KF=function(t,e,n,A,r){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(s,o){var l=o[0],c=o[1],f=NA(n-l,A-c);return(r?f<s.optimumDistance:f>s.optimumDistance)?{optimumCorner:o,optimumDistance:f}:s},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},bV=function(t,e,n,A,r){var i=0,s=0;switch(t.size){case 0:t.shape===0?i=s=Math.min(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-r)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-A)),s=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(t.shape===0)i=s=Math.min(NA(e,n),NA(e,n-r),NA(e-A,n),NA(e-A,n-r));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(e),Math.abs(e-A)),l=KF(A,r,e,n,!0),c=l[0],f=l[1];i=NA(c-e,(f-n)/o),s=o*i}break;case 1:t.shape===0?i=s=Math.max(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-r)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-A)),s=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(t.shape===0)i=s=Math.max(NA(e,n),NA(e,n-r),NA(e-A,n),NA(e-A,n-r));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(e),Math.abs(e-A)),d=KF(A,r,e,n,!1),c=d[0],f=d[1];i=NA(c-e,(f-n)/o),s=o*i}break}return Array.isArray(t.size)&&(i=Ze(t.size[0],A),s=t.size.length===2?Ze(t.size[1],r):i),[i,s]},OV=function(t,e){var n=SA(180),A=[];return Sr(e).forEach(function(r,i){if(i===0){var s=r[0];if(s.type===20&&s.value==="to"){n=jx(r);return}else if(Wx(s)){n=pg.parse(t,s);return}}var o=gg(t,r);A.push(o)}),{angle:n,stops:A,type:1}},sd=function(t,e){var n=SA(180),A=[];return Sr(e).forEach(function(r,i){if(i===0){var s=r[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){n=jx(r);return}else if(Wx(s)){n=(pg.parse(t,s)+SA(270))%SA(360);return}}var o=gg(t,r);A.push(o)}),{angle:n,stops:A,type:1}},DV=function(t,e){var n=SA(180),A=[],r=1,i=0,s=3,o=[];return Sr(e).forEach(function(l,c){var f=l[0];if(c===0){if(We(f)&&f.value==="linear"){r=1;return}else if(We(f)&&f.value==="radial"){r=2;return}}if(f.type===18){if(f.name==="from"){var d=Zi.parse(t,f.values[0]);A.push({stop:sn,color:d})}else if(f.name==="to"){var d=Zi.parse(t,f.values[0]);A.push({stop:Ni,color:d})}else if(f.name==="color-stop"){var p=f.values.filter(zl);if(p.length===2){var d=Zi.parse(t,p[1]),g=p[0];Aa(g)&&A.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),r===1?{angle:(n+SA(180))%SA(360),stops:A,type:r}:{size:s,shape:i,stops:A,position:o,type:r}},Xx="closest-side",Jx="farthest-side",Yx="closest-corner",$x="farthest-corner",qx="circle",Zx="ellipse",e6="cover",t6="contain",NV=function(t,e){var n=0,A=3,r=[],i=[];return Sr(e).forEach(function(s,o){var l=!0;if(o===0){var c=!1;l=s.reduce(function(d,p){if(c)if(We(p))switch(p.value){case"center":return i.push(tC),d;case"top":case"left":return i.push(sn),d;case"right":case"bottom":return i.push(Ni),d}else(Ut(p)||ss(p))&&i.push(p);else if(We(p))switch(p.value){case qx:return n=0,!1;case Zx:return n=1,!1;case"at":return c=!0,!1;case Xx:return A=0,!1;case e6:case Jx:return A=1,!1;case t6:case Yx:return A=2,!1;case $x:return A=3,!1}else if(ss(p)||Ut(p))return Array.isArray(A)||(A=[]),A.push(p),!1;return d},l)}if(l){var f=gg(t,s);r.push(f)}}),{size:A,shape:n,stops:r,position:i,type:2}},od=function(t,e){var n=0,A=3,r=[],i=[];return Sr(e).forEach(function(s,o){var l=!0;if(o===0?l=s.reduce(function(f,d){if(We(d))switch(d.value){case"center":return i.push(tC),!1;case"top":case"left":return i.push(sn),!1;case"right":case"bottom":return i.push(Ni),!1}else if(Ut(d)||ss(d))return i.push(d),!1;return f},l):o===1&&(l=s.reduce(function(f,d){if(We(d))switch(d.value){case qx:return n=0,!1;case Zx:return n=1,!1;case t6:case Xx:return A=0,!1;case Jx:return A=1,!1;case Yx:return A=2,!1;case e6:case $x:return A=3,!1}else if(ss(d)||Ut(d))return Array.isArray(A)||(A=[]),A.push(d),!1;return f},l)),l){var c=gg(t,s);r.push(c)}}),{size:A,shape:n,stops:r,position:i,type:2}},LV=function(t){return t.type===1},RV=function(t){return t.type===2},nC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var A=n6[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function PV(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!n6[t.name])}var n6={"linear-gradient":OV,"-moz-linear-gradient":sd,"-ms-linear-gradient":sd,"-o-linear-gradient":sd,"-webkit-linear-gradient":sd,"radial-gradient":NV,"-moz-radial-gradient":od,"-ms-radial-gradient":od,"-o-radial-gradient":od,"-webkit-radial-gradient":od,"-webkit-gradient":DV},KV={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(A){return zl(A)&&PV(A)}).map(function(A){return nC.parse(t,A)})}},GV={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(We(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},VV={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Sr(e).map(function(n){return n.filter(Ut)}).map(Px)}},zV={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Sr(e).map(function(n){return n.filter(We).map(function(A){return A.value}).join(" ")}).map(WV)}},WV=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ul;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ul||(Ul={}));var jV={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Sr(e).map(function(n){return n.filter(XV)})}},XV=function(t){return We(t)||Ut(t)},mg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},JV=mg("top"),YV=mg("right"),$V=mg("bottom"),qV=mg("left"),Bg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return Px(n.filter(Ut))}}},ZV=Bg("top-left"),ez=Bg("top-right"),tz=Bg("bottom-right"),nz=Bg("bottom-left"),yg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Az=yg("top"),rz=yg("right"),iz=yg("bottom"),sz=yg("left"),wg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return wc(n)?n.number:0}}},oz=wg("top"),lz=wg("right"),az=wg("bottom"),uz=wg("left"),cz={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fz={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},dz={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(We).reduce(function(n,A){return n|hz(A.value)},0)}},hz=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pz={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gz={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Th;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Th||(Th={}));var mz={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Th.STRICT;case"normal":default:return Th.NORMAL}}},Bz={name:"line-height",initialValue:"normal",prefix:!1,type:4},GF=function(t,e){return We(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ut(t)?Ze(t,e):e},yz={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:nC.parse(t,e)}},wz={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},oy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Cg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Cz=Cg("top"),vz=Cg("right"),Sz=Cg("bottom"),Fz=Cg("left"),Ez={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(We).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Qz={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},vg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Uz=vg("top"),xz=vg("right"),kz=vg("bottom"),_z=vg("left"),Iz={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tz={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Mz={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sy(e[0],"none")?[]:Sr(e).map(function(n){for(var A={color:Xr.TRANSPARENT,offsetX:sn,offsetY:sn,blur:sn},r=0,i=0;i<n.length;i++){var s=n[i];ss(s)?(r===0?A.offsetX=s:r===1?A.offsetY=s:A.blur=s,r++):A.color=Zi.parse(t,s)}return A})}},Hz={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bz={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Nz[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Oz=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Dz=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],A=e[1];e[2],e[3];var r=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[n,A,r,i,s,o]:null},Nz={matrix:Oz,matrix3d:Dz},VF={type:16,number:50,flags:yc},Lz=[VF,VF],Rz={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Ut);return n.length!==2?Lz:[n[0],n[1]]}},Pz={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Cu;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Cu||(Cu={}));var Kz={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Cu.BREAK_ALL;case"keep-all":return Cu.KEEP_ALL;case"normal":default:return Cu.NORMAL}}},Gz={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Aa(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},A6={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Vz={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Aa(e)?e.number:1}},zz={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wz={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(We).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},jz={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],A=[];return e.forEach(function(r){switch(r.type){case 20:case 0:n.push(r.value);break;case 17:n.push(r.number.toString());break;case 4:A.push(n.join(" ")),n.length=0;break}}),n.length&&A.push(n.join(" ")),A.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},Xz={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Jz={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Aa(e))return e.number;if(We(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Yz={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(We).map(function(n){return n.value})}},$z={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bt=function(t,e){return(t&e)!==0},qz={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Zz={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var A=[],r=e.filter(Rx),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(s.type===20){var l=o&&Aa(o)?o.number:1;A.push({counter:s.value,increment:l})}}return A}},eW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],A=e.filter(Rx),r=0;r<A.length;r++){var i=A[r],s=A[r+1];if(We(i)&&i.value!=="none"){var o=s&&Aa(s)?s.number:0;n.push({counter:i.value,reset:o})}}return n}},tW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(wc).map(function(n){return A6.parse(t,n)})}},nW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var A=[],r=e.filter(xV);if(r.length%2!==0)return null;for(var i=0;i<r.length;i+=2){var s=r[i].value,o=r[i+1].value;A.push({open:s,close:o})}return A}},zF=function(t,e,n){if(!t)return"";var A=t[Math.min(e,t.length-1)];return A?n?A.open:A.close:""},AW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sy(e[0],"none")?[]:Sr(e).map(function(n){for(var A={color:255,offsetX:sn,offsetY:sn,blur:sn,spread:sn,inset:!1},r=0,i=0;i<n.length;i++){var s=n[i];sy(s,"inset")?A.inset=!0:ss(s)?(r===0?A.offsetX=s:r===1?A.offsetY=s:r===2?A.blur=s:A.spread=s,r++):A.color=Zi.parse(t,s)}return A})}},rW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],A=[];return e.filter(We).forEach(function(r){switch(r.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2);break}}),n.forEach(function(r){A.indexOf(r)===-1&&A.push(r)}),A}},iW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},sW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return wc(e)?e.number:0}},oW=function(){function t(e,n){var A,r;this.animationDuration=Ae(e,tW,n.animationDuration),this.backgroundClip=Ae(e,IV,n.backgroundClip),this.backgroundColor=Ae(e,TV,n.backgroundColor),this.backgroundImage=Ae(e,KV,n.backgroundImage),this.backgroundOrigin=Ae(e,GV,n.backgroundOrigin),this.backgroundPosition=Ae(e,VV,n.backgroundPosition),this.backgroundRepeat=Ae(e,zV,n.backgroundRepeat),this.backgroundSize=Ae(e,jV,n.backgroundSize),this.borderTopColor=Ae(e,JV,n.borderTopColor),this.borderRightColor=Ae(e,YV,n.borderRightColor),this.borderBottomColor=Ae(e,$V,n.borderBottomColor),this.borderLeftColor=Ae(e,qV,n.borderLeftColor),this.borderTopLeftRadius=Ae(e,ZV,n.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,ez,n.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,tz,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,nz,n.borderBottomLeftRadius),this.borderTopStyle=Ae(e,Az,n.borderTopStyle),this.borderRightStyle=Ae(e,rz,n.borderRightStyle),this.borderBottomStyle=Ae(e,iz,n.borderBottomStyle),this.borderLeftStyle=Ae(e,sz,n.borderLeftStyle),this.borderTopWidth=Ae(e,oz,n.borderTopWidth),this.borderRightWidth=Ae(e,lz,n.borderRightWidth),this.borderBottomWidth=Ae(e,az,n.borderBottomWidth),this.borderLeftWidth=Ae(e,uz,n.borderLeftWidth),this.boxShadow=Ae(e,AW,n.boxShadow),this.color=Ae(e,cz,n.color),this.direction=Ae(e,fz,n.direction),this.display=Ae(e,dz,n.display),this.float=Ae(e,pz,n.cssFloat),this.fontFamily=Ae(e,jz,n.fontFamily),this.fontSize=Ae(e,Xz,n.fontSize),this.fontStyle=Ae(e,$z,n.fontStyle),this.fontVariant=Ae(e,Yz,n.fontVariant),this.fontWeight=Ae(e,Jz,n.fontWeight),this.letterSpacing=Ae(e,gz,n.letterSpacing),this.lineBreak=Ae(e,mz,n.lineBreak),this.lineHeight=Ae(e,Bz,n.lineHeight),this.listStyleImage=Ae(e,yz,n.listStyleImage),this.listStylePosition=Ae(e,wz,n.listStylePosition),this.listStyleType=Ae(e,oy,n.listStyleType),this.marginTop=Ae(e,Cz,n.marginTop),this.marginRight=Ae(e,vz,n.marginRight),this.marginBottom=Ae(e,Sz,n.marginBottom),this.marginLeft=Ae(e,Fz,n.marginLeft),this.opacity=Ae(e,Vz,n.opacity);var i=Ae(e,Ez,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ae(e,Qz,n.overflowWrap),this.paddingTop=Ae(e,Uz,n.paddingTop),this.paddingRight=Ae(e,xz,n.paddingRight),this.paddingBottom=Ae(e,kz,n.paddingBottom),this.paddingLeft=Ae(e,_z,n.paddingLeft),this.paintOrder=Ae(e,rW,n.paintOrder),this.position=Ae(e,Tz,n.position),this.textAlign=Ae(e,Iz,n.textAlign),this.textDecorationColor=Ae(e,zz,(A=n.textDecorationColor)!==null&&A!==void 0?A:n.color),this.textDecorationLine=Ae(e,Wz,(r=n.textDecorationLine)!==null&&r!==void 0?r:n.textDecoration),this.textShadow=Ae(e,Mz,n.textShadow),this.textTransform=Ae(e,Hz,n.textTransform),this.transform=Ae(e,bz,n.transform),this.transformOrigin=Ae(e,Rz,n.transformOrigin),this.visibility=Ae(e,Pz,n.visibility),this.webkitTextStrokeColor=Ae(e,iW,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,sW,n.webkitTextStrokeWidth),this.wordBreak=Ae(e,Kz,n.wordBreak),this.zIndex=Ae(e,Gz,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return es(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return bt(this.display,4)||bt(this.display,33554432)||bt(this.display,268435456)||bt(this.display,536870912)||bt(this.display,67108864)||bt(this.display,134217728)},t}(),lW=function(){function t(e,n){this.content=Ae(e,qz,n.content),this.quotes=Ae(e,nW,n.quotes)}return t}(),WF=function(){function t(e,n){this.counterIncrement=Ae(e,Zz,n.counterIncrement),this.counterReset=Ae(e,eW,n.counterReset)}return t}(),Ae=function(t,e,n){var A=new Nx,r=n!==null&&typeof n<"u"?n.toString():e.initialValue;A.write(r);var i=new Lx(A.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(t,We(s)?s.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return pg.parse(t,i.parseComponentValue());case"color":return Zi.parse(t,i.parseComponentValue());case"image":return nC.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return ss(o)?o:sn;case"length-percentage":var l=i.parseComponentValue();return Ut(l)?l:sn;case"time":return A6.parse(t,i.parseComponentValue())}break}},aW="data-html2canvas-debug",uW=function(t){var e=t.getAttribute(aW);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ly=function(t,e){var n=uW(t);return n===1||e===n},Fr=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ly(n,3))debugger;this.styles=new oW(e,window.getComputedStyle(n,null)),cy(n)&&(this.styles.animationDuration.some(function(A){return A>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=dg(this.context,n),ly(n,4)&&(this.flags|=16)}return t}(),cW="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",jF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ld=0;ld<jF.length;ld++)nu[jF.charCodeAt(ld)]=ld;var fW=function(t){var e=t.length*.75,n=t.length,A,r=0,i,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(A=0;A<n;A+=4)i=nu[t.charCodeAt(A)],s=nu[t.charCodeAt(A+1)],o=nu[t.charCodeAt(A+2)],l=nu[t.charCodeAt(A+3)],f[r++]=i<<2|s>>4,f[r++]=(s&15)<<4|o>>2,f[r++]=(o&3)<<6|l&63;return c},dW=function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n},hW=function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n},no=5,AC=6+5,t1=2,pW=AC-no,r6=65536>>no,gW=1<<no,n1=gW-1,mW=1024>>no,BW=r6+mW,yW=BW,wW=32,CW=yW+wW,vW=65536>>AC,SW=1<<pW,FW=SW-1,XF=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},EW=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},QW=function(t,e){var n=fW(t),A=Array.isArray(n)?hW(n):new Uint32Array(n),r=Array.isArray(n)?dW(n):new Uint16Array(n),i=24,s=XF(r,i/2,A[4]/2),o=A[5]===2?XF(r,(i+A[4])/2):EW(A,Math.ceil((i+A[4])/4));return new UW(A[0],A[1],A[2],A[3],s,o)},UW=function(){function t(e,n,A,r,i,s){this.initialValue=e,this.errorValue=n,this.highStart=A,this.highValueIndex=r,this.index=i,this.data=s}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>no],n=(n<<t1)+(e&n1),this.data[n];if(e<=65535)return n=this.index[r6+(e-55296>>no)],n=(n<<t1)+(e&n1),this.data[n];if(e<this.highStart)return n=CW-vW+(e>>AC),n=this.index[n],n+=e>>no&FW,n=this.index[n],n=(n<<t1)+(e&n1),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),JF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ad=0;ad<JF.length;ad++)xW[JF.charCodeAt(ad)]=ad;var kW=1,A1=2,r1=3,YF=4,$F=5,_W=7,qF=8,i1=9,s1=10,ZF=11,e3=12,t3=13,n3=14,o1=15,IW=function(t){for(var e=[],n=0,A=t.length;n<A;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((r&1023)<<10)+(i&1023)+65536):(e.push(r),n--)}else e.push(r)}return e},TW=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var s=t[r];s<=65535?A.push(s):(s-=65536,A.push((s>>10)+55296,s%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},MW=QW(cW),pA="",l1="",HW=function(t){return MW.get(t)},bW=function(t,e,n){var A=n-2,r=e[A],i=e[n-1],s=e[n];if(i===A1&&s===r1)return pA;if(i===A1||i===r1||i===YF||s===A1||s===r1||s===YF)return l1;if(i===qF&&[qF,i1,ZF,e3].indexOf(s)!==-1||(i===ZF||i===i1)&&(s===i1||s===s1)||(i===e3||i===s1)&&s===s1||s===t3||s===$F||s===_W||i===kW)return pA;if(i===t3&&s===n3){for(;r===$F;)r=e[--A];if(r===n3)return pA}if(i===o1&&s===o1){for(var o=0;r===o1;)o++,r=e[--A];if(o%2===0)return pA}return l1},OW=function(t){var e=IW(t),n=e.length,A=0,r=0,i=e.map(HW);return{next:function(){if(A>=n)return{done:!0,value:null};for(var s=pA;A<n&&(s=bW(e,i,++A))===pA;);if(s!==pA||A===n){var o=TW.apply(null,e.slice(r,A));return r=A,{value:o,done:!1}}return{done:!0,value:null}}}},DW=function(t){for(var e=OW(t),n=[],A;!(A=e.next()).done;)A.value&&n.push(A.value.slice());return n},NW=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var A=t.createElement("boundtest");A.style.height=e+"px",A.style.display="block",t.body.appendChild(A),n.selectNode(A);var r=n.getBoundingClientRect(),i=Math.round(r.height);if(t.body.removeChild(A),i===e)return!0}}return!1},LW=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var A=e.firstChild,r=hg(A.data).map(function(l){return St(l)}),i=0,s={},o=r.every(function(l,c){n.setStart(A,i),n.setEnd(A,i+l.length);var f=n.getBoundingClientRect();i+=l.length;var d=f.x>s.x||f.y>s.y;return s=f,c===0?!0:d});return t.body.removeChild(e),o},RW=function(){return typeof new Image().crossOrigin<"u"},PW=function(){return typeof new XMLHttpRequest().responseType=="string"},KW=function(t){var e=new Image,n=t.createElement("canvas"),A=n.getContext("2d");if(!A)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},A3=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},GW=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,n,n);var r=new Image,i=e.toDataURL();r.src=i;var s=ay(n,n,0,0,r);return A.fillStyle="red",A.fillRect(0,0,n,n),r3(s).then(function(o){A.drawImage(o,0,0);var l=A.getImageData(0,0,n,n).data;A.fillStyle="red",A.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",A3(l)?r3(ay(n,n,0,0,c)):Promise.reject(!1)}).then(function(o){return A.drawImage(o,0,0),A3(A.getImageData(0,0,n,n).data)}).catch(function(){return!1})},ay=function(t,e,n,A,r){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",A.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(r),s},r3=function(t){return new Promise(function(e,n){var A=new Image;A.onload=function(){return e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},nn={get SUPPORT_RANGE_BOUNDS(){var t=NW(document);return Object.defineProperty(nn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=nn.SUPPORT_RANGE_BOUNDS&&LW(document);return Object.defineProperty(nn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=KW(document);return Object.defineProperty(nn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?GW(document):Promise.resolve(!1);return Object.defineProperty(nn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=RW();return Object.defineProperty(nn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=PW();return Object.defineProperty(nn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(nn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(nn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},vu=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),VW=function(t,e,n,A){var r=jW(e,n),i=[],s=0;return r.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(nn.SUPPORT_RANGE_BOUNDS){var l=i3(A,s,o.length).getClientRects();if(l.length>1){var c=rC(o),f=0;c.forEach(function(p){i.push(new vu(p,ei.fromDOMRectList(t,i3(A,f+s,p.length).getClientRects()))),f+=p.length})}else i.push(new vu(o,ei.fromDOMRectList(t,l)))}else{var d=A.splitText(o.length);i.push(new vu(o,zW(t,A))),A=d}else nn.SUPPORT_RANGE_BOUNDS||(A=A.splitText(o.length));s+=o.length}),i},zW=function(t,e){var n=e.ownerDocument;if(n){var A=n.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(A,e);var i=dg(t,A);return A.firstChild&&r.replaceChild(A.firstChild,A),i}}return ei.EMPTY},i3=function(t,e,n){var A=t.ownerDocument;if(!A)throw new Error("Node has no owner document");var r=A.createRange();return r.setStart(t,e),r.setEnd(t,e+n),r},rC=function(t){if(nn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return DW(t)},WW=function(t,e){if(nn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(A){return A.segment})}return JW(t,e)},jW=function(t,e){return e.letterSpacing!==0?rC(t):WW(t,e)},XW=[32,160,4961,65792,65793,4153,4241],JW=function(t,e){for(var n=vG(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),A=[],r,i=function(){if(r.value){var s=r.value.slice(),o=hg(s),l="";o.forEach(function(c){XW.indexOf(c)===-1?l+=St(c):(l.length&&A.push(l),A.push(St(c)),l="")}),l.length&&A.push(l)}};!(r=n.next()).done;)i();return A},YW=function(){function t(e,n,A){this.text=$W(n.data,A.textTransform),this.textBounds=VW(e,this.text,A,n)}return t}(),$W=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(qW,ZW);case 2:return t.toUpperCase();default:return t}},qW=/(^|\s|:|-|\(|\))([a-z])/g,ZW=function(t,e,n){return t.length>0?e+n.toUpperCase():t},i6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.src=A.currentSrc||A.src,r.intrinsicWidth=A.naturalWidth,r.intrinsicHeight=A.naturalHeight,r.context.cache.addImage(r.src),r}return e}(Fr),s6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.canvas=A,r.intrinsicWidth=A.width,r.intrinsicHeight=A.height,r}return e}(Fr),o6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this,i=new XMLSerializer,s=dg(n,A);return A.setAttribute("width",s.width+"px"),A.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(A)),r.intrinsicWidth=A.width.baseVal.value,r.intrinsicHeight=A.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e}(Fr),l6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.value=A.value,r}return e}(Fr),uy=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.start=A.start,r.reversed=typeof A.reversed=="boolean"&&A.reversed===!0,r}return e}(Fr),ej=[{type:15,flags:0,unit:"px",number:3}],tj=[{type:16,flags:0,number:50}],nj=function(t){return t.width>t.height?new ei(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ei(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Aj=function(t){var e=t.type===rj?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Mh="checkbox",Hh="radio",rj="password",s3=707406591,iC=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;switch(r.type=A.type.toLowerCase(),r.checked=A.checked,r.value=Aj(A),(r.type===Mh||r.type===Hh)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=nj(r.bounds)),r.type){case Mh:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ej;break;case Hh:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=tj;break}return r}return e}(Fr),a6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this,i=A.options[A.selectedIndex||0];return r.value=i&&i.text||"",r}return e}(Fr),u6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.value=A.value,r}return e}(Fr),c6=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;r.src=A.src,r.width=parseInt(A.width,10)||0,r.height=parseInt(A.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){r.tree=d6(n,A.contentWindow.document.documentElement);var i=A.contentWindow.document.documentElement?wu(n,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Xr.TRANSPARENT,s=A.contentWindow.document.body?wu(n,getComputedStyle(A.contentWindow.document.body).backgroundColor):Xr.TRANSPARENT;r.backgroundColor=es(i)?es(s)?r.styles.backgroundColor:s:i}}catch{}return r}return e}(Fr),ij=["OL","UL","MENU"],Hd=function(t,e,n,A){for(var r=e.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,h6(r)&&r.data.trim().length>0)n.textNodes.push(new YW(t,r,n.styles));else if(gl(r))if(B6(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return Hd(t,o,n,A)});else{var s=f6(t,r);s.styles.isVisible()&&(sj(r,s,A)?s.flags|=4:oj(s.styles)&&(s.flags|=2),ij.indexOf(r.tagName)!==-1&&(s.flags|=8),n.elements.push(s),r.slot,r.shadowRoot?Hd(t,r.shadowRoot,s,A):!bh(r)&&!p6(r)&&!Oh(r)&&Hd(t,r,s,A))}},f6=function(t,e){return fy(e)?new i6(t,e):g6(e)?new s6(t,e):p6(e)?new o6(t,e):lj(e)?new l6(t,e):aj(e)?new uy(t,e):uj(e)?new iC(t,e):Oh(e)?new a6(t,e):bh(e)?new u6(t,e):m6(e)?new c6(t,e):new Fr(t,e)},d6=function(t,e){var n=f6(t,e);return n.flags|=4,Hd(t,e,n,n),n},sj=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||sC(t)&&n.styles.isTransparent()},oj=function(t){return t.isPositioned()||t.isFloating()},h6=function(t){return t.nodeType===Node.TEXT_NODE},gl=function(t){return t.nodeType===Node.ELEMENT_NODE},cy=function(t){return gl(t)&&typeof t.style<"u"&&!bd(t)},bd=function(t){return typeof t.className=="object"},lj=function(t){return t.tagName==="LI"},aj=function(t){return t.tagName==="OL"},uj=function(t){return t.tagName==="INPUT"},cj=function(t){return t.tagName==="HTML"},p6=function(t){return t.tagName==="svg"},sC=function(t){return t.tagName==="BODY"},g6=function(t){return t.tagName==="CANVAS"},o3=function(t){return t.tagName==="VIDEO"},fy=function(t){return t.tagName==="IMG"},m6=function(t){return t.tagName==="IFRAME"},l3=function(t){return t.tagName==="STYLE"},fj=function(t){return t.tagName==="SCRIPT"},bh=function(t){return t.tagName==="TEXTAREA"},Oh=function(t){return t.tagName==="SELECT"},B6=function(t){return t.tagName==="SLOT"},a3=function(t){return t.tagName.indexOf("-")>0},dj=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(A){return n.counters[A].pop()})},t.prototype.parse=function(e){var n=this,A=e.counterIncrement,r=e.counterReset,i=!0;A!==null&&A.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var s=[];return i&&r.forEach(function(o){var l=n.counters[o.counter];s.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),s},t}(),u3={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},c3={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hj={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pj={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Jo=function(t,e,n,A,r,i){return t<e||t>n?Ac(t,r,i.length>0):A.integers.reduce(function(s,o,l){for(;t>=o;)t-=o,s+=A.values[l];return s},"")+i},y6=function(t,e,n,A){var r="";do n||t--,r=A(t)+r,t/=e;while(t*e>=e);return r},vt=function(t,e,n,A,r){var i=n-e+1;return(t<0?"-":"")+(y6(Math.abs(t),i,A,function(s){return St(Math.floor(s%i)+e)})+r)},Ms=function(t,e,n){n===void 0&&(n=". ");var A=e.length;return y6(Math.abs(t),A,!1,function(r){return e[Math.floor(r%A)]})+n},el=1,vi=2,Si=4,Au=8,br=function(t,e,n,A,r,i){if(t<-9999||t>9999)return Ac(t,4,r.length>0);var s=Math.abs(t),o=r;if(s===0)return e[0]+o;for(var l=0;s>0&&l<=4;l++){var c=s%10;c===0&&bt(i,el)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&bt(i,vi)||c===1&&l===1&&bt(i,Si)&&t>100||c===1&&l>1&&bt(i,Au)?o=e[c]+(l>0?n[l-1]:"")+o:c===1&&l>0&&(o=n[l-1]+o),s=Math.floor(s/10)}return(t<0?A:"")+o},f3="",d3="",h3="",a1="",Ac=function(t,e,n){var A=n?". ":"",r=n?"":"",i=n?", ":"",s=n?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=vt(t,48,57,!0,A);return o.length<4?"0"+o:o;case 4:return Ms(t,"",r);case 6:return Jo(t,1,3999,u3,3,A).toLowerCase();case 7:return Jo(t,1,3999,u3,3,A);case 8:return vt(t,945,969,!1,A);case 9:return vt(t,97,122,!1,A);case 10:return vt(t,65,90,!1,A);case 11:return vt(t,1632,1641,!0,A);case 12:case 49:return Jo(t,1,9999,c3,3,A);case 35:return Jo(t,1,9999,c3,3,A).toLowerCase();case 13:return vt(t,2534,2543,!0,A);case 14:case 30:return vt(t,6112,6121,!0,A);case 15:return Ms(t,"",r);case 16:return Ms(t,"",r);case 17:case 48:return br(t,"",f3,"",r,vi|Si|Au);case 47:return br(t,"",d3,"",r,el|vi|Si|Au);case 42:return br(t,"",f3,"",r,vi|Si|Au);case 41:return br(t,"",d3,"",r,el|vi|Si|Au);case 26:return br(t,"","",h3,r,0);case 25:return br(t,"","",h3,r,el|vi|Si);case 31:return br(t,"","",a1,i,el|vi|Si);case 33:return br(t,"","",a1,i,0);case 32:return br(t,"","",a1,i,el|vi|Si);case 18:return vt(t,2406,2415,!0,A);case 20:return Jo(t,1,19999,pj,3,A);case 21:return vt(t,2790,2799,!0,A);case 22:return vt(t,2662,2671,!0,A);case 22:return Jo(t,1,10999,hj,3,A);case 23:return Ms(t,"");case 24:return Ms(t,"");case 27:return vt(t,3302,3311,!0,A);case 28:return Ms(t,"",r);case 29:return Ms(t,"",r);case 34:return vt(t,3792,3801,!0,A);case 37:return vt(t,6160,6169,!0,A);case 38:return vt(t,4160,4169,!0,A);case 39:return vt(t,2918,2927,!0,A);case 40:return vt(t,1776,1785,!0,A);case 43:return vt(t,3046,3055,!0,A);case 44:return vt(t,3174,3183,!0,A);case 45:return vt(t,3664,3673,!0,A);case 46:return vt(t,3872,3881,!0,A);case 3:default:return vt(t,48,57,!0,A)}},w6="data-html2canvas-ignore",p3=function(){function t(e,n,A){if(this.context=e,this.options=A,this.scrolledElements=[],this.referenceElement=n,this.counters=new dj,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var A=this,r=gj(e,n);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,c=yj(r).then(function(){return Qn(A,void 0,void 0,function(){var f,d;return mn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Sj),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),f=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Bj(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(l,d)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(Cj(document.doctype)+"<html></html>"),vj(this.referenceElement.ownerDocument,i,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(ly(e,2))debugger;if(g6(e))return this.createCanvasClone(e);if(o3(e))return this.createVideoClone(e);if(l3(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return fy(n)&&(fy(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),a3(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return u1(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var A=[].slice.call(n.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),r=e.cloneNode(!1);return r.textContent=A,r}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var A=e.ownerDocument.createElement("img");try{return A.src=e.toDataURL(),A}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var A=n.getContext("2d");try{return A&&(A.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||A.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},t.prototype.appendChildNode=function(e,n,A){(!gl(n)||!fj(n)&&!n.hasAttribute(w6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!gl(n)||!l3(n))&&e.appendChild(this.cloneNode(n,A))},t.prototype.cloneChildNodes=function(e,n,A){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(gl(i)&&B6(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return r.appendChildNode(n,o,A)})}else this.appendChildNode(n,i,A)},t.prototype.cloneNode=function(e,n){if(h6(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var A=e.ownerDocument.defaultView;if(A&&gl(e)&&(cy(e)||bd(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=A.getComputedStyle(e),s=A.getComputedStyle(e,":before"),o=A.getComputedStyle(e,":after");this.referenceElement===e&&cy(r)&&(this.clonedReferenceElement=r),sC(r)&&Qj(r);var l=this.counters.parse(new WF(this.context,i)),c=this.resolvePseudoContent(e,r,s,Su.BEFORE);a3(e)&&(n=!0),o3(e)||this.cloneChildNodes(e,r,n),c&&r.insertBefore(c,r.firstChild);var f=this.resolvePseudoContent(e,r,o,Su.AFTER);return f&&r.appendChild(f),this.counters.pop(l),(i&&(this.options.copyStyles||bd(e))&&!m6(e)||n)&&u1(i,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(bh(e)||Oh(e))&&(bh(r)||Oh(r))&&(r.value=e.value),r}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,A,r){var i=this;if(A){var s=A.content,o=n.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||A.display==="none")){this.counters.parse(new WF(this.context,A));var l=new lW(this.context,A),c=o.createElement("html2canvaspseudoelement");u1(A,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var p=o.createElement("img");p.src=d.value,p.style.opacity="1",c.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(We);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(zl),w=m[0],F=m[1];if(w&&We(w)){var v=i.counters.getCounterValue(w.value),E=F&&We(F)?oy.parse(i.context,F.value):3;c.appendChild(o.createTextNode(Ac(v,E,!1)))}}else if(d.name==="counters"){var C=d.values.filter(zl),w=C[0],Q=C[1],F=C[2];if(w&&We(w)){var U=i.counters.getCounterValues(w.value),x=F&&We(F)?oy.parse(i.context,F.value):3,M=Q&&Q.type===0?Q.value:"",k=U.map(function(H){return Ac(H,x,!1)}).join(M);c.appendChild(o.createTextNode(k))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(zF(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(zF(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=dy+" "+hy;var f=r===Su.BEFORE?" "+dy:" "+hy;return bd(n)?n.className.baseValue+=f:n.className+=f,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Su;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Su||(Su={}));var gj=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(w6,"true"),t.body.appendChild(n),n},mj=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Bj=function(t){return Promise.all([].slice.call(t.images,0).map(mj))},yj=function(t){return new Promise(function(e,n){var A=t.contentWindow;if(!A)return n("No window assigned for iframe");var r=A.document;A.onload=t.onload=function(){A.onload=t.onload=null;var i=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},wj=["all","d","content"],u1=function(t,e){for(var n=t.length-1;n>=0;n--){var A=t.item(n);wj.indexOf(A)===-1&&e.style.setProperty(A,t.getPropertyValue(A))}return e},Cj=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},vj=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Sj=function(t){var e=t[0],n=t[1],A=t[2];e.scrollLeft=n,e.scrollTop=A},Fj=":before",Ej=":after",dy="___html2canvas___pseudoelement_before",hy="___html2canvas___pseudoelement_after",g3=`{
    content: "" !important;
    display: none !important;
}`,Qj=function(t){Uj(t,"."+dy+Fj+g3+`
         .`+hy+Ej+g3)},Uj=function(t,e){var n=t.ownerDocument;if(n){var A=n.createElement("style");A.textContent=e,t.appendChild(A)}},C6=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),xj=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(f1(e)||Tj(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Qn(this,void 0,void 0,function(){var n,A,r,i,s=this;return mn(this,function(o){switch(o.label){case 0:return n=C6.isSameOrigin(e),A=!c1(e)&&this._options.useCORS===!0&&nn.SUPPORT_CORS_IMAGES&&!n,r=!c1(e)&&!n&&!f1(e)&&typeof this._options.proxy=="string"&&nn.SUPPORT_CORS_XHR&&!A,!n&&this._options.allowTaint===!1&&!c1(e)&&!f1(e)&&!r&&!A?[2]:(i=e,r?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var f=new Image;f.onload=function(){return l(f)},f.onerror=c,(Mj(i)||A)&&(f.crossOrigin="anonymous"),f.src=i,f.complete===!0&&setTimeout(function(){return l(f)},500),s._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,s){var o=nn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(p){return s(p)},!1),d.readAsDataURL(l.response)}else s("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=s;var c=A.indexOf("?")>-1?"&":"?";if(l.open("GET",""+A+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var f=n._options.imageTimeout;l.timeout=f,l.ontimeout=function(){return s("Timed out ("+f+"ms) proxying "+r)}}l.send()})},t}(),kj=/^data:image\/svg\+xml/i,_j=/^data:image\/.*;base64,/i,Ij=/^data:image\/.*/i,Tj=function(t){return nn.SUPPORT_SVG_DRAWING||!Hj(t)},c1=function(t){return Ij.test(t)},Mj=function(t){return _j.test(t)},f1=function(t){return t.substr(0,4)==="blob"},Hj=function(t){return t.substr(-3).toLowerCase()==="svg"||kj.test(t)},Z=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Yo=function(t,e,n){return new Z(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},ud=function(){function t(e,n,A,r){this.type=1,this.start=e,this.startControl=n,this.endControl=A,this.end=r}return t.prototype.subdivide=function(e,n){var A=Yo(this.start,this.startControl,e),r=Yo(this.startControl,this.endControl,e),i=Yo(this.endControl,this.end,e),s=Yo(A,r,e),o=Yo(r,i,e),l=Yo(s,o,e);return n?new t(this.start,A,s,l):new t(l,o,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),yA=function(t){return t.type===1},bj=function(){function t(e){var n=e.styles,A=e.bounds,r=tu(n.borderTopLeftRadius,A.width,A.height),i=r[0],s=r[1],o=tu(n.borderTopRightRadius,A.width,A.height),l=o[0],c=o[1],f=tu(n.borderBottomRightRadius,A.width,A.height),d=f[0],p=f[1],g=tu(n.borderBottomLeftRadius,A.width,A.height),m=g[0],w=g[1],F=[];F.push((i+l)/A.width),F.push((m+d)/A.width),F.push((s+w)/A.height),F.push((c+p)/A.height);var v=Math.max.apply(Math,F);v>1&&(i/=v,s/=v,l/=v,c/=v,d/=v,p/=v,m/=v,w/=v);var E=A.width-l,C=A.height-p,Q=A.width-d,U=A.height-w,x=n.borderTopWidth,M=n.borderRightWidth,k=n.borderBottomWidth,T=n.borderLeftWidth,I=Ze(n.paddingTop,e.bounds.width),H=Ze(n.paddingRight,e.bounds.width),P=Ze(n.paddingBottom,e.bounds.width),V=Ze(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?lt(A.left+T/3,A.top+x/3,i-T/3,s-x/3,Pe.TOP_LEFT):new Z(A.left+T/3,A.top+x/3),this.topRightBorderDoubleOuterBox=i>0||s>0?lt(A.left+E,A.top+x/3,l-M/3,c-x/3,Pe.TOP_RIGHT):new Z(A.left+A.width-M/3,A.top+x/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?lt(A.left+Q,A.top+C,d-M/3,p-k/3,Pe.BOTTOM_RIGHT):new Z(A.left+A.width-M/3,A.top+A.height-k/3),this.bottomLeftBorderDoubleOuterBox=m>0||w>0?lt(A.left+T/3,A.top+U,m-T/3,w-k/3,Pe.BOTTOM_LEFT):new Z(A.left+T/3,A.top+A.height-k/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?lt(A.left+T*2/3,A.top+x*2/3,i-T*2/3,s-x*2/3,Pe.TOP_LEFT):new Z(A.left+T*2/3,A.top+x*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?lt(A.left+E,A.top+x*2/3,l-M*2/3,c-x*2/3,Pe.TOP_RIGHT):new Z(A.left+A.width-M*2/3,A.top+x*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?lt(A.left+Q,A.top+C,d-M*2/3,p-k*2/3,Pe.BOTTOM_RIGHT):new Z(A.left+A.width-M*2/3,A.top+A.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||w>0?lt(A.left+T*2/3,A.top+U,m-T*2/3,w-k*2/3,Pe.BOTTOM_LEFT):new Z(A.left+T*2/3,A.top+A.height-k*2/3),this.topLeftBorderStroke=i>0||s>0?lt(A.left+T/2,A.top+x/2,i-T/2,s-x/2,Pe.TOP_LEFT):new Z(A.left+T/2,A.top+x/2),this.topRightBorderStroke=i>0||s>0?lt(A.left+E,A.top+x/2,l-M/2,c-x/2,Pe.TOP_RIGHT):new Z(A.left+A.width-M/2,A.top+x/2),this.bottomRightBorderStroke=d>0||p>0?lt(A.left+Q,A.top+C,d-M/2,p-k/2,Pe.BOTTOM_RIGHT):new Z(A.left+A.width-M/2,A.top+A.height-k/2),this.bottomLeftBorderStroke=m>0||w>0?lt(A.left+T/2,A.top+U,m-T/2,w-k/2,Pe.BOTTOM_LEFT):new Z(A.left+T/2,A.top+A.height-k/2),this.topLeftBorderBox=i>0||s>0?lt(A.left,A.top,i,s,Pe.TOP_LEFT):new Z(A.left,A.top),this.topRightBorderBox=l>0||c>0?lt(A.left+E,A.top,l,c,Pe.TOP_RIGHT):new Z(A.left+A.width,A.top),this.bottomRightBorderBox=d>0||p>0?lt(A.left+Q,A.top+C,d,p,Pe.BOTTOM_RIGHT):new Z(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=m>0||w>0?lt(A.left,A.top+U,m,w,Pe.BOTTOM_LEFT):new Z(A.left,A.top+A.height),this.topLeftPaddingBox=i>0||s>0?lt(A.left+T,A.top+x,Math.max(0,i-T),Math.max(0,s-x),Pe.TOP_LEFT):new Z(A.left+T,A.top+x),this.topRightPaddingBox=l>0||c>0?lt(A.left+Math.min(E,A.width-M),A.top+x,E>A.width+M?0:Math.max(0,l-M),Math.max(0,c-x),Pe.TOP_RIGHT):new Z(A.left+A.width-M,A.top+x),this.bottomRightPaddingBox=d>0||p>0?lt(A.left+Math.min(Q,A.width-T),A.top+Math.min(C,A.height-k),Math.max(0,d-M),Math.max(0,p-k),Pe.BOTTOM_RIGHT):new Z(A.left+A.width-M,A.top+A.height-k),this.bottomLeftPaddingBox=m>0||w>0?lt(A.left+T,A.top+Math.min(U,A.height-k),Math.max(0,m-T),Math.max(0,w-k),Pe.BOTTOM_LEFT):new Z(A.left+T,A.top+A.height-k),this.topLeftContentBox=i>0||s>0?lt(A.left+T+V,A.top+x+I,Math.max(0,i-(T+V)),Math.max(0,s-(x+I)),Pe.TOP_LEFT):new Z(A.left+T+V,A.top+x+I),this.topRightContentBox=l>0||c>0?lt(A.left+Math.min(E,A.width+T+V),A.top+x+I,E>A.width+T+V?0:l-T+V,c-(x+I),Pe.TOP_RIGHT):new Z(A.left+A.width-(M+H),A.top+x+I),this.bottomRightContentBox=d>0||p>0?lt(A.left+Math.min(Q,A.width-(T+V)),A.top+Math.min(C,A.height+x+I),Math.max(0,d-(M+H)),p-(k+P),Pe.BOTTOM_RIGHT):new Z(A.left+A.width-(M+H),A.top+A.height-(k+P)),this.bottomLeftContentBox=m>0||w>0?lt(A.left+T+V,A.top+U,Math.max(0,m-(T+V)),w-(k+P),Pe.BOTTOM_LEFT):new Z(A.left+T+V,A.top+A.height-(k+P))}return t}(),Pe;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Pe||(Pe={}));var lt=function(t,e,n,A,r){var i=4*((Math.sqrt(2)-1)/3),s=n*i,o=A*i,l=t+n,c=e+A;switch(r){case Pe.TOP_LEFT:return new ud(new Z(t,c),new Z(t,c-o),new Z(l-s,e),new Z(l,e));case Pe.TOP_RIGHT:return new ud(new Z(t,e),new Z(t+s,e),new Z(l,c-o),new Z(l,c));case Pe.BOTTOM_RIGHT:return new ud(new Z(l,e),new Z(l,e+o),new Z(t+s,c),new Z(t,c));case Pe.BOTTOM_LEFT:default:return new ud(new Z(l,c),new Z(l-s,c),new Z(t,e+o),new Z(t,e))}},Dh=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Oj=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Nh=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Dj=function(){function t(e,n,A){this.offsetX=e,this.offsetY=n,this.matrix=A,this.type=0,this.target=6}return t}(),cd=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Nj=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Lj=function(t){return t.type===0},v6=function(t){return t.type===1},Rj=function(t){return t.type===2},m3=function(t,e){return t.length===e.length?t.some(function(n,A){return n===e[A]}):!1},Pj=function(t,e,n,A,r){return t.map(function(i,s){switch(s){case 0:return i.add(e,n);case 1:return i.add(e+A,n);case 2:return i.add(e+A,n+r);case 3:return i.add(e,n+r)}return i})},S6=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),F6=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new bj(this.container),this.container.styles.opacity<1&&this.effects.push(new Nj(this.container.styles.opacity)),this.container.styles.transform!==null){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Dj(A,r,i))}if(this.container.styles.overflowX!==0){var s=Dh(this.curves),o=Nh(this.curves);m3(s,o)?this.effects.push(new cd(s,6)):(this.effects.push(new cd(s,2)),this.effects.push(new cd(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,A=this.parent,r=this.effects.slice(0);A;){var i=A.effects.filter(function(l){return!v6(l)});if(n||A.container.styles.position!==0||!A.parent){if(r.unshift.apply(r,i),n=[2,3].indexOf(A.container.styles.position)===-1,A.container.styles.overflowX!==0){var s=Dh(A.curves),o=Nh(A.curves);m3(s,o)||r.unshift(new cd(o,6))}}else r.unshift.apply(r,i);A=A.parent}return r.filter(function(l){return bt(l.target,e)})},t}(),py=function(t,e,n,A){t.container.elements.forEach(function(r){var i=bt(r.flags,4),s=bt(r.flags,2),o=new F6(r,t);bt(r.styles.display,2048)&&A.push(o);var l=bt(r.flags,8)?[]:A;if(i||s){var c=i||r.styles.isPositioned()?n:e,f=new S6(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var d=r.styles.zIndex.order;if(d<0){var p=0;c.negativeZIndex.some(function(m,w){return d>m.element.container.styles.zIndex.order?(p=w,!1):p>0}),c.negativeZIndex.splice(p,0,f)}else if(d>0){var g=0;c.positiveZIndex.some(function(m,w){return d>=m.element.container.styles.zIndex.order?(g=w+1,!1):g>0}),c.positiveZIndex.splice(g,0,f)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else r.styles.isFloating()?c.nonPositionedFloats.push(f):c.nonPositionedInlineLevel.push(f);py(o,f,i?f:n,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),py(o,e,n,l);bt(r.flags,8)&&E6(r,l)})},E6=function(t,e){for(var n=t instanceof uy?t.start:1,A=t instanceof uy?t.reversed:!1,r=0;r<e.length;r++){var i=e[r];i.container instanceof l6&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=Ac(n,i.container.styles.listStyleType,!0),n+=A?-1:1}},Kj=function(t){var e=new F6(t,null),n=new S6(e),A=[];return py(e,n,n,A),E6(e.container,A),n},B3=function(t,e){switch(e){case 0:return FA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return FA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return FA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return FA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Gj=function(t,e){switch(e){case 0:return FA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return FA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return FA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return FA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Vj=function(t,e){switch(e){case 0:return FA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return FA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return FA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return FA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},zj=function(t,e){switch(e){case 0:return fd(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return fd(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return fd(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return fd(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},fd=function(t,e){var n=[];return yA(t)?n.push(t.subdivide(.5,!1)):n.push(t),yA(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},FA=function(t,e,n,A){var r=[];return yA(t)?r.push(t.subdivide(.5,!1)):r.push(t),yA(n)?r.push(n.subdivide(.5,!0)):r.push(n),yA(A)?r.push(A.subdivide(.5,!0).reverse()):r.push(A),yA(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},Q6=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Lh=function(t){var e=t.styles,n=t.bounds,A=Ze(e.paddingLeft,n.width),r=Ze(e.paddingRight,n.width),i=Ze(e.paddingTop,n.width),s=Ze(e.paddingBottom,n.width);return n.add(A+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+A+r),-(e.borderTopWidth+e.borderBottomWidth+i+s))},Wj=function(t,e){return t===0?e.bounds:t===2?Lh(e):Q6(e)},jj=function(t,e){return t===0?e.bounds:t===2?Lh(e):Q6(e)},d1=function(t,e,n){var A=Wj(tl(t.styles.backgroundOrigin,e),t),r=jj(tl(t.styles.backgroundClip,e),t),i=Xj(tl(t.styles.backgroundSize,e),n,A),s=i[0],o=i[1],l=tu(tl(t.styles.backgroundPosition,e),A.width-s,A.height-o),c=Jj(tl(t.styles.backgroundRepeat,e),l,i,A,r),f=Math.round(A.left+l[0]),d=Math.round(A.top+l[1]);return[c,f,d,s,o]},$o=function(t){return We(t)&&t.value===Ul.AUTO},dd=function(t){return typeof t=="number"},Xj=function(t,e,n){var A=e[0],r=e[1],i=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(Ut(s)&&o&&Ut(o))return[Ze(s,n.width),Ze(o,n.height)];var l=dd(i);if(We(s)&&(s.value===Ul.CONTAIN||s.value===Ul.COVER)){if(dd(i)){var c=n.width/n.height;return c<i!=(s.value===Ul.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var f=dd(A),d=dd(r),p=f||d;if($o(s)&&(!o||$o(o))){if(f&&d)return[A,r];if(!l&&!p)return[n.width,n.height];if(p&&l){var g=f?A:r*i,m=d?r:A/i;return[g,m]}var w=f?A:n.width,F=d?r:n.height;return[w,F]}if(l){var v=0,E=0;return Ut(s)?v=Ze(s,n.width):Ut(o)&&(E=Ze(o,n.height)),$o(s)?v=E*i:(!o||$o(o))&&(E=v/i),[v,E]}var C=null,Q=null;if(Ut(s)?C=Ze(s,n.width):o&&Ut(o)&&(Q=Ze(o,n.height)),C!==null&&(!o||$o(o))&&(Q=f&&d?C/A*r:n.height),Q!==null&&$o(s)&&(C=f&&d?Q/r*A:n.width),C!==null&&Q!==null)return[C,Q];throw new Error("Unable to calculate background-size for element")},tl=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Jj=function(t,e,n,A,r){var i=e[0],s=e[1],o=n[0],l=n[1];switch(t){case 2:return[new Z(Math.round(A.left),Math.round(A.top+s)),new Z(Math.round(A.left+A.width),Math.round(A.top+s)),new Z(Math.round(A.left+A.width),Math.round(l+A.top+s)),new Z(Math.round(A.left),Math.round(l+A.top+s))];case 3:return[new Z(Math.round(A.left+i),Math.round(A.top)),new Z(Math.round(A.left+i+o),Math.round(A.top)),new Z(Math.round(A.left+i+o),Math.round(A.height+A.top)),new Z(Math.round(A.left+i),Math.round(A.height+A.top))];case 1:return[new Z(Math.round(A.left+i),Math.round(A.top+s)),new Z(Math.round(A.left+i+o),Math.round(A.top+s)),new Z(Math.round(A.left+i+o),Math.round(A.top+s+l)),new Z(Math.round(A.left+i),Math.round(A.top+s+l))];default:return[new Z(Math.round(r.left),Math.round(r.top)),new Z(Math.round(r.left+r.width),Math.round(r.top)),new Z(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Z(Math.round(r.left),Math.round(r.height+r.top))]}},Yj="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y3="Hidden Text",$j=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var A=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=n,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",s.appendChild(A),r.src=Yj,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(y3)),A.appendChild(i),A.appendChild(r);var o=r.offsetTop-i.offsetTop+2;A.removeChild(i),A.appendChild(this._document.createTextNode(y3)),A.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-A.offsetTop+2;return s.removeChild(A),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var A=e+" "+n;return typeof this._data[A]>"u"&&(this._data[A]=this.parseMetrics(e,n)),this._data[A]},t}(),U6=function(){function t(e,n){this.context=e,this.options=n}return t}(),qj=1e4,Zj=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r._activeEffects=[],r.canvas=A.canvas?A.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),A.canvas||(r.canvas.width=Math.floor(A.width*A.scale),r.canvas.height=Math.floor(A.height*A.scale),r.canvas.style.width=A.width+"px",r.canvas.style.height=A.height+"px"),r.fontMetrics=new $j(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-A.x,-A.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),r}return e.prototype.applyEffects=function(n){for(var A=this;this._activeEffects.length;)this.popEffect();n.forEach(function(r){return A.applyEffect(r)})},e.prototype.applyEffect=function(n){this.ctx.save(),Rj(n)&&(this.ctx.globalAlpha=n.opacity),Lj(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),v6(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Qn(this,void 0,void 0,function(){var A;return mn(this,function(r){switch(r.label){case 0:return A=n.element.container.styles,A.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Qn(this,void 0,void 0,function(){return mn(this,function(A){switch(A.label){case 0:if(bt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(n)];case 2:A.sent(),A.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,A,r){var i=this;if(A===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+r);else{var s=rC(n.text);s.reduce(function(o,l){return i.ctx.fillText(l,o,n.bounds.top+r),o+i.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var A=n.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),r=rX(n.fontFamily).join(", "),i=wc(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,A,n.fontWeight,i,r].join(" "),r,i]},e.prototype.renderTextNode=function(n,A){return Qn(this,void 0,void 0,function(){var r,i,s,o,l,c,f,d,p=this;return mn(this,function(g){return r=this.createFontStyle(A),i=r[0],s=r[1],o=r[2],this.ctx.font=i,this.ctx.direction=A.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(s,o),c=l.baseline,f=l.middle,d=A.paintOrder,n.textBounds.forEach(function(m){d.forEach(function(w){switch(w){case 0:p.ctx.fillStyle=Vt(A.color),p.renderTextWithLetterSpacing(m,A.letterSpacing,c);var F=A.textShadow;F.length&&m.text.trim().length&&(F.slice(0).reverse().forEach(function(v){p.ctx.shadowColor=Vt(v.color),p.ctx.shadowOffsetX=v.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=v.offsetY.number*p.options.scale,p.ctx.shadowBlur=v.blur.number,p.renderTextWithLetterSpacing(m,A.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),A.textDecorationLine.length&&(p.ctx.fillStyle=Vt(A.textDecorationColor||A.color),A.textDecorationLine.forEach(function(v){switch(v){case 1:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:p.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+f),m.bounds.width,1);break}}));break;case 1:A.webkitTextStrokeWidth&&m.text.trim().length&&(p.ctx.strokeStyle=Vt(A.webkitTextStrokeColor),p.ctx.lineWidth=A.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,A,r){if(r&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Lh(n),s=Nh(A);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Qn(this,void 0,void 0,function(){var A,r,i,s,o,l,E,E,c,f,d,p,Q,g,m,U,w,F,v,E,C,Q,U;return mn(this,function(x){switch(x.label){case 0:this.applyEffects(n.getEffects(4)),A=n.container,r=n.curves,i=A.styles,s=0,o=A.textNodes,x.label=1;case 1:return s<o.length?(l=o[s],[4,this.renderTextNode(l,i)]):[3,4];case 2:x.sent(),x.label=3;case 3:return s++,[3,1];case 4:if(!(A instanceof i6))return[3,8];x.label=5;case 5:return x.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return E=x.sent(),this.renderReplacedElement(A,r,E),[3,8];case 7:return x.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof s6&&this.renderReplacedElement(A,r,A.canvas),!(A instanceof o6))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return E=x.sent(),this.renderReplacedElement(A,r,E),[3,12];case 11:return x.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof c6&&A.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}),[4,c.render(A.tree)]):[3,14];case 13:f=x.sent(),A.width&&A.height&&this.ctx.drawImage(f,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),x.label=14;case 14:if(A instanceof iC&&(d=Math.min(A.bounds.width,A.bounds.height),A.type===Mh?A.checked&&(this.ctx.save(),this.path([new Z(A.bounds.left+d*.39363,A.bounds.top+d*.79),new Z(A.bounds.left+d*.16,A.bounds.top+d*.5549),new Z(A.bounds.left+d*.27347,A.bounds.top+d*.44071),new Z(A.bounds.left+d*.39694,A.bounds.top+d*.5649),new Z(A.bounds.left+d*.72983,A.bounds.top+d*.23),new Z(A.bounds.left+d*.84,A.bounds.top+d*.34085),new Z(A.bounds.left+d*.39363,A.bounds.top+d*.79)]),this.ctx.fillStyle=Vt(s3),this.ctx.fill(),this.ctx.restore()):A.type===Hh&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+d/2,A.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Vt(s3),this.ctx.fill(),this.ctx.restore())),eX(A)&&A.value.length){switch(p=this.createFontStyle(i),Q=p[0],g=p[1],m=this.fontMetrics.getMetrics(Q,g).baseline,this.ctx.font=Q,this.ctx.fillStyle=Vt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nX(A.styles.textAlign),U=Lh(A),w=0,A.styles.textAlign){case 1:w+=U.width/2;break;case 2:w+=U.width;break}F=U.add(w,0,0,-U.height/2+1),this.ctx.save(),this.path([new Z(U.left,U.top),new Z(U.left+U.width,U.top),new Z(U.left+U.width,U.top+U.height),new Z(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vu(A.value,F),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bt(A.styles.display,2048))return[3,20];if(A.styles.listStyleImage===null)return[3,19];if(v=A.styles.listStyleImage,v.type!==0)return[3,18];E=void 0,C=v.url,x.label=15;case 15:return x.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return E=x.sent(),this.ctx.drawImage(E,A.bounds.left-(E.width+10),A.bounds.top),[3,18];case 17:return x.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:n.listValue&&A.styles.listStyleType!==-1&&(Q=this.createFontStyle(i)[0],this.ctx.font=Q,this.ctx.fillStyle=Vt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new ei(A.bounds.left,A.bounds.top+Ze(A.styles.paddingTop,A.bounds.width),A.bounds.width,GF(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vu(n.listValue,U),i.letterSpacing,GF(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),x.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Qn(this,void 0,void 0,function(){var A,r,v,i,s,v,o,l,v,c,f,v,d,p,v,g,m,v,w,F,v;return mn(this,function(E){switch(E.label){case 0:if(bt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:E.sent(),A=0,r=n.negativeZIndex,E.label=2;case 2:return A<r.length?(v=r[A],[4,this.renderStack(v)]):[3,5];case 3:E.sent(),E.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:E.sent(),i=0,s=n.nonInlineLevel,E.label=7;case 7:return i<s.length?(v=s[i],[4,this.renderNode(v)]):[3,10];case 8:E.sent(),E.label=9;case 9:return i++,[3,7];case 10:o=0,l=n.nonPositionedFloats,E.label=11;case 11:return o<l.length?(v=l[o],[4,this.renderStack(v)]):[3,14];case 12:E.sent(),E.label=13;case 13:return o++,[3,11];case 14:c=0,f=n.nonPositionedInlineLevel,E.label=15;case 15:return c<f.length?(v=f[c],[4,this.renderStack(v)]):[3,18];case 16:E.sent(),E.label=17;case 17:return c++,[3,15];case 18:d=0,p=n.inlineLevel,E.label=19;case 19:return d<p.length?(v=p[d],[4,this.renderNode(v)]):[3,22];case 20:E.sent(),E.label=21;case 21:return d++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,E.label=23;case 23:return g<m.length?(v=m[g],[4,this.renderStack(v)]):[3,26];case 24:E.sent(),E.label=25;case 25:return g++,[3,23];case 26:w=0,F=n.positiveZIndex,E.label=27;case 27:return w<F.length?(v=F[w],[4,this.renderStack(v)]):[3,30];case 28:E.sent(),E.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var A=this;n.forEach(function(r,i){var s=yA(r)?r.start:r;i===0?A.ctx.moveTo(s.x,s.y):A.ctx.lineTo(s.x,s.y),yA(r)&&A.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(n,A,r,i){this.path(n),this.ctx.fillStyle=A,this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)},e.prototype.resizeImage=function(n,A,r){var i;if(n.width===A&&n.height===r)return n;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,A),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,A,r),o},e.prototype.renderBackgroundImage=function(n){return Qn(this,void 0,void 0,function(){var A,r,i,s,o,l;return mn(this,function(c){switch(c.label){case 0:A=n.styles.backgroundImage.length-1,r=function(f){var d,p,g,I,re,ce,V,Y,k,m,I,re,ce,V,Y,w,F,v,E,C,Q,U,x,M,k,T,I,H,P,V,Y,J,re,ce,K,q,j,de,$,ue,ge,Re;return mn(this,function(be){switch(be.label){case 0:if(f.type!==0)return[3,5];d=void 0,p=f.url,be.label=1;case 1:return be.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return d=be.sent(),[3,4];case 3:return be.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(g=d1(n,A,[d.width,d.height,d.width/d.height]),I=g[0],re=g[1],ce=g[2],V=g[3],Y=g[4],k=i.ctx.createPattern(i.resizeImage(d,V,Y),"repeat"),i.renderRepeat(I,k,re,ce)),[3,6];case 5:LV(f)?(m=d1(n,A,[null,null,null]),I=m[0],re=m[1],ce=m[2],V=m[3],Y=m[4],w=HV(f.angle,V,Y),F=w[0],v=w[1],E=w[2],C=w[3],Q=w[4],U=document.createElement("canvas"),U.width=V,U.height=Y,x=U.getContext("2d"),M=x.createLinearGradient(v,C,E,Q),PF(f.stops,F).forEach(function(b){return M.addColorStop(b.stop,Vt(b.color))}),x.fillStyle=M,x.fillRect(0,0,V,Y),V>0&&Y>0&&(k=i.ctx.createPattern(U,"repeat"),i.renderRepeat(I,k,re,ce))):RV(f)&&(T=d1(n,A,[null,null,null]),I=T[0],H=T[1],P=T[2],V=T[3],Y=T[4],J=f.position.length===0?[tC]:f.position,re=Ze(J[0],V),ce=Ze(J[J.length-1],Y),K=bV(f,re,ce,V,Y),q=K[0],j=K[1],q>0&&j>0&&(de=i.ctx.createRadialGradient(H+re,P+ce,0,H+re,P+ce,q),PF(f.stops,q*2).forEach(function(b){return de.addColorStop(b.stop,Vt(b.color))}),i.path(I),i.ctx.fillStyle=de,q!==j?($=n.bounds.left+.5*n.bounds.width,ue=n.bounds.top+.5*n.bounds.height,ge=j/q,Re=1/ge,i.ctx.save(),i.ctx.translate($,ue),i.ctx.transform(1,0,0,ge,0,0),i.ctx.translate(-$,-ue),i.ctx.fillRect(H,Re*(P-ue)+ue,V,Y*Re),i.ctx.restore()):i.ctx.fill())),be.label=6;case 6:return A--,[2]}})},i=this,s=0,o=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return s<o.length?(l=o[s],[5,r(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,A,r){return Qn(this,void 0,void 0,function(){return mn(this,function(i){return this.path(B3(r,A)),this.ctx.fillStyle=Vt(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,A,r,i){return Qn(this,void 0,void 0,function(){var s,o;return mn(this,function(l){switch(l.label){case 0:return A<3?[4,this.renderSolidBorder(n,r,i)]:[3,2];case 1:return l.sent(),[2];case 2:return s=Gj(i,r),this.path(s),this.ctx.fillStyle=Vt(n),this.ctx.fill(),o=Vj(i,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Qn(this,void 0,void 0,function(){var A,r,i,s,o,l,c,f,d=this;return mn(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),A=n.container.styles,r=!es(A.backgroundColor)||A.backgroundImage.length,i=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],s=tX(tl(A.backgroundClip,0),n.curves),r||A.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),es(A.backgroundColor)||(this.ctx.fillStyle=Vt(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=Dh(n.curves),w=g.inset?0:qj,F=Pj(m,-w+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(F)):(d.mask(m),d.ctx.clip(),d.path(F)),d.ctx.shadowOffsetX=g.offsetX.number+w,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=Vt(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?Vt(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=i,p.label=3;case 3:return l<c.length?(f=c[l],f.style!==0&&!es(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,n.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,A,r,i,s){return Qn(this,void 0,void 0,function(){var o,l,c,f,d,p,g,m,w,F,v,E,C,Q,U,x,U,x;return mn(this,function(M){return this.ctx.save(),o=zj(i,r),l=B3(i,r),s===2&&(this.path(l),this.ctx.clip()),yA(l[0])?(c=l[0].start.x,f=l[0].start.y):(c=l[0].x,f=l[0].y),yA(l[1])?(d=l[1].end.x,p=l[1].end.y):(d=l[1].x,p=l[1].y),r===0||r===2?g=Math.abs(c-d):g=Math.abs(f-p),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(l.slice(0,2)),m=A<3?A*3:A*2,w=A<3?A*2:A,s===3&&(m=A,w=A),F=!0,g<=m*2?F=!1:g<=m*2+w?(v=g/(2*m+w),m*=v,w*=v):(E=Math.floor((g+w)/(m+w)),C=(g-E*m)/(E-1),Q=(g-(E+1)*m)/E,w=Q<=0||Math.abs(w-C)<Math.abs(w-Q)?C:Q),F&&(s===3?this.ctx.setLineDash([0,m+w]):this.ctx.setLineDash([m,w])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=A*2+1.1,this.ctx.strokeStyle=Vt(n),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(yA(l[0])&&(U=l[3],x=l[0],this.ctx.beginPath(),this.formatPath([new Z(U.end.x,U.end.y),new Z(x.start.x,x.start.y)]),this.ctx.stroke()),yA(l[1])&&(U=l[1],x=l[2],this.ctx.beginPath(),this.formatPath([new Z(U.end.x,U.end.y),new Z(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Qn(this,void 0,void 0,function(){var A;return mn(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=Kj(n),[4,this.renderStack(A)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(U6),eX=function(t){return t instanceof u6||t instanceof a6?!0:t instanceof iC&&t.type!==Hh&&t.type!==Mh},tX=function(t,e){switch(t){case 0:return Dh(e);case 2:return Oj(e);case 1:default:return Nh(e)}},nX=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},AX=["-apple-system","system-ui"],rX=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return AX.indexOf(e)===-1}):t},iX=function(t){qA(e,t);function e(n,A){var r=t.call(this,n,A)||this;return r.canvas=A.canvas?A.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=A,r.canvas.width=Math.floor(A.width*A.scale),r.canvas.height=Math.floor(A.height*A.scale),r.canvas.style.width=A.width+"px",r.canvas.style.height=A.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-A.x,-A.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),r}return e.prototype.render=function(n){return Qn(this,void 0,void 0,function(){var A,r;return mn(this,function(i){switch(i.label){case 0:return A=ay(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,sX(A)];case 1:return r=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(U6),sX=function(t){return new Promise(function(e,n){var A=new Image;A.onload=function(){e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},oX=function(){function t(e){var n=e.id,A=e.enabled;this.id=n,this.enabled=A,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zf([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zf([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),lX=function(){function t(e,n){var A;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new oX({id:this.instanceName,enabled:e.logging}),this.cache=(A=e.cache)!==null&&A!==void 0?A:new xj(this,e)}return t.instanceCount=1,t}(),aX=function(t,e){return e===void 0&&(e={}),uX(t,e)};typeof window<"u"&&C6.setContext(window);var uX=function(t,e){return Qn(void 0,void 0,void 0,function(){var n,A,r,i,s,o,l,c,f,d,p,g,m,w,F,v,E,C,Q,U,M,x,M,k,T,I,H,P,V,Y,J,re,ce,K,q,j,de,$,ue,ge;return mn(this,function(Re){switch(Re.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(A=n.defaultView,!A)throw new Error("Document is not attached to a Window");return r={allowTaint:(k=e.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(I=e.useCORS)!==null&&I!==void 0?I:!1},i=XB({logging:(H=e.logging)!==null&&H!==void 0?H:!0,cache:e.cache},r),s={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:A.innerWidth,windowHeight:(V=e.windowHeight)!==null&&V!==void 0?V:A.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:A.pageXOffset,scrollY:(J=e.scrollY)!==null&&J!==void 0?J:A.pageYOffset},o=new ei(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),l=new lX(i,o),c=(re=e.foreignObjectRendering)!==null&&re!==void 0?re:!1,f={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new p3(l,t,f),p=d.clonedReferenceElement,p?[4,d.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Re.sent(),m=sC(p)||cj(p)?PK(p.ownerDocument):dg(l,p),w=m.width,F=m.height,v=m.left,E=m.top,C=cX(l,p,e.backgroundColor),Q={canvas:e.canvas,backgroundColor:C,scale:(q=(K=e.scale)!==null&&K!==void 0?K:A.devicePixelRatio)!==null&&q!==void 0?q:1,x:((j=e.x)!==null&&j!==void 0?j:0)+v,y:((de=e.y)!==null&&de!==void 0?de:0)+E,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(w),height:(ue=e.height)!==null&&ue!==void 0?ue:Math.ceil(F)},c?(l.logger.debug("Document cloned, using foreign object rendering"),M=new iX(l,Q),[4,M.render(p)]):[3,3];case 2:return U=Re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+v+","+E+" with size "+w+"x"+F+" using computed rendering"),l.logger.debug("Starting DOM parsing"),x=d6(l,p),C===x.styles.backgroundColor&&(x.styles.backgroundColor=Xr.TRANSPARENT),l.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),M=new Zj(l,Q),[4,M.render(x)];case 4:U=Re.sent(),Re.label=5;case 5:return(!((ge=e.removeContainer)!==null&&ge!==void 0)||ge)&&(p3.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},cX=function(t,e,n){var A=e.ownerDocument,r=A.documentElement?wu(t,getComputedStyle(A.documentElement).backgroundColor):Xr.TRANSPARENT,i=A.body?wu(t,getComputedStyle(A.body).backgroundColor):Xr.TRANSPARENT,s=typeof n=="string"?wu(t,n):n===null?Xr.TRANSPARENT:4294967295;return e===A.documentElement?es(r)?es(i)?s:i:r:s};const fX=Dt.create({name:"fontSize",addAttributes(){return{size:{default:"16px",parseHTML:t=>t.style.fontSize||"16px",renderHTML:t=>({style:`font-size: ${t.size}`})}}},addGlobalAttributes(){return[{types:["textStyle"],attributes:{fontSize:{default:"16px",parseHTML:t=>t.style.fontSize,renderHTML:t=>({style:`font-size: ${t.fontSize}`})}}}]}}),dX=["8px","10px","12px","14px","16px","18px","20px","24px","28px","32px"],hX=()=>{const t=Zp(),e=ae.useRef(null),[n,A]=ae.useState({x:0,y:0}),[r,i]=ae.useState({width:0,height:0}),s=Wr(p=>{const g=p.canvas.selectedShapeId;return p.canvas.shapes.find(m=>m.id===g)}),o=Wr(p=>p.canvas.scale),l=Wr(p=>p.canvas.stagePosition);ae.useEffect(()=>{if(s){const p=document.querySelector(".konvajs-content");if(p){const g=p.getBoundingClientRect(),m=s.x*o,w=s.y*o,F=s.width*o,v=s.height*o;A({x:g.left+m+l.x,y:g.top+w+l.y}),i({width:F,height:v})}}},[s,o,l]);const c=IP({extensions:[HK,OK,fX,DK,NK,RK,LK.configure({types:["paragraph"],alignments:["left","center","right"]})],content:(s==null?void 0:s.text)||"",editorProps:{attributes:{class:"text-editor__content"}}}),f=ae.useCallback(async()=>{if(!(!s||!e.current||!c))try{const g=(await aX(e.current,{backgroundColor:null,logging:!1,scale:K5,useCORS:!0,onclone:w=>{const F=w.createElement("style");F.innerHTML=`
            * { font-family: ${c.getAttributes("textStyle").fontFamily||FB} !important; }
          `,w.head.appendChild(F)}})).toDataURL("image/png"),m={...s,text:c.getHTML(),textImageUrl:g};t(hu(m)),t(fB(!1))}catch(p){console.error("Failed to convert text to image:",p)}},[t,c,s]),d=ae.useCallback(()=>{if(!s||!c)return;const p={...s,text:c.getHTML()};t(hu(p))},[t,c,s]);return!s||!c?null:Be.jsxs(Be.Fragment,{children:[Be.jsxs("div",{className:"text-editor__toolbar",children:[Be.jsx("select",{value:c.getAttributes("textStyle").fontSize||"16px",onChange:p=>{c.chain().focus().setMark("textStyle",{fontSize:p.target.value}).run()},children:dX.map(p=>Be.jsx("option",{value:p,children:p},p))}),Be.jsx("select",{value:c.getAttributes("textStyle").fontFamily||FB,onChange:p=>c.chain().focus().setFontFamily(p.target.value).run(),children:lO.map(p=>Be.jsx("option",{value:p,children:p},p))}),Be.jsx("button",{onClick:()=>c.chain().focus().toggleBold().run(),className:c.isActive("bold")?"is-active":"",children:"B"}),Be.jsx("button",{onClick:()=>c.chain().focus().toggleItalic().run(),className:c.isActive("italic")?"is-active":"",children:"I"}),Be.jsx("button",{onClick:()=>c.chain().focus().toggleUnderline().run(),className:c.isActive("underline")?"is-active":"",children:"U"}),Be.jsx("button",{onClick:()=>c.chain().focus().setTextAlign("left").run(),className:c.isActive({textAlign:"left"})?"is-active":"",children:""}),Be.jsx("button",{onClick:()=>c.chain().focus().setTextAlign("center").run(),className:c.isActive({textAlign:"center"})?"is-active":"",children:""}),Be.jsx("button",{onClick:()=>c.chain().focus().setTextAlign("right").run(),className:c.isActive({textAlign:"right"})?"is-active":"",children:""}),Be.jsx("input",{type:"color",value:c.getAttributes("textStyle").color||P5,onChange:p=>c.chain().focus().setColor(p.target.value).run()}),Be.jsx("button",{className:"text-editor__close",onClick:f,children:""}),Be.jsx("button",{className:"text-editor__header-close",onClick:()=>t(fB(!1)),children:""})]}),Be.jsx("div",{className:"text-editor",style:{left:`${n.x}px`,top:`${n.y}px`,width:`${r.width}px`,height:`${r.height}px`,transform:"scale(1)",transformOrigin:"top left"},children:Be.jsx("div",{className:"text-editor__container",ref:e,children:Be.jsx(CP,{editor:c,onChange:d})})})]})};const pX=()=>{const t=Wr(e=>e.tool.isEditing);return Be.jsxs("div",{className:"app",children:[Be.jsx(dO,{}),Be.jsx(hO,{}),t&&Be.jsx(hX,{})]})};MQ(document.getElementById("root")).render(Be.jsx(ae.StrictMode,{children:Be.jsx(q_,{store:YI,children:Be.jsx(pX,{})})}));
